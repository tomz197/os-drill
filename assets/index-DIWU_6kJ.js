function Ad(e,n){for(var t=0;t<n.length;t++){const o=n[t];if(typeof o!="string"&&!Array.isArray(o)){for(const r in o)if(r!=="default"&&!(r in e)){const a=Object.getOwnPropertyDescriptor(o,r);a&&Object.defineProperty(e,r,a.get?a:{enumerable:!0,get:()=>o[r]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))o(r);new MutationObserver(r=>{for(const a of r)if(a.type==="childList")for(const i of a.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&o(i)}).observe(document,{childList:!0,subtree:!0});function t(r){const a={};return r.integrity&&(a.integrity=r.integrity),r.referrerPolicy&&(a.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?a.credentials="include":r.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function o(r){if(r.ep)return;r.ep=!0;const a=t(r);fetch(r.href,a)}})();function Id(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Fd={exports:{}},ri={},$d={exports:{}},G={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Dr=Symbol.for("react.element"),Bf=Symbol.for("react.portal"),Wf=Symbol.for("react.fragment"),Kf=Symbol.for("react.strict_mode"),Hf=Symbol.for("react.profiler"),Zf=Symbol.for("react.provider"),Jf=Symbol.for("react.context"),Qf=Symbol.for("react.forward_ref"),Gf=Symbol.for("react.suspense"),Xf=Symbol.for("react.memo"),Yf=Symbol.for("react.lazy"),Au=Symbol.iterator;function qf(e){return e===null||typeof e!="object"?null:(e=Au&&e[Au]||e["@@iterator"],typeof e=="function"?e:null)}var Ud={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Vd=Object.assign,Bd={};function Ro(e,n,t){this.props=e,this.context=n,this.refs=Bd,this.updater=t||Ud}Ro.prototype.isReactComponent={};Ro.prototype.setState=function(e,n){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,n,"setState")};Ro.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function Wd(){}Wd.prototype=Ro.prototype;function jl(e,n,t){this.props=e,this.context=n,this.refs=Bd,this.updater=t||Ud}var bl=jl.prototype=new Wd;bl.constructor=jl;Vd(bl,Ro.prototype);bl.isPureReactComponent=!0;var Iu=Array.isArray,Kd=Object.prototype.hasOwnProperty,gl={current:null},Hd={key:!0,ref:!0,__self:!0,__source:!0};function Zd(e,n,t){var o,r={},a=null,i=null;if(n!=null)for(o in n.ref!==void 0&&(i=n.ref),n.key!==void 0&&(a=""+n.key),n)Kd.call(n,o)&&!Hd.hasOwnProperty(o)&&(r[o]=n[o]);var s=arguments.length-2;if(s===1)r.children=t;else if(1<s){for(var l=Array(s),u=0;u<s;u++)l[u]=arguments[u+2];r.children=l}if(e&&e.defaultProps)for(o in s=e.defaultProps,s)r[o]===void 0&&(r[o]=s[o]);return{$$typeof:Dr,type:e,key:a,ref:i,props:r,_owner:gl.current}}function ek(e,n){return{$$typeof:Dr,type:e.type,key:n,ref:e.ref,props:e.props,_owner:e._owner}}function wl(e){return typeof e=="object"&&e!==null&&e.$$typeof===Dr}function nk(e){var n={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(t){return n[t]})}var Fu=/\/+/g;function Ni(e,n){return typeof e=="object"&&e!==null&&e.key!=null?nk(""+e.key):n.toString(36)}function ha(e,n,t,o,r){var a=typeof e;(a==="undefined"||a==="boolean")&&(e=null);var i=!1;if(e===null)i=!0;else switch(a){case"string":case"number":i=!0;break;case"object":switch(e.$$typeof){case Dr:case Bf:i=!0}}if(i)return i=e,r=r(i),e=o===""?"."+Ni(i,0):o,Iu(r)?(t="",e!=null&&(t=e.replace(Fu,"$&/")+"/"),ha(r,n,t,"",function(u){return u})):r!=null&&(wl(r)&&(r=ek(r,t+(!r.key||i&&i.key===r.key?"":(""+r.key).replace(Fu,"$&/")+"/")+e)),n.push(r)),1;if(i=0,o=o===""?".":o+":",Iu(e))for(var s=0;s<e.length;s++){a=e[s];var l=o+Ni(a,s);i+=ha(a,n,t,l,r)}else if(l=qf(e),typeof l=="function")for(e=l.call(e),s=0;!(a=e.next()).done;)a=a.value,l=o+Ni(a,s++),i+=ha(a,n,t,l,r);else if(a==="object")throw n=String(e),Error("Objects are not valid as a React child (found: "+(n==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":n)+"). If you meant to render a collection of children, use an array instead.");return i}function Jr(e,n,t){if(e==null)return e;var o=[],r=0;return ha(e,o,"","",function(a){return n.call(t,a,r++)}),o}function tk(e){if(e._status===-1){var n=e._result;n=n(),n.then(function(t){(e._status===0||e._status===-1)&&(e._status=1,e._result=t)},function(t){(e._status===0||e._status===-1)&&(e._status=2,e._result=t)}),e._status===-1&&(e._status=0,e._result=n)}if(e._status===1)return e._result.default;throw e._result}var Ae={current:null},ya={transition:null},ok={ReactCurrentDispatcher:Ae,ReactCurrentBatchConfig:ya,ReactCurrentOwner:gl};function Jd(){throw Error("act(...) is not supported in production builds of React.")}G.Children={map:Jr,forEach:function(e,n,t){Jr(e,function(){n.apply(this,arguments)},t)},count:function(e){var n=0;return Jr(e,function(){n++}),n},toArray:function(e){return Jr(e,function(n){return n})||[]},only:function(e){if(!wl(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};G.Component=Ro;G.Fragment=Wf;G.Profiler=Hf;G.PureComponent=jl;G.StrictMode=Kf;G.Suspense=Gf;G.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ok;G.act=Jd;G.cloneElement=function(e,n,t){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var o=Vd({},e.props),r=e.key,a=e.ref,i=e._owner;if(n!=null){if(n.ref!==void 0&&(a=n.ref,i=gl.current),n.key!==void 0&&(r=""+n.key),e.type&&e.type.defaultProps)var s=e.type.defaultProps;for(l in n)Kd.call(n,l)&&!Hd.hasOwnProperty(l)&&(o[l]=n[l]===void 0&&s!==void 0?s[l]:n[l])}var l=arguments.length-2;if(l===1)o.children=t;else if(1<l){s=Array(l);for(var u=0;u<l;u++)s[u]=arguments[u+2];o.children=s}return{$$typeof:Dr,type:e.type,key:r,ref:a,props:o,_owner:i}};G.createContext=function(e){return e={$$typeof:Jf,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:Zf,_context:e},e.Consumer=e};G.createElement=Zd;G.createFactory=function(e){var n=Zd.bind(null,e);return n.type=e,n};G.createRef=function(){return{current:null}};G.forwardRef=function(e){return{$$typeof:Qf,render:e}};G.isValidElement=wl;G.lazy=function(e){return{$$typeof:Yf,_payload:{_status:-1,_result:e},_init:tk}};G.memo=function(e,n){return{$$typeof:Xf,type:e,compare:n===void 0?null:n}};G.startTransition=function(e){var n=ya.transition;ya.transition={};try{e()}finally{ya.transition=n}};G.unstable_act=Jd;G.useCallback=function(e,n){return Ae.current.useCallback(e,n)};G.useContext=function(e){return Ae.current.useContext(e)};G.useDebugValue=function(){};G.useDeferredValue=function(e){return Ae.current.useDeferredValue(e)};G.useEffect=function(e,n){return Ae.current.useEffect(e,n)};G.useId=function(){return Ae.current.useId()};G.useImperativeHandle=function(e,n,t){return Ae.current.useImperativeHandle(e,n,t)};G.useInsertionEffect=function(e,n){return Ae.current.useInsertionEffect(e,n)};G.useLayoutEffect=function(e,n){return Ae.current.useLayoutEffect(e,n)};G.useMemo=function(e,n){return Ae.current.useMemo(e,n)};G.useReducer=function(e,n,t){return Ae.current.useReducer(e,n,t)};G.useRef=function(e){return Ae.current.useRef(e)};G.useState=function(e){return Ae.current.useState(e)};G.useSyncExternalStore=function(e,n,t){return Ae.current.useSyncExternalStore(e,n,t)};G.useTransition=function(){return Ae.current.useTransition()};G.version="18.3.1";$d.exports=G;var c=$d.exports;const Qd=Id(c),Gd=Ad({__proto__:null,default:Qd},[c]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var rk=c,ak=Symbol.for("react.element"),ik=Symbol.for("react.fragment"),sk=Object.prototype.hasOwnProperty,lk=rk.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,uk={key:!0,ref:!0,__self:!0,__source:!0};function Xd(e,n,t){var o,r={},a=null,i=null;t!==void 0&&(a=""+t),n.key!==void 0&&(a=""+n.key),n.ref!==void 0&&(i=n.ref);for(o in n)sk.call(n,o)&&!uk.hasOwnProperty(o)&&(r[o]=n[o]);if(e&&e.defaultProps)for(o in n=e.defaultProps,n)r[o]===void 0&&(r[o]=n[o]);return{$$typeof:ak,type:e,key:a,ref:i,props:r,_owner:lk.current}}ri.Fragment=ik;ri.jsx=Xd;ri.jsxs=Xd;Fd.exports=ri;var g=Fd.exports,fs={},Yd={exports:{}},qe={},qd={exports:{}},ep={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function n(N,I){var $=N.length;N.push(I);e:for(;0<$;){var J=$-1>>>1,ee=N[J];if(0<r(ee,I))N[J]=I,N[$]=ee,$=J;else break e}}function t(N){return N.length===0?null:N[0]}function o(N){if(N.length===0)return null;var I=N[0],$=N.pop();if($!==I){N[0]=$;e:for(var J=0,ee=N.length,vn=ee>>>1;J<vn;){var He=2*(J+1)-1,Ze=N[He],Me=He+1,nn=N[Me];if(0>r(Ze,$))Me<ee&&0>r(nn,Ze)?(N[J]=nn,N[Me]=$,J=Me):(N[J]=Ze,N[He]=$,J=He);else if(Me<ee&&0>r(nn,$))N[J]=nn,N[Me]=$,J=Me;else break e}}return I}function r(N,I){var $=N.sortIndex-I.sortIndex;return $!==0?$:N.id-I.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;e.unstable_now=function(){return a.now()}}else{var i=Date,s=i.now();e.unstable_now=function(){return i.now()-s}}var l=[],u=[],d=1,p=null,v=3,z=!1,j=!1,k=!1,w=typeof setTimeout=="function"?setTimeout:null,f=typeof clearTimeout=="function"?clearTimeout:null,m=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function h(N){for(var I=t(u);I!==null;){if(I.callback===null)o(u);else if(I.startTime<=N)o(u),I.sortIndex=I.expirationTime,n(l,I);else break;I=t(u)}}function x(N){if(k=!1,h(N),!j)if(t(l)!==null)j=!0,Ke(P);else{var I=t(u);I!==null&&pn(x,I.startTime-N)}}function P(N,I){j=!1,k&&(k=!1,f(R),R=-1),z=!0;var $=v;try{for(h(I),p=t(l);p!==null&&(!(p.expirationTime>I)||N&&!Z());){var J=p.callback;if(typeof J=="function"){p.callback=null,v=p.priorityLevel;var ee=J(p.expirationTime<=I);I=e.unstable_now(),typeof ee=="function"?p.callback=ee:p===t(l)&&o(l),h(I)}else o(l);p=t(l)}if(p!==null)var vn=!0;else{var He=t(u);He!==null&&pn(x,He.startTime-I),vn=!1}return vn}finally{p=null,v=$,z=!1}}var _=!1,y=null,R=-1,L=5,M=-1;function Z(){return!(e.unstable_now()-M<L)}function U(){if(y!==null){var N=e.unstable_now();M=N;var I=!0;try{I=y(!0,N)}finally{I?ne():(_=!1,y=null)}}else _=!1}var ne;if(typeof m=="function")ne=function(){m(U)};else if(typeof MessageChannel<"u"){var ve=new MessageChannel,Fe=ve.port2;ve.port1.onmessage=U,ne=function(){Fe.postMessage(null)}}else ne=function(){w(U,0)};function Ke(N){y=N,_||(_=!0,ne())}function pn(N,I){R=w(function(){N(e.unstable_now())},I)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(N){N.callback=null},e.unstable_continueExecution=function(){j||z||(j=!0,Ke(P))},e.unstable_forceFrameRate=function(N){0>N||125<N?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):L=0<N?Math.floor(1e3/N):5},e.unstable_getCurrentPriorityLevel=function(){return v},e.unstable_getFirstCallbackNode=function(){return t(l)},e.unstable_next=function(N){switch(v){case 1:case 2:case 3:var I=3;break;default:I=v}var $=v;v=I;try{return N()}finally{v=$}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(N,I){switch(N){case 1:case 2:case 3:case 4:case 5:break;default:N=3}var $=v;v=N;try{return I()}finally{v=$}},e.unstable_scheduleCallback=function(N,I,$){var J=e.unstable_now();switch(typeof $=="object"&&$!==null?($=$.delay,$=typeof $=="number"&&0<$?J+$:J):$=J,N){case 1:var ee=-1;break;case 2:ee=250;break;case 5:ee=1073741823;break;case 4:ee=1e4;break;default:ee=5e3}return ee=$+ee,N={id:d++,callback:I,priorityLevel:N,startTime:$,expirationTime:ee,sortIndex:-1},$>J?(N.sortIndex=$,n(u,N),t(l)===null&&N===t(u)&&(k?(f(R),R=-1):k=!0,pn(x,$-J))):(N.sortIndex=ee,n(l,N),j||z||(j=!0,Ke(P))),N},e.unstable_shouldYield=Z,e.unstable_wrapCallback=function(N){var I=v;return function(){var $=v;v=I;try{return N.apply(this,arguments)}finally{v=$}}}})(ep);qd.exports=ep;var ck=qd.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var dk=c,Ye=ck;function C(e){for(var n="https://reactjs.org/docs/error-decoder.html?invariant="+e,t=1;t<arguments.length;t++)n+="&args[]="+encodeURIComponent(arguments[t]);return"Minified React error #"+e+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var np=new Set,kr={};function $t(e,n){go(e,n),go(e+"Capture",n)}function go(e,n){for(kr[e]=n,e=0;e<n.length;e++)np.add(n[e])}var Fn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ks=Object.prototype.hasOwnProperty,pk=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,$u={},Uu={};function vk(e){return ks.call(Uu,e)?!0:ks.call($u,e)?!1:pk.test(e)?Uu[e]=!0:($u[e]=!0,!1)}function mk(e,n,t,o){if(t!==null&&t.type===0)return!1;switch(typeof n){case"function":case"symbol":return!0;case"boolean":return o?!1:t!==null?!t.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function fk(e,n,t,o){if(n===null||typeof n>"u"||mk(e,n,t,o))return!0;if(o)return!1;if(t!==null)switch(t.type){case 3:return!n;case 4:return n===!1;case 5:return isNaN(n);case 6:return isNaN(n)||1>n}return!1}function Ie(e,n,t,o,r,a,i){this.acceptsBooleans=n===2||n===3||n===4,this.attributeName=o,this.attributeNamespace=r,this.mustUseProperty=t,this.propertyName=e,this.type=n,this.sanitizeURL=a,this.removeEmptyString=i}var Ce={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Ce[e]=new Ie(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var n=e[0];Ce[n]=new Ie(n,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Ce[e]=new Ie(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Ce[e]=new Ie(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Ce[e]=new Ie(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Ce[e]=new Ie(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Ce[e]=new Ie(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Ce[e]=new Ie(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Ce[e]=new Ie(e,5,!1,e.toLowerCase(),null,!1,!1)});var xl=/[\-:]([a-z])/g;function Sl(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var n=e.replace(xl,Sl);Ce[n]=new Ie(n,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var n=e.replace(xl,Sl);Ce[n]=new Ie(n,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var n=e.replace(xl,Sl);Ce[n]=new Ie(n,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Ce[e]=new Ie(e,1,!1,e.toLowerCase(),null,!1,!1)});Ce.xlinkHref=new Ie("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Ce[e]=new Ie(e,1,!1,e.toLowerCase(),null,!0,!0)});function El(e,n,t,o){var r=Ce.hasOwnProperty(n)?Ce[n]:null;(r!==null?r.type!==0:o||!(2<n.length)||n[0]!=="o"&&n[0]!=="O"||n[1]!=="n"&&n[1]!=="N")&&(fk(n,t,r,o)&&(t=null),o||r===null?vk(n)&&(t===null?e.removeAttribute(n):e.setAttribute(n,""+t)):r.mustUseProperty?e[r.propertyName]=t===null?r.type===3?!1:"":t:(n=r.attributeName,o=r.attributeNamespace,t===null?e.removeAttribute(n):(r=r.type,t=r===3||r===4&&t===!0?"":""+t,o?e.setAttributeNS(o,n,t):e.setAttribute(n,t))))}var Wn=dk.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Qr=Symbol.for("react.element"),Yt=Symbol.for("react.portal"),qt=Symbol.for("react.fragment"),Pl=Symbol.for("react.strict_mode"),hs=Symbol.for("react.profiler"),tp=Symbol.for("react.provider"),op=Symbol.for("react.context"),Cl=Symbol.for("react.forward_ref"),ys=Symbol.for("react.suspense"),zs=Symbol.for("react.suspense_list"),Rl=Symbol.for("react.memo"),nt=Symbol.for("react.lazy"),rp=Symbol.for("react.offscreen"),Vu=Symbol.iterator;function Vo(e){return e===null||typeof e!="object"?null:(e=Vu&&e[Vu]||e["@@iterator"],typeof e=="function"?e:null)}var pe=Object.assign,Ti;function nr(e){if(Ti===void 0)try{throw Error()}catch(t){var n=t.stack.trim().match(/\n( *(at )?)/);Ti=n&&n[1]||""}return`
`+Ti+e}var _i=!1;function Mi(e,n){if(!e||_i)return"";_i=!0;var t=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(n)if(n=function(){throw Error()},Object.defineProperty(n.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(n,[])}catch(u){var o=u}Reflect.construct(e,[],n)}else{try{n.call()}catch(u){o=u}e.call(n.prototype)}else{try{throw Error()}catch(u){o=u}e()}}catch(u){if(u&&o&&typeof u.stack=="string"){for(var r=u.stack.split(`
`),a=o.stack.split(`
`),i=r.length-1,s=a.length-1;1<=i&&0<=s&&r[i]!==a[s];)s--;for(;1<=i&&0<=s;i--,s--)if(r[i]!==a[s]){if(i!==1||s!==1)do if(i--,s--,0>s||r[i]!==a[s]){var l=`
`+r[i].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}while(1<=i&&0<=s);break}}}finally{_i=!1,Error.prepareStackTrace=t}return(e=e?e.displayName||e.name:"")?nr(e):""}function kk(e){switch(e.tag){case 5:return nr(e.type);case 16:return nr("Lazy");case 13:return nr("Suspense");case 19:return nr("SuspenseList");case 0:case 2:case 15:return e=Mi(e.type,!1),e;case 11:return e=Mi(e.type.render,!1),e;case 1:return e=Mi(e.type,!0),e;default:return""}}function js(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case qt:return"Fragment";case Yt:return"Portal";case hs:return"Profiler";case Pl:return"StrictMode";case ys:return"Suspense";case zs:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case op:return(e.displayName||"Context")+".Consumer";case tp:return(e._context.displayName||"Context")+".Provider";case Cl:var n=e.render;return e=e.displayName,e||(e=n.displayName||n.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Rl:return n=e.displayName||null,n!==null?n:js(e.type)||"Memo";case nt:n=e._payload,e=e._init;try{return js(e(n))}catch{}}return null}function hk(e){var n=e.type;switch(e.tag){case 24:return"Cache";case 9:return(n.displayName||"Context")+".Consumer";case 10:return(n._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=n.render,e=e.displayName||e.name||"",n.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return n;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return js(n);case 8:return n===Pl?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof n=="function")return n.displayName||n.name||null;if(typeof n=="string")return n}return null}function ft(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function ap(e){var n=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function yk(e){var n=ap(e)?"checked":"value",t=Object.getOwnPropertyDescriptor(e.constructor.prototype,n),o=""+e[n];if(!e.hasOwnProperty(n)&&typeof t<"u"&&typeof t.get=="function"&&typeof t.set=="function"){var r=t.get,a=t.set;return Object.defineProperty(e,n,{configurable:!0,get:function(){return r.call(this)},set:function(i){o=""+i,a.call(this,i)}}),Object.defineProperty(e,n,{enumerable:t.enumerable}),{getValue:function(){return o},setValue:function(i){o=""+i},stopTracking:function(){e._valueTracker=null,delete e[n]}}}}function Gr(e){e._valueTracker||(e._valueTracker=yk(e))}function ip(e){if(!e)return!1;var n=e._valueTracker;if(!n)return!0;var t=n.getValue(),o="";return e&&(o=ap(e)?e.checked?"true":"false":e.value),e=o,e!==t?(n.setValue(e),!0):!1}function Ta(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function bs(e,n){var t=n.checked;return pe({},n,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:t??e._wrapperState.initialChecked})}function Bu(e,n){var t=n.defaultValue==null?"":n.defaultValue,o=n.checked!=null?n.checked:n.defaultChecked;t=ft(n.value!=null?n.value:t),e._wrapperState={initialChecked:o,initialValue:t,controlled:n.type==="checkbox"||n.type==="radio"?n.checked!=null:n.value!=null}}function sp(e,n){n=n.checked,n!=null&&El(e,"checked",n,!1)}function gs(e,n){sp(e,n);var t=ft(n.value),o=n.type;if(t!=null)o==="number"?(t===0&&e.value===""||e.value!=t)&&(e.value=""+t):e.value!==""+t&&(e.value=""+t);else if(o==="submit"||o==="reset"){e.removeAttribute("value");return}n.hasOwnProperty("value")?ws(e,n.type,t):n.hasOwnProperty("defaultValue")&&ws(e,n.type,ft(n.defaultValue)),n.checked==null&&n.defaultChecked!=null&&(e.defaultChecked=!!n.defaultChecked)}function Wu(e,n,t){if(n.hasOwnProperty("value")||n.hasOwnProperty("defaultValue")){var o=n.type;if(!(o!=="submit"&&o!=="reset"||n.value!==void 0&&n.value!==null))return;n=""+e._wrapperState.initialValue,t||n===e.value||(e.value=n),e.defaultValue=n}t=e.name,t!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,t!==""&&(e.name=t)}function ws(e,n,t){(n!=="number"||Ta(e.ownerDocument)!==e)&&(t==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+t&&(e.defaultValue=""+t))}var tr=Array.isArray;function vo(e,n,t,o){if(e=e.options,n){n={};for(var r=0;r<t.length;r++)n["$"+t[r]]=!0;for(t=0;t<e.length;t++)r=n.hasOwnProperty("$"+e[t].value),e[t].selected!==r&&(e[t].selected=r),r&&o&&(e[t].defaultSelected=!0)}else{for(t=""+ft(t),n=null,r=0;r<e.length;r++){if(e[r].value===t){e[r].selected=!0,o&&(e[r].defaultSelected=!0);return}n!==null||e[r].disabled||(n=e[r])}n!==null&&(n.selected=!0)}}function xs(e,n){if(n.dangerouslySetInnerHTML!=null)throw Error(C(91));return pe({},n,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Ku(e,n){var t=n.value;if(t==null){if(t=n.children,n=n.defaultValue,t!=null){if(n!=null)throw Error(C(92));if(tr(t)){if(1<t.length)throw Error(C(93));t=t[0]}n=t}n==null&&(n=""),t=n}e._wrapperState={initialValue:ft(t)}}function lp(e,n){var t=ft(n.value),o=ft(n.defaultValue);t!=null&&(t=""+t,t!==e.value&&(e.value=t),n.defaultValue==null&&e.defaultValue!==t&&(e.defaultValue=t)),o!=null&&(e.defaultValue=""+o)}function Hu(e){var n=e.textContent;n===e._wrapperState.initialValue&&n!==""&&n!==null&&(e.value=n)}function up(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Ss(e,n){return e==null||e==="http://www.w3.org/1999/xhtml"?up(n):e==="http://www.w3.org/2000/svg"&&n==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Xr,cp=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(n,t,o,r){MSApp.execUnsafeLocalFunction(function(){return e(n,t,o,r)})}:e}(function(e,n){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=n;else{for(Xr=Xr||document.createElement("div"),Xr.innerHTML="<svg>"+n.valueOf().toString()+"</svg>",n=Xr.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;n.firstChild;)e.appendChild(n.firstChild)}});function hr(e,n){if(n){var t=e.firstChild;if(t&&t===e.lastChild&&t.nodeType===3){t.nodeValue=n;return}}e.textContent=n}var ar={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},zk=["Webkit","ms","Moz","O"];Object.keys(ar).forEach(function(e){zk.forEach(function(n){n=n+e.charAt(0).toUpperCase()+e.substring(1),ar[n]=ar[e]})});function dp(e,n,t){return n==null||typeof n=="boolean"||n===""?"":t||typeof n!="number"||n===0||ar.hasOwnProperty(e)&&ar[e]?(""+n).trim():n+"px"}function pp(e,n){e=e.style;for(var t in n)if(n.hasOwnProperty(t)){var o=t.indexOf("--")===0,r=dp(t,n[t],o);t==="float"&&(t="cssFloat"),o?e.setProperty(t,r):e[t]=r}}var jk=pe({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Es(e,n){if(n){if(jk[e]&&(n.children!=null||n.dangerouslySetInnerHTML!=null))throw Error(C(137,e));if(n.dangerouslySetInnerHTML!=null){if(n.children!=null)throw Error(C(60));if(typeof n.dangerouslySetInnerHTML!="object"||!("__html"in n.dangerouslySetInnerHTML))throw Error(C(61))}if(n.style!=null&&typeof n.style!="object")throw Error(C(62))}}function Ps(e,n){if(e.indexOf("-")===-1)return typeof n.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Cs=null;function Nl(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Rs=null,mo=null,fo=null;function Zu(e){if(e=Ir(e)){if(typeof Rs!="function")throw Error(C(280));var n=e.stateNode;n&&(n=ui(n),Rs(e.stateNode,e.type,n))}}function vp(e){mo?fo?fo.push(e):fo=[e]:mo=e}function mp(){if(mo){var e=mo,n=fo;if(fo=mo=null,Zu(e),n)for(e=0;e<n.length;e++)Zu(n[e])}}function fp(e,n){return e(n)}function kp(){}var Oi=!1;function hp(e,n,t){if(Oi)return e(n,t);Oi=!0;try{return fp(e,n,t)}finally{Oi=!1,(mo!==null||fo!==null)&&(kp(),mp())}}function yr(e,n){var t=e.stateNode;if(t===null)return null;var o=ui(t);if(o===null)return null;t=o[n];e:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(o=!o.disabled)||(e=e.type,o=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!o;break e;default:e=!1}if(e)return null;if(t&&typeof t!="function")throw Error(C(231,n,typeof t));return t}var Ns=!1;if(Fn)try{var Bo={};Object.defineProperty(Bo,"passive",{get:function(){Ns=!0}}),window.addEventListener("test",Bo,Bo),window.removeEventListener("test",Bo,Bo)}catch{Ns=!1}function bk(e,n,t,o,r,a,i,s,l){var u=Array.prototype.slice.call(arguments,3);try{n.apply(t,u)}catch(d){this.onError(d)}}var ir=!1,_a=null,Ma=!1,Ts=null,gk={onError:function(e){ir=!0,_a=e}};function wk(e,n,t,o,r,a,i,s,l){ir=!1,_a=null,bk.apply(gk,arguments)}function xk(e,n,t,o,r,a,i,s,l){if(wk.apply(this,arguments),ir){if(ir){var u=_a;ir=!1,_a=null}else throw Error(C(198));Ma||(Ma=!0,Ts=u)}}function Ut(e){var n=e,t=e;if(e.alternate)for(;n.return;)n=n.return;else{e=n;do n=e,n.flags&4098&&(t=n.return),e=n.return;while(e)}return n.tag===3?t:null}function yp(e){if(e.tag===13){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function Ju(e){if(Ut(e)!==e)throw Error(C(188))}function Sk(e){var n=e.alternate;if(!n){if(n=Ut(e),n===null)throw Error(C(188));return n!==e?null:e}for(var t=e,o=n;;){var r=t.return;if(r===null)break;var a=r.alternate;if(a===null){if(o=r.return,o!==null){t=o;continue}break}if(r.child===a.child){for(a=r.child;a;){if(a===t)return Ju(r),e;if(a===o)return Ju(r),n;a=a.sibling}throw Error(C(188))}if(t.return!==o.return)t=r,o=a;else{for(var i=!1,s=r.child;s;){if(s===t){i=!0,t=r,o=a;break}if(s===o){i=!0,o=r,t=a;break}s=s.sibling}if(!i){for(s=a.child;s;){if(s===t){i=!0,t=a,o=r;break}if(s===o){i=!0,o=a,t=r;break}s=s.sibling}if(!i)throw Error(C(189))}}if(t.alternate!==o)throw Error(C(190))}if(t.tag!==3)throw Error(C(188));return t.stateNode.current===t?e:n}function zp(e){return e=Sk(e),e!==null?jp(e):null}function jp(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var n=jp(e);if(n!==null)return n;e=e.sibling}return null}var bp=Ye.unstable_scheduleCallback,Qu=Ye.unstable_cancelCallback,Ek=Ye.unstable_shouldYield,Pk=Ye.unstable_requestPaint,fe=Ye.unstable_now,Ck=Ye.unstable_getCurrentPriorityLevel,Tl=Ye.unstable_ImmediatePriority,gp=Ye.unstable_UserBlockingPriority,Oa=Ye.unstable_NormalPriority,Rk=Ye.unstable_LowPriority,wp=Ye.unstable_IdlePriority,ai=null,Rn=null;function Nk(e){if(Rn&&typeof Rn.onCommitFiberRoot=="function")try{Rn.onCommitFiberRoot(ai,e,void 0,(e.current.flags&128)===128)}catch{}}var zn=Math.clz32?Math.clz32:Mk,Tk=Math.log,_k=Math.LN2;function Mk(e){return e>>>=0,e===0?32:31-(Tk(e)/_k|0)|0}var Yr=64,qr=4194304;function or(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Da(e,n){var t=e.pendingLanes;if(t===0)return 0;var o=0,r=e.suspendedLanes,a=e.pingedLanes,i=t&268435455;if(i!==0){var s=i&~r;s!==0?o=or(s):(a&=i,a!==0&&(o=or(a)))}else i=t&~r,i!==0?o=or(i):a!==0&&(o=or(a));if(o===0)return 0;if(n!==0&&n!==o&&!(n&r)&&(r=o&-o,a=n&-n,r>=a||r===16&&(a&4194240)!==0))return n;if(o&4&&(o|=t&16),n=e.entangledLanes,n!==0)for(e=e.entanglements,n&=o;0<n;)t=31-zn(n),r=1<<t,o|=e[t],n&=~r;return o}function Ok(e,n){switch(e){case 1:case 2:case 4:return n+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Dk(e,n){for(var t=e.suspendedLanes,o=e.pingedLanes,r=e.expirationTimes,a=e.pendingLanes;0<a;){var i=31-zn(a),s=1<<i,l=r[i];l===-1?(!(s&t)||s&o)&&(r[i]=Ok(s,n)):l<=n&&(e.expiredLanes|=s),a&=~s}}function _s(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function xp(){var e=Yr;return Yr<<=1,!(Yr&4194240)&&(Yr=64),e}function Di(e){for(var n=[],t=0;31>t;t++)n.push(e);return n}function Lr(e,n,t){e.pendingLanes|=n,n!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,n=31-zn(n),e[n]=t}function Lk(e,n){var t=e.pendingLanes&~n;e.pendingLanes=n,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=n,e.mutableReadLanes&=n,e.entangledLanes&=n,n=e.entanglements;var o=e.eventTimes;for(e=e.expirationTimes;0<t;){var r=31-zn(t),a=1<<r;n[r]=0,o[r]=-1,e[r]=-1,t&=~a}}function _l(e,n){var t=e.entangledLanes|=n;for(e=e.entanglements;t;){var o=31-zn(t),r=1<<o;r&n|e[o]&n&&(e[o]|=n),t&=~r}}var q=0;function Sp(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var Ep,Ml,Pp,Cp,Rp,Ms=!1,ea=[],st=null,lt=null,ut=null,zr=new Map,jr=new Map,ot=[],Ak="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Gu(e,n){switch(e){case"focusin":case"focusout":st=null;break;case"dragenter":case"dragleave":lt=null;break;case"mouseover":case"mouseout":ut=null;break;case"pointerover":case"pointerout":zr.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":jr.delete(n.pointerId)}}function Wo(e,n,t,o,r,a){return e===null||e.nativeEvent!==a?(e={blockedOn:n,domEventName:t,eventSystemFlags:o,nativeEvent:a,targetContainers:[r]},n!==null&&(n=Ir(n),n!==null&&Ml(n)),e):(e.eventSystemFlags|=o,n=e.targetContainers,r!==null&&n.indexOf(r)===-1&&n.push(r),e)}function Ik(e,n,t,o,r){switch(n){case"focusin":return st=Wo(st,e,n,t,o,r),!0;case"dragenter":return lt=Wo(lt,e,n,t,o,r),!0;case"mouseover":return ut=Wo(ut,e,n,t,o,r),!0;case"pointerover":var a=r.pointerId;return zr.set(a,Wo(zr.get(a)||null,e,n,t,o,r)),!0;case"gotpointercapture":return a=r.pointerId,jr.set(a,Wo(jr.get(a)||null,e,n,t,o,r)),!0}return!1}function Np(e){var n=xt(e.target);if(n!==null){var t=Ut(n);if(t!==null){if(n=t.tag,n===13){if(n=yp(t),n!==null){e.blockedOn=n,Rp(e.priority,function(){Pp(t)});return}}else if(n===3&&t.stateNode.current.memoizedState.isDehydrated){e.blockedOn=t.tag===3?t.stateNode.containerInfo:null;return}}}e.blockedOn=null}function za(e){if(e.blockedOn!==null)return!1;for(var n=e.targetContainers;0<n.length;){var t=Os(e.domEventName,e.eventSystemFlags,n[0],e.nativeEvent);if(t===null){t=e.nativeEvent;var o=new t.constructor(t.type,t);Cs=o,t.target.dispatchEvent(o),Cs=null}else return n=Ir(t),n!==null&&Ml(n),e.blockedOn=t,!1;n.shift()}return!0}function Xu(e,n,t){za(e)&&t.delete(n)}function Fk(){Ms=!1,st!==null&&za(st)&&(st=null),lt!==null&&za(lt)&&(lt=null),ut!==null&&za(ut)&&(ut=null),zr.forEach(Xu),jr.forEach(Xu)}function Ko(e,n){e.blockedOn===n&&(e.blockedOn=null,Ms||(Ms=!0,Ye.unstable_scheduleCallback(Ye.unstable_NormalPriority,Fk)))}function br(e){function n(r){return Ko(r,e)}if(0<ea.length){Ko(ea[0],e);for(var t=1;t<ea.length;t++){var o=ea[t];o.blockedOn===e&&(o.blockedOn=null)}}for(st!==null&&Ko(st,e),lt!==null&&Ko(lt,e),ut!==null&&Ko(ut,e),zr.forEach(n),jr.forEach(n),t=0;t<ot.length;t++)o=ot[t],o.blockedOn===e&&(o.blockedOn=null);for(;0<ot.length&&(t=ot[0],t.blockedOn===null);)Np(t),t.blockedOn===null&&ot.shift()}var ko=Wn.ReactCurrentBatchConfig,La=!0;function $k(e,n,t,o){var r=q,a=ko.transition;ko.transition=null;try{q=1,Ol(e,n,t,o)}finally{q=r,ko.transition=a}}function Uk(e,n,t,o){var r=q,a=ko.transition;ko.transition=null;try{q=4,Ol(e,n,t,o)}finally{q=r,ko.transition=a}}function Ol(e,n,t,o){if(La){var r=Os(e,n,t,o);if(r===null)Ki(e,n,o,Aa,t),Gu(e,o);else if(Ik(r,e,n,t,o))o.stopPropagation();else if(Gu(e,o),n&4&&-1<Ak.indexOf(e)){for(;r!==null;){var a=Ir(r);if(a!==null&&Ep(a),a=Os(e,n,t,o),a===null&&Ki(e,n,o,Aa,t),a===r)break;r=a}r!==null&&o.stopPropagation()}else Ki(e,n,o,null,t)}}var Aa=null;function Os(e,n,t,o){if(Aa=null,e=Nl(o),e=xt(e),e!==null)if(n=Ut(e),n===null)e=null;else if(t=n.tag,t===13){if(e=yp(n),e!==null)return e;e=null}else if(t===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;e=null}else n!==e&&(e=null);return Aa=e,null}function Tp(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Ck()){case Tl:return 1;case gp:return 4;case Oa:case Rk:return 16;case wp:return 536870912;default:return 16}default:return 16}}var at=null,Dl=null,ja=null;function _p(){if(ja)return ja;var e,n=Dl,t=n.length,o,r="value"in at?at.value:at.textContent,a=r.length;for(e=0;e<t&&n[e]===r[e];e++);var i=t-e;for(o=1;o<=i&&n[t-o]===r[a-o];o++);return ja=r.slice(e,1<o?1-o:void 0)}function ba(e){var n=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&n===13&&(e=13)):e=n,e===10&&(e=13),32<=e||e===13?e:0}function na(){return!0}function Yu(){return!1}function en(e){function n(t,o,r,a,i){this._reactName=t,this._targetInst=r,this.type=o,this.nativeEvent=a,this.target=i,this.currentTarget=null;for(var s in e)e.hasOwnProperty(s)&&(t=e[s],this[s]=t?t(a):a[s]);return this.isDefaultPrevented=(a.defaultPrevented!=null?a.defaultPrevented:a.returnValue===!1)?na:Yu,this.isPropagationStopped=Yu,this}return pe(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var t=this.nativeEvent;t&&(t.preventDefault?t.preventDefault():typeof t.returnValue!="unknown"&&(t.returnValue=!1),this.isDefaultPrevented=na)},stopPropagation:function(){var t=this.nativeEvent;t&&(t.stopPropagation?t.stopPropagation():typeof t.cancelBubble!="unknown"&&(t.cancelBubble=!0),this.isPropagationStopped=na)},persist:function(){},isPersistent:na}),n}var No={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ll=en(No),Ar=pe({},No,{view:0,detail:0}),Vk=en(Ar),Li,Ai,Ho,ii=pe({},Ar,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Al,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Ho&&(Ho&&e.type==="mousemove"?(Li=e.screenX-Ho.screenX,Ai=e.screenY-Ho.screenY):Ai=Li=0,Ho=e),Li)},movementY:function(e){return"movementY"in e?e.movementY:Ai}}),qu=en(ii),Bk=pe({},ii,{dataTransfer:0}),Wk=en(Bk),Kk=pe({},Ar,{relatedTarget:0}),Ii=en(Kk),Hk=pe({},No,{animationName:0,elapsedTime:0,pseudoElement:0}),Zk=en(Hk),Jk=pe({},No,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Qk=en(Jk),Gk=pe({},No,{data:0}),ec=en(Gk),Xk={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Yk={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},qk={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function eh(e){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(e):(e=qk[e])?!!n[e]:!1}function Al(){return eh}var nh=pe({},Ar,{key:function(e){if(e.key){var n=Xk[e.key]||e.key;if(n!=="Unidentified")return n}return e.type==="keypress"?(e=ba(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Yk[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Al,charCode:function(e){return e.type==="keypress"?ba(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?ba(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),th=en(nh),oh=pe({},ii,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),nc=en(oh),rh=pe({},Ar,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Al}),ah=en(rh),ih=pe({},No,{propertyName:0,elapsedTime:0,pseudoElement:0}),sh=en(ih),lh=pe({},ii,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),uh=en(lh),ch=[9,13,27,32],Il=Fn&&"CompositionEvent"in window,sr=null;Fn&&"documentMode"in document&&(sr=document.documentMode);var dh=Fn&&"TextEvent"in window&&!sr,Mp=Fn&&(!Il||sr&&8<sr&&11>=sr),tc=" ",oc=!1;function Op(e,n){switch(e){case"keyup":return ch.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Dp(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var eo=!1;function ph(e,n){switch(e){case"compositionend":return Dp(n);case"keypress":return n.which!==32?null:(oc=!0,tc);case"textInput":return e=n.data,e===tc&&oc?null:e;default:return null}}function vh(e,n){if(eo)return e==="compositionend"||!Il&&Op(e,n)?(e=_p(),ja=Dl=at=null,eo=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return Mp&&n.locale!=="ko"?null:n.data;default:return null}}var mh={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function rc(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n==="input"?!!mh[e.type]:n==="textarea"}function Lp(e,n,t,o){vp(o),n=Ia(n,"onChange"),0<n.length&&(t=new Ll("onChange","change",null,t,o),e.push({event:t,listeners:n}))}var lr=null,gr=null;function fh(e){Zp(e,0)}function si(e){var n=oo(e);if(ip(n))return e}function kh(e,n){if(e==="change")return n}var Ap=!1;if(Fn){var Fi;if(Fn){var $i="oninput"in document;if(!$i){var ac=document.createElement("div");ac.setAttribute("oninput","return;"),$i=typeof ac.oninput=="function"}Fi=$i}else Fi=!1;Ap=Fi&&(!document.documentMode||9<document.documentMode)}function ic(){lr&&(lr.detachEvent("onpropertychange",Ip),gr=lr=null)}function Ip(e){if(e.propertyName==="value"&&si(gr)){var n=[];Lp(n,gr,e,Nl(e)),hp(fh,n)}}function hh(e,n,t){e==="focusin"?(ic(),lr=n,gr=t,lr.attachEvent("onpropertychange",Ip)):e==="focusout"&&ic()}function yh(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return si(gr)}function zh(e,n){if(e==="click")return si(n)}function jh(e,n){if(e==="input"||e==="change")return si(n)}function bh(e,n){return e===n&&(e!==0||1/e===1/n)||e!==e&&n!==n}var bn=typeof Object.is=="function"?Object.is:bh;function wr(e,n){if(bn(e,n))return!0;if(typeof e!="object"||e===null||typeof n!="object"||n===null)return!1;var t=Object.keys(e),o=Object.keys(n);if(t.length!==o.length)return!1;for(o=0;o<t.length;o++){var r=t[o];if(!ks.call(n,r)||!bn(e[r],n[r]))return!1}return!0}function sc(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function lc(e,n){var t=sc(e);e=0;for(var o;t;){if(t.nodeType===3){if(o=e+t.textContent.length,e<=n&&o>=n)return{node:t,offset:n-e};e=o}e:{for(;t;){if(t.nextSibling){t=t.nextSibling;break e}t=t.parentNode}t=void 0}t=sc(t)}}function Fp(e,n){return e&&n?e===n?!0:e&&e.nodeType===3?!1:n&&n.nodeType===3?Fp(e,n.parentNode):"contains"in e?e.contains(n):e.compareDocumentPosition?!!(e.compareDocumentPosition(n)&16):!1:!1}function $p(){for(var e=window,n=Ta();n instanceof e.HTMLIFrameElement;){try{var t=typeof n.contentWindow.location.href=="string"}catch{t=!1}if(t)e=n.contentWindow;else break;n=Ta(e.document)}return n}function Fl(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n&&(n==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||n==="textarea"||e.contentEditable==="true")}function gh(e){var n=$p(),t=e.focusedElem,o=e.selectionRange;if(n!==t&&t&&t.ownerDocument&&Fp(t.ownerDocument.documentElement,t)){if(o!==null&&Fl(t)){if(n=o.start,e=o.end,e===void 0&&(e=n),"selectionStart"in t)t.selectionStart=n,t.selectionEnd=Math.min(e,t.value.length);else if(e=(n=t.ownerDocument||document)&&n.defaultView||window,e.getSelection){e=e.getSelection();var r=t.textContent.length,a=Math.min(o.start,r);o=o.end===void 0?a:Math.min(o.end,r),!e.extend&&a>o&&(r=o,o=a,a=r),r=lc(t,a);var i=lc(t,o);r&&i&&(e.rangeCount!==1||e.anchorNode!==r.node||e.anchorOffset!==r.offset||e.focusNode!==i.node||e.focusOffset!==i.offset)&&(n=n.createRange(),n.setStart(r.node,r.offset),e.removeAllRanges(),a>o?(e.addRange(n),e.extend(i.node,i.offset)):(n.setEnd(i.node,i.offset),e.addRange(n)))}}for(n=[],e=t;e=e.parentNode;)e.nodeType===1&&n.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof t.focus=="function"&&t.focus(),t=0;t<n.length;t++)e=n[t],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var wh=Fn&&"documentMode"in document&&11>=document.documentMode,no=null,Ds=null,ur=null,Ls=!1;function uc(e,n,t){var o=t.window===t?t.document:t.nodeType===9?t:t.ownerDocument;Ls||no==null||no!==Ta(o)||(o=no,"selectionStart"in o&&Fl(o)?o={start:o.selectionStart,end:o.selectionEnd}:(o=(o.ownerDocument&&o.ownerDocument.defaultView||window).getSelection(),o={anchorNode:o.anchorNode,anchorOffset:o.anchorOffset,focusNode:o.focusNode,focusOffset:o.focusOffset}),ur&&wr(ur,o)||(ur=o,o=Ia(Ds,"onSelect"),0<o.length&&(n=new Ll("onSelect","select",null,n,t),e.push({event:n,listeners:o}),n.target=no)))}function ta(e,n){var t={};return t[e.toLowerCase()]=n.toLowerCase(),t["Webkit"+e]="webkit"+n,t["Moz"+e]="moz"+n,t}var to={animationend:ta("Animation","AnimationEnd"),animationiteration:ta("Animation","AnimationIteration"),animationstart:ta("Animation","AnimationStart"),transitionend:ta("Transition","TransitionEnd")},Ui={},Up={};Fn&&(Up=document.createElement("div").style,"AnimationEvent"in window||(delete to.animationend.animation,delete to.animationiteration.animation,delete to.animationstart.animation),"TransitionEvent"in window||delete to.transitionend.transition);function li(e){if(Ui[e])return Ui[e];if(!to[e])return e;var n=to[e],t;for(t in n)if(n.hasOwnProperty(t)&&t in Up)return Ui[e]=n[t];return e}var Vp=li("animationend"),Bp=li("animationiteration"),Wp=li("animationstart"),Kp=li("transitionend"),Hp=new Map,cc="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function yt(e,n){Hp.set(e,n),$t(n,[e])}for(var Vi=0;Vi<cc.length;Vi++){var Bi=cc[Vi],xh=Bi.toLowerCase(),Sh=Bi[0].toUpperCase()+Bi.slice(1);yt(xh,"on"+Sh)}yt(Vp,"onAnimationEnd");yt(Bp,"onAnimationIteration");yt(Wp,"onAnimationStart");yt("dblclick","onDoubleClick");yt("focusin","onFocus");yt("focusout","onBlur");yt(Kp,"onTransitionEnd");go("onMouseEnter",["mouseout","mouseover"]);go("onMouseLeave",["mouseout","mouseover"]);go("onPointerEnter",["pointerout","pointerover"]);go("onPointerLeave",["pointerout","pointerover"]);$t("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));$t("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));$t("onBeforeInput",["compositionend","keypress","textInput","paste"]);$t("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));$t("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));$t("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var rr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Eh=new Set("cancel close invalid load scroll toggle".split(" ").concat(rr));function dc(e,n,t){var o=e.type||"unknown-event";e.currentTarget=t,xk(o,n,void 0,e),e.currentTarget=null}function Zp(e,n){n=(n&4)!==0;for(var t=0;t<e.length;t++){var o=e[t],r=o.event;o=o.listeners;e:{var a=void 0;if(n)for(var i=o.length-1;0<=i;i--){var s=o[i],l=s.instance,u=s.currentTarget;if(s=s.listener,l!==a&&r.isPropagationStopped())break e;dc(r,s,u),a=l}else for(i=0;i<o.length;i++){if(s=o[i],l=s.instance,u=s.currentTarget,s=s.listener,l!==a&&r.isPropagationStopped())break e;dc(r,s,u),a=l}}}if(Ma)throw e=Ts,Ma=!1,Ts=null,e}function re(e,n){var t=n[Us];t===void 0&&(t=n[Us]=new Set);var o=e+"__bubble";t.has(o)||(Jp(n,e,2,!1),t.add(o))}function Wi(e,n,t){var o=0;n&&(o|=4),Jp(t,e,o,n)}var oa="_reactListening"+Math.random().toString(36).slice(2);function xr(e){if(!e[oa]){e[oa]=!0,np.forEach(function(t){t!=="selectionchange"&&(Eh.has(t)||Wi(t,!1,e),Wi(t,!0,e))});var n=e.nodeType===9?e:e.ownerDocument;n===null||n[oa]||(n[oa]=!0,Wi("selectionchange",!1,n))}}function Jp(e,n,t,o){switch(Tp(n)){case 1:var r=$k;break;case 4:r=Uk;break;default:r=Ol}t=r.bind(null,n,t,e),r=void 0,!Ns||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(r=!0),o?r!==void 0?e.addEventListener(n,t,{capture:!0,passive:r}):e.addEventListener(n,t,!0):r!==void 0?e.addEventListener(n,t,{passive:r}):e.addEventListener(n,t,!1)}function Ki(e,n,t,o,r){var a=o;if(!(n&1)&&!(n&2)&&o!==null)e:for(;;){if(o===null)return;var i=o.tag;if(i===3||i===4){var s=o.stateNode.containerInfo;if(s===r||s.nodeType===8&&s.parentNode===r)break;if(i===4)for(i=o.return;i!==null;){var l=i.tag;if((l===3||l===4)&&(l=i.stateNode.containerInfo,l===r||l.nodeType===8&&l.parentNode===r))return;i=i.return}for(;s!==null;){if(i=xt(s),i===null)return;if(l=i.tag,l===5||l===6){o=a=i;continue e}s=s.parentNode}}o=o.return}hp(function(){var u=a,d=Nl(t),p=[];e:{var v=Hp.get(e);if(v!==void 0){var z=Ll,j=e;switch(e){case"keypress":if(ba(t)===0)break e;case"keydown":case"keyup":z=th;break;case"focusin":j="focus",z=Ii;break;case"focusout":j="blur",z=Ii;break;case"beforeblur":case"afterblur":z=Ii;break;case"click":if(t.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":z=qu;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":z=Wk;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":z=ah;break;case Vp:case Bp:case Wp:z=Zk;break;case Kp:z=sh;break;case"scroll":z=Vk;break;case"wheel":z=uh;break;case"copy":case"cut":case"paste":z=Qk;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":z=nc}var k=(n&4)!==0,w=!k&&e==="scroll",f=k?v!==null?v+"Capture":null:v;k=[];for(var m=u,h;m!==null;){h=m;var x=h.stateNode;if(h.tag===5&&x!==null&&(h=x,f!==null&&(x=yr(m,f),x!=null&&k.push(Sr(m,x,h)))),w)break;m=m.return}0<k.length&&(v=new z(v,j,null,t,d),p.push({event:v,listeners:k}))}}if(!(n&7)){e:{if(v=e==="mouseover"||e==="pointerover",z=e==="mouseout"||e==="pointerout",v&&t!==Cs&&(j=t.relatedTarget||t.fromElement)&&(xt(j)||j[$n]))break e;if((z||v)&&(v=d.window===d?d:(v=d.ownerDocument)?v.defaultView||v.parentWindow:window,z?(j=t.relatedTarget||t.toElement,z=u,j=j?xt(j):null,j!==null&&(w=Ut(j),j!==w||j.tag!==5&&j.tag!==6)&&(j=null)):(z=null,j=u),z!==j)){if(k=qu,x="onMouseLeave",f="onMouseEnter",m="mouse",(e==="pointerout"||e==="pointerover")&&(k=nc,x="onPointerLeave",f="onPointerEnter",m="pointer"),w=z==null?v:oo(z),h=j==null?v:oo(j),v=new k(x,m+"leave",z,t,d),v.target=w,v.relatedTarget=h,x=null,xt(d)===u&&(k=new k(f,m+"enter",j,t,d),k.target=h,k.relatedTarget=w,x=k),w=x,z&&j)n:{for(k=z,f=j,m=0,h=k;h;h=Zt(h))m++;for(h=0,x=f;x;x=Zt(x))h++;for(;0<m-h;)k=Zt(k),m--;for(;0<h-m;)f=Zt(f),h--;for(;m--;){if(k===f||f!==null&&k===f.alternate)break n;k=Zt(k),f=Zt(f)}k=null}else k=null;z!==null&&pc(p,v,z,k,!1),j!==null&&w!==null&&pc(p,w,j,k,!0)}}e:{if(v=u?oo(u):window,z=v.nodeName&&v.nodeName.toLowerCase(),z==="select"||z==="input"&&v.type==="file")var P=kh;else if(rc(v))if(Ap)P=jh;else{P=yh;var _=hh}else(z=v.nodeName)&&z.toLowerCase()==="input"&&(v.type==="checkbox"||v.type==="radio")&&(P=zh);if(P&&(P=P(e,u))){Lp(p,P,t,d);break e}_&&_(e,v,u),e==="focusout"&&(_=v._wrapperState)&&_.controlled&&v.type==="number"&&ws(v,"number",v.value)}switch(_=u?oo(u):window,e){case"focusin":(rc(_)||_.contentEditable==="true")&&(no=_,Ds=u,ur=null);break;case"focusout":ur=Ds=no=null;break;case"mousedown":Ls=!0;break;case"contextmenu":case"mouseup":case"dragend":Ls=!1,uc(p,t,d);break;case"selectionchange":if(wh)break;case"keydown":case"keyup":uc(p,t,d)}var y;if(Il)e:{switch(e){case"compositionstart":var R="onCompositionStart";break e;case"compositionend":R="onCompositionEnd";break e;case"compositionupdate":R="onCompositionUpdate";break e}R=void 0}else eo?Op(e,t)&&(R="onCompositionEnd"):e==="keydown"&&t.keyCode===229&&(R="onCompositionStart");R&&(Mp&&t.locale!=="ko"&&(eo||R!=="onCompositionStart"?R==="onCompositionEnd"&&eo&&(y=_p()):(at=d,Dl="value"in at?at.value:at.textContent,eo=!0)),_=Ia(u,R),0<_.length&&(R=new ec(R,e,null,t,d),p.push({event:R,listeners:_}),y?R.data=y:(y=Dp(t),y!==null&&(R.data=y)))),(y=dh?ph(e,t):vh(e,t))&&(u=Ia(u,"onBeforeInput"),0<u.length&&(d=new ec("onBeforeInput","beforeinput",null,t,d),p.push({event:d,listeners:u}),d.data=y))}Zp(p,n)})}function Sr(e,n,t){return{instance:e,listener:n,currentTarget:t}}function Ia(e,n){for(var t=n+"Capture",o=[];e!==null;){var r=e,a=r.stateNode;r.tag===5&&a!==null&&(r=a,a=yr(e,t),a!=null&&o.unshift(Sr(e,a,r)),a=yr(e,n),a!=null&&o.push(Sr(e,a,r))),e=e.return}return o}function Zt(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function pc(e,n,t,o,r){for(var a=n._reactName,i=[];t!==null&&t!==o;){var s=t,l=s.alternate,u=s.stateNode;if(l!==null&&l===o)break;s.tag===5&&u!==null&&(s=u,r?(l=yr(t,a),l!=null&&i.unshift(Sr(t,l,s))):r||(l=yr(t,a),l!=null&&i.push(Sr(t,l,s)))),t=t.return}i.length!==0&&e.push({event:n,listeners:i})}var Ph=/\r\n?/g,Ch=/\u0000|\uFFFD/g;function vc(e){return(typeof e=="string"?e:""+e).replace(Ph,`
`).replace(Ch,"")}function ra(e,n,t){if(n=vc(n),vc(e)!==n&&t)throw Error(C(425))}function Fa(){}var As=null,Is=null;function Fs(e,n){return e==="textarea"||e==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var $s=typeof setTimeout=="function"?setTimeout:void 0,Rh=typeof clearTimeout=="function"?clearTimeout:void 0,mc=typeof Promise=="function"?Promise:void 0,Nh=typeof queueMicrotask=="function"?queueMicrotask:typeof mc<"u"?function(e){return mc.resolve(null).then(e).catch(Th)}:$s;function Th(e){setTimeout(function(){throw e})}function Hi(e,n){var t=n,o=0;do{var r=t.nextSibling;if(e.removeChild(t),r&&r.nodeType===8)if(t=r.data,t==="/$"){if(o===0){e.removeChild(r),br(n);return}o--}else t!=="$"&&t!=="$?"&&t!=="$!"||o++;t=r}while(t);br(n)}function ct(e){for(;e!=null;e=e.nextSibling){var n=e.nodeType;if(n===1||n===3)break;if(n===8){if(n=e.data,n==="$"||n==="$!"||n==="$?")break;if(n==="/$")return null}}return e}function fc(e){e=e.previousSibling;for(var n=0;e;){if(e.nodeType===8){var t=e.data;if(t==="$"||t==="$!"||t==="$?"){if(n===0)return e;n--}else t==="/$"&&n++}e=e.previousSibling}return null}var To=Math.random().toString(36).slice(2),En="__reactFiber$"+To,Er="__reactProps$"+To,$n="__reactContainer$"+To,Us="__reactEvents$"+To,_h="__reactListeners$"+To,Mh="__reactHandles$"+To;function xt(e){var n=e[En];if(n)return n;for(var t=e.parentNode;t;){if(n=t[$n]||t[En]){if(t=n.alternate,n.child!==null||t!==null&&t.child!==null)for(e=fc(e);e!==null;){if(t=e[En])return t;e=fc(e)}return n}e=t,t=e.parentNode}return null}function Ir(e){return e=e[En]||e[$n],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function oo(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(C(33))}function ui(e){return e[Er]||null}var Vs=[],ro=-1;function zt(e){return{current:e}}function ae(e){0>ro||(e.current=Vs[ro],Vs[ro]=null,ro--)}function te(e,n){ro++,Vs[ro]=e.current,e.current=n}var kt={},_e=zt(kt),Ve=zt(!1),_t=kt;function wo(e,n){var t=e.type.contextTypes;if(!t)return kt;var o=e.stateNode;if(o&&o.__reactInternalMemoizedUnmaskedChildContext===n)return o.__reactInternalMemoizedMaskedChildContext;var r={},a;for(a in t)r[a]=n[a];return o&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=n,e.__reactInternalMemoizedMaskedChildContext=r),r}function Be(e){return e=e.childContextTypes,e!=null}function $a(){ae(Ve),ae(_e)}function kc(e,n,t){if(_e.current!==kt)throw Error(C(168));te(_e,n),te(Ve,t)}function Qp(e,n,t){var o=e.stateNode;if(n=n.childContextTypes,typeof o.getChildContext!="function")return t;o=o.getChildContext();for(var r in o)if(!(r in n))throw Error(C(108,hk(e)||"Unknown",r));return pe({},t,o)}function Ua(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||kt,_t=_e.current,te(_e,e),te(Ve,Ve.current),!0}function hc(e,n,t){var o=e.stateNode;if(!o)throw Error(C(169));t?(e=Qp(e,n,_t),o.__reactInternalMemoizedMergedChildContext=e,ae(Ve),ae(_e),te(_e,e)):ae(Ve),te(Ve,t)}var Mn=null,ci=!1,Zi=!1;function Gp(e){Mn===null?Mn=[e]:Mn.push(e)}function Oh(e){ci=!0,Gp(e)}function jt(){if(!Zi&&Mn!==null){Zi=!0;var e=0,n=q;try{var t=Mn;for(q=1;e<t.length;e++){var o=t[e];do o=o(!0);while(o!==null)}Mn=null,ci=!1}catch(r){throw Mn!==null&&(Mn=Mn.slice(e+1)),bp(Tl,jt),r}finally{q=n,Zi=!1}}return null}var ao=[],io=0,Va=null,Ba=0,rn=[],an=0,Mt=null,On=1,Dn="";function gt(e,n){ao[io++]=Ba,ao[io++]=Va,Va=e,Ba=n}function Xp(e,n,t){rn[an++]=On,rn[an++]=Dn,rn[an++]=Mt,Mt=e;var o=On;e=Dn;var r=32-zn(o)-1;o&=~(1<<r),t+=1;var a=32-zn(n)+r;if(30<a){var i=r-r%5;a=(o&(1<<i)-1).toString(32),o>>=i,r-=i,On=1<<32-zn(n)+r|t<<r|o,Dn=a+e}else On=1<<a|t<<r|o,Dn=e}function $l(e){e.return!==null&&(gt(e,1),Xp(e,1,0))}function Ul(e){for(;e===Va;)Va=ao[--io],ao[io]=null,Ba=ao[--io],ao[io]=null;for(;e===Mt;)Mt=rn[--an],rn[an]=null,Dn=rn[--an],rn[an]=null,On=rn[--an],rn[an]=null}var Xe=null,Ge=null,ue=!1,yn=null;function Yp(e,n){var t=ln(5,null,null,0);t.elementType="DELETED",t.stateNode=n,t.return=e,n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)}function yc(e,n){switch(e.tag){case 5:var t=e.type;return n=n.nodeType!==1||t.toLowerCase()!==n.nodeName.toLowerCase()?null:n,n!==null?(e.stateNode=n,Xe=e,Ge=ct(n.firstChild),!0):!1;case 6:return n=e.pendingProps===""||n.nodeType!==3?null:n,n!==null?(e.stateNode=n,Xe=e,Ge=null,!0):!1;case 13:return n=n.nodeType!==8?null:n,n!==null?(t=Mt!==null?{id:On,overflow:Dn}:null,e.memoizedState={dehydrated:n,treeContext:t,retryLane:1073741824},t=ln(18,null,null,0),t.stateNode=n,t.return=e,e.child=t,Xe=e,Ge=null,!0):!1;default:return!1}}function Bs(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Ws(e){if(ue){var n=Ge;if(n){var t=n;if(!yc(e,n)){if(Bs(e))throw Error(C(418));n=ct(t.nextSibling);var o=Xe;n&&yc(e,n)?Yp(o,t):(e.flags=e.flags&-4097|2,ue=!1,Xe=e)}}else{if(Bs(e))throw Error(C(418));e.flags=e.flags&-4097|2,ue=!1,Xe=e}}}function zc(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Xe=e}function aa(e){if(e!==Xe)return!1;if(!ue)return zc(e),ue=!0,!1;var n;if((n=e.tag!==3)&&!(n=e.tag!==5)&&(n=e.type,n=n!=="head"&&n!=="body"&&!Fs(e.type,e.memoizedProps)),n&&(n=Ge)){if(Bs(e))throw qp(),Error(C(418));for(;n;)Yp(e,n),n=ct(n.nextSibling)}if(zc(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(C(317));e:{for(e=e.nextSibling,n=0;e;){if(e.nodeType===8){var t=e.data;if(t==="/$"){if(n===0){Ge=ct(e.nextSibling);break e}n--}else t!=="$"&&t!=="$!"&&t!=="$?"||n++}e=e.nextSibling}Ge=null}}else Ge=Xe?ct(e.stateNode.nextSibling):null;return!0}function qp(){for(var e=Ge;e;)e=ct(e.nextSibling)}function xo(){Ge=Xe=null,ue=!1}function Vl(e){yn===null?yn=[e]:yn.push(e)}var Dh=Wn.ReactCurrentBatchConfig;function Zo(e,n,t){if(e=t.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(t._owner){if(t=t._owner,t){if(t.tag!==1)throw Error(C(309));var o=t.stateNode}if(!o)throw Error(C(147,e));var r=o,a=""+e;return n!==null&&n.ref!==null&&typeof n.ref=="function"&&n.ref._stringRef===a?n.ref:(n=function(i){var s=r.refs;i===null?delete s[a]:s[a]=i},n._stringRef=a,n)}if(typeof e!="string")throw Error(C(284));if(!t._owner)throw Error(C(290,e))}return e}function ia(e,n){throw e=Object.prototype.toString.call(n),Error(C(31,e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e))}function jc(e){var n=e._init;return n(e._payload)}function ev(e){function n(f,m){if(e){var h=f.deletions;h===null?(f.deletions=[m],f.flags|=16):h.push(m)}}function t(f,m){if(!e)return null;for(;m!==null;)n(f,m),m=m.sibling;return null}function o(f,m){for(f=new Map;m!==null;)m.key!==null?f.set(m.key,m):f.set(m.index,m),m=m.sibling;return f}function r(f,m){return f=mt(f,m),f.index=0,f.sibling=null,f}function a(f,m,h){return f.index=h,e?(h=f.alternate,h!==null?(h=h.index,h<m?(f.flags|=2,m):h):(f.flags|=2,m)):(f.flags|=1048576,m)}function i(f){return e&&f.alternate===null&&(f.flags|=2),f}function s(f,m,h,x){return m===null||m.tag!==6?(m=es(h,f.mode,x),m.return=f,m):(m=r(m,h),m.return=f,m)}function l(f,m,h,x){var P=h.type;return P===qt?d(f,m,h.props.children,x,h.key):m!==null&&(m.elementType===P||typeof P=="object"&&P!==null&&P.$$typeof===nt&&jc(P)===m.type)?(x=r(m,h.props),x.ref=Zo(f,m,h),x.return=f,x):(x=Ca(h.type,h.key,h.props,null,f.mode,x),x.ref=Zo(f,m,h),x.return=f,x)}function u(f,m,h,x){return m===null||m.tag!==4||m.stateNode.containerInfo!==h.containerInfo||m.stateNode.implementation!==h.implementation?(m=ns(h,f.mode,x),m.return=f,m):(m=r(m,h.children||[]),m.return=f,m)}function d(f,m,h,x,P){return m===null||m.tag!==7?(m=Nt(h,f.mode,x,P),m.return=f,m):(m=r(m,h),m.return=f,m)}function p(f,m,h){if(typeof m=="string"&&m!==""||typeof m=="number")return m=es(""+m,f.mode,h),m.return=f,m;if(typeof m=="object"&&m!==null){switch(m.$$typeof){case Qr:return h=Ca(m.type,m.key,m.props,null,f.mode,h),h.ref=Zo(f,null,m),h.return=f,h;case Yt:return m=ns(m,f.mode,h),m.return=f,m;case nt:var x=m._init;return p(f,x(m._payload),h)}if(tr(m)||Vo(m))return m=Nt(m,f.mode,h,null),m.return=f,m;ia(f,m)}return null}function v(f,m,h,x){var P=m!==null?m.key:null;if(typeof h=="string"&&h!==""||typeof h=="number")return P!==null?null:s(f,m,""+h,x);if(typeof h=="object"&&h!==null){switch(h.$$typeof){case Qr:return h.key===P?l(f,m,h,x):null;case Yt:return h.key===P?u(f,m,h,x):null;case nt:return P=h._init,v(f,m,P(h._payload),x)}if(tr(h)||Vo(h))return P!==null?null:d(f,m,h,x,null);ia(f,h)}return null}function z(f,m,h,x,P){if(typeof x=="string"&&x!==""||typeof x=="number")return f=f.get(h)||null,s(m,f,""+x,P);if(typeof x=="object"&&x!==null){switch(x.$$typeof){case Qr:return f=f.get(x.key===null?h:x.key)||null,l(m,f,x,P);case Yt:return f=f.get(x.key===null?h:x.key)||null,u(m,f,x,P);case nt:var _=x._init;return z(f,m,h,_(x._payload),P)}if(tr(x)||Vo(x))return f=f.get(h)||null,d(m,f,x,P,null);ia(m,x)}return null}function j(f,m,h,x){for(var P=null,_=null,y=m,R=m=0,L=null;y!==null&&R<h.length;R++){y.index>R?(L=y,y=null):L=y.sibling;var M=v(f,y,h[R],x);if(M===null){y===null&&(y=L);break}e&&y&&M.alternate===null&&n(f,y),m=a(M,m,R),_===null?P=M:_.sibling=M,_=M,y=L}if(R===h.length)return t(f,y),ue&&gt(f,R),P;if(y===null){for(;R<h.length;R++)y=p(f,h[R],x),y!==null&&(m=a(y,m,R),_===null?P=y:_.sibling=y,_=y);return ue&&gt(f,R),P}for(y=o(f,y);R<h.length;R++)L=z(y,f,R,h[R],x),L!==null&&(e&&L.alternate!==null&&y.delete(L.key===null?R:L.key),m=a(L,m,R),_===null?P=L:_.sibling=L,_=L);return e&&y.forEach(function(Z){return n(f,Z)}),ue&&gt(f,R),P}function k(f,m,h,x){var P=Vo(h);if(typeof P!="function")throw Error(C(150));if(h=P.call(h),h==null)throw Error(C(151));for(var _=P=null,y=m,R=m=0,L=null,M=h.next();y!==null&&!M.done;R++,M=h.next()){y.index>R?(L=y,y=null):L=y.sibling;var Z=v(f,y,M.value,x);if(Z===null){y===null&&(y=L);break}e&&y&&Z.alternate===null&&n(f,y),m=a(Z,m,R),_===null?P=Z:_.sibling=Z,_=Z,y=L}if(M.done)return t(f,y),ue&&gt(f,R),P;if(y===null){for(;!M.done;R++,M=h.next())M=p(f,M.value,x),M!==null&&(m=a(M,m,R),_===null?P=M:_.sibling=M,_=M);return ue&&gt(f,R),P}for(y=o(f,y);!M.done;R++,M=h.next())M=z(y,f,R,M.value,x),M!==null&&(e&&M.alternate!==null&&y.delete(M.key===null?R:M.key),m=a(M,m,R),_===null?P=M:_.sibling=M,_=M);return e&&y.forEach(function(U){return n(f,U)}),ue&&gt(f,R),P}function w(f,m,h,x){if(typeof h=="object"&&h!==null&&h.type===qt&&h.key===null&&(h=h.props.children),typeof h=="object"&&h!==null){switch(h.$$typeof){case Qr:e:{for(var P=h.key,_=m;_!==null;){if(_.key===P){if(P=h.type,P===qt){if(_.tag===7){t(f,_.sibling),m=r(_,h.props.children),m.return=f,f=m;break e}}else if(_.elementType===P||typeof P=="object"&&P!==null&&P.$$typeof===nt&&jc(P)===_.type){t(f,_.sibling),m=r(_,h.props),m.ref=Zo(f,_,h),m.return=f,f=m;break e}t(f,_);break}else n(f,_);_=_.sibling}h.type===qt?(m=Nt(h.props.children,f.mode,x,h.key),m.return=f,f=m):(x=Ca(h.type,h.key,h.props,null,f.mode,x),x.ref=Zo(f,m,h),x.return=f,f=x)}return i(f);case Yt:e:{for(_=h.key;m!==null;){if(m.key===_)if(m.tag===4&&m.stateNode.containerInfo===h.containerInfo&&m.stateNode.implementation===h.implementation){t(f,m.sibling),m=r(m,h.children||[]),m.return=f,f=m;break e}else{t(f,m);break}else n(f,m);m=m.sibling}m=ns(h,f.mode,x),m.return=f,f=m}return i(f);case nt:return _=h._init,w(f,m,_(h._payload),x)}if(tr(h))return j(f,m,h,x);if(Vo(h))return k(f,m,h,x);ia(f,h)}return typeof h=="string"&&h!==""||typeof h=="number"?(h=""+h,m!==null&&m.tag===6?(t(f,m.sibling),m=r(m,h),m.return=f,f=m):(t(f,m),m=es(h,f.mode,x),m.return=f,f=m),i(f)):t(f,m)}return w}var So=ev(!0),nv=ev(!1),Wa=zt(null),Ka=null,so=null,Bl=null;function Wl(){Bl=so=Ka=null}function Kl(e){var n=Wa.current;ae(Wa),e._currentValue=n}function Ks(e,n,t){for(;e!==null;){var o=e.alternate;if((e.childLanes&n)!==n?(e.childLanes|=n,o!==null&&(o.childLanes|=n)):o!==null&&(o.childLanes&n)!==n&&(o.childLanes|=n),e===t)break;e=e.return}}function ho(e,n){Ka=e,Bl=so=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&n&&(Ue=!0),e.firstContext=null)}function cn(e){var n=e._currentValue;if(Bl!==e)if(e={context:e,memoizedValue:n,next:null},so===null){if(Ka===null)throw Error(C(308));so=e,Ka.dependencies={lanes:0,firstContext:e}}else so=so.next=e;return n}var St=null;function Hl(e){St===null?St=[e]:St.push(e)}function tv(e,n,t,o){var r=n.interleaved;return r===null?(t.next=t,Hl(n)):(t.next=r.next,r.next=t),n.interleaved=t,Un(e,o)}function Un(e,n){e.lanes|=n;var t=e.alternate;for(t!==null&&(t.lanes|=n),t=e,e=e.return;e!==null;)e.childLanes|=n,t=e.alternate,t!==null&&(t.childLanes|=n),t=e,e=e.return;return t.tag===3?t.stateNode:null}var tt=!1;function Zl(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function ov(e,n){e=e.updateQueue,n.updateQueue===e&&(n.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function An(e,n){return{eventTime:e,lane:n,tag:0,payload:null,callback:null,next:null}}function dt(e,n,t){var o=e.updateQueue;if(o===null)return null;if(o=o.shared,Y&2){var r=o.pending;return r===null?n.next=n:(n.next=r.next,r.next=n),o.pending=n,Un(e,t)}return r=o.interleaved,r===null?(n.next=n,Hl(o)):(n.next=r.next,r.next=n),o.interleaved=n,Un(e,t)}function ga(e,n,t){if(n=n.updateQueue,n!==null&&(n=n.shared,(t&4194240)!==0)){var o=n.lanes;o&=e.pendingLanes,t|=o,n.lanes=t,_l(e,t)}}function bc(e,n){var t=e.updateQueue,o=e.alternate;if(o!==null&&(o=o.updateQueue,t===o)){var r=null,a=null;if(t=t.firstBaseUpdate,t!==null){do{var i={eventTime:t.eventTime,lane:t.lane,tag:t.tag,payload:t.payload,callback:t.callback,next:null};a===null?r=a=i:a=a.next=i,t=t.next}while(t!==null);a===null?r=a=n:a=a.next=n}else r=a=n;t={baseState:o.baseState,firstBaseUpdate:r,lastBaseUpdate:a,shared:o.shared,effects:o.effects},e.updateQueue=t;return}e=t.lastBaseUpdate,e===null?t.firstBaseUpdate=n:e.next=n,t.lastBaseUpdate=n}function Ha(e,n,t,o){var r=e.updateQueue;tt=!1;var a=r.firstBaseUpdate,i=r.lastBaseUpdate,s=r.shared.pending;if(s!==null){r.shared.pending=null;var l=s,u=l.next;l.next=null,i===null?a=u:i.next=u,i=l;var d=e.alternate;d!==null&&(d=d.updateQueue,s=d.lastBaseUpdate,s!==i&&(s===null?d.firstBaseUpdate=u:s.next=u,d.lastBaseUpdate=l))}if(a!==null){var p=r.baseState;i=0,d=u=l=null,s=a;do{var v=s.lane,z=s.eventTime;if((o&v)===v){d!==null&&(d=d.next={eventTime:z,lane:0,tag:s.tag,payload:s.payload,callback:s.callback,next:null});e:{var j=e,k=s;switch(v=n,z=t,k.tag){case 1:if(j=k.payload,typeof j=="function"){p=j.call(z,p,v);break e}p=j;break e;case 3:j.flags=j.flags&-65537|128;case 0:if(j=k.payload,v=typeof j=="function"?j.call(z,p,v):j,v==null)break e;p=pe({},p,v);break e;case 2:tt=!0}}s.callback!==null&&s.lane!==0&&(e.flags|=64,v=r.effects,v===null?r.effects=[s]:v.push(s))}else z={eventTime:z,lane:v,tag:s.tag,payload:s.payload,callback:s.callback,next:null},d===null?(u=d=z,l=p):d=d.next=z,i|=v;if(s=s.next,s===null){if(s=r.shared.pending,s===null)break;v=s,s=v.next,v.next=null,r.lastBaseUpdate=v,r.shared.pending=null}}while(!0);if(d===null&&(l=p),r.baseState=l,r.firstBaseUpdate=u,r.lastBaseUpdate=d,n=r.shared.interleaved,n!==null){r=n;do i|=r.lane,r=r.next;while(r!==n)}else a===null&&(r.shared.lanes=0);Dt|=i,e.lanes=i,e.memoizedState=p}}function gc(e,n,t){if(e=n.effects,n.effects=null,e!==null)for(n=0;n<e.length;n++){var o=e[n],r=o.callback;if(r!==null){if(o.callback=null,o=t,typeof r!="function")throw Error(C(191,r));r.call(o)}}}var Fr={},Nn=zt(Fr),Pr=zt(Fr),Cr=zt(Fr);function Et(e){if(e===Fr)throw Error(C(174));return e}function Jl(e,n){switch(te(Cr,n),te(Pr,e),te(Nn,Fr),e=n.nodeType,e){case 9:case 11:n=(n=n.documentElement)?n.namespaceURI:Ss(null,"");break;default:e=e===8?n.parentNode:n,n=e.namespaceURI||null,e=e.tagName,n=Ss(n,e)}ae(Nn),te(Nn,n)}function Eo(){ae(Nn),ae(Pr),ae(Cr)}function rv(e){Et(Cr.current);var n=Et(Nn.current),t=Ss(n,e.type);n!==t&&(te(Pr,e),te(Nn,t))}function Ql(e){Pr.current===e&&(ae(Nn),ae(Pr))}var ce=zt(0);function Za(e){for(var n=e;n!==null;){if(n.tag===13){var t=n.memoizedState;if(t!==null&&(t=t.dehydrated,t===null||t.data==="$?"||t.data==="$!"))return n}else if(n.tag===19&&n.memoizedProps.revealOrder!==void 0){if(n.flags&128)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var Ji=[];function Gl(){for(var e=0;e<Ji.length;e++)Ji[e]._workInProgressVersionPrimary=null;Ji.length=0}var wa=Wn.ReactCurrentDispatcher,Qi=Wn.ReactCurrentBatchConfig,Ot=0,de=null,ye=null,be=null,Ja=!1,cr=!1,Rr=0,Lh=0;function Re(){throw Error(C(321))}function Xl(e,n){if(n===null)return!1;for(var t=0;t<n.length&&t<e.length;t++)if(!bn(e[t],n[t]))return!1;return!0}function Yl(e,n,t,o,r,a){if(Ot=a,de=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,wa.current=e===null||e.memoizedState===null?$h:Uh,e=t(o,r),cr){a=0;do{if(cr=!1,Rr=0,25<=a)throw Error(C(301));a+=1,be=ye=null,n.updateQueue=null,wa.current=Vh,e=t(o,r)}while(cr)}if(wa.current=Qa,n=ye!==null&&ye.next!==null,Ot=0,be=ye=de=null,Ja=!1,n)throw Error(C(300));return e}function ql(){var e=Rr!==0;return Rr=0,e}function Sn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return be===null?de.memoizedState=be=e:be=be.next=e,be}function dn(){if(ye===null){var e=de.alternate;e=e!==null?e.memoizedState:null}else e=ye.next;var n=be===null?de.memoizedState:be.next;if(n!==null)be=n,ye=e;else{if(e===null)throw Error(C(310));ye=e,e={memoizedState:ye.memoizedState,baseState:ye.baseState,baseQueue:ye.baseQueue,queue:ye.queue,next:null},be===null?de.memoizedState=be=e:be=be.next=e}return be}function Nr(e,n){return typeof n=="function"?n(e):n}function Gi(e){var n=dn(),t=n.queue;if(t===null)throw Error(C(311));t.lastRenderedReducer=e;var o=ye,r=o.baseQueue,a=t.pending;if(a!==null){if(r!==null){var i=r.next;r.next=a.next,a.next=i}o.baseQueue=r=a,t.pending=null}if(r!==null){a=r.next,o=o.baseState;var s=i=null,l=null,u=a;do{var d=u.lane;if((Ot&d)===d)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),o=u.hasEagerState?u.eagerState:e(o,u.action);else{var p={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(s=l=p,i=o):l=l.next=p,de.lanes|=d,Dt|=d}u=u.next}while(u!==null&&u!==a);l===null?i=o:l.next=s,bn(o,n.memoizedState)||(Ue=!0),n.memoizedState=o,n.baseState=i,n.baseQueue=l,t.lastRenderedState=o}if(e=t.interleaved,e!==null){r=e;do a=r.lane,de.lanes|=a,Dt|=a,r=r.next;while(r!==e)}else r===null&&(t.lanes=0);return[n.memoizedState,t.dispatch]}function Xi(e){var n=dn(),t=n.queue;if(t===null)throw Error(C(311));t.lastRenderedReducer=e;var o=t.dispatch,r=t.pending,a=n.memoizedState;if(r!==null){t.pending=null;var i=r=r.next;do a=e(a,i.action),i=i.next;while(i!==r);bn(a,n.memoizedState)||(Ue=!0),n.memoizedState=a,n.baseQueue===null&&(n.baseState=a),t.lastRenderedState=a}return[a,o]}function av(){}function iv(e,n){var t=de,o=dn(),r=n(),a=!bn(o.memoizedState,r);if(a&&(o.memoizedState=r,Ue=!0),o=o.queue,eu(uv.bind(null,t,o,e),[e]),o.getSnapshot!==n||a||be!==null&&be.memoizedState.tag&1){if(t.flags|=2048,Tr(9,lv.bind(null,t,o,r,n),void 0,null),ge===null)throw Error(C(349));Ot&30||sv(t,n,r)}return r}function sv(e,n,t){e.flags|=16384,e={getSnapshot:n,value:t},n=de.updateQueue,n===null?(n={lastEffect:null,stores:null},de.updateQueue=n,n.stores=[e]):(t=n.stores,t===null?n.stores=[e]:t.push(e))}function lv(e,n,t,o){n.value=t,n.getSnapshot=o,cv(n)&&dv(e)}function uv(e,n,t){return t(function(){cv(n)&&dv(e)})}function cv(e){var n=e.getSnapshot;e=e.value;try{var t=n();return!bn(e,t)}catch{return!0}}function dv(e){var n=Un(e,1);n!==null&&jn(n,e,1,-1)}function wc(e){var n=Sn();return typeof e=="function"&&(e=e()),n.memoizedState=n.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Nr,lastRenderedState:e},n.queue=e,e=e.dispatch=Fh.bind(null,de,e),[n.memoizedState,e]}function Tr(e,n,t,o){return e={tag:e,create:n,destroy:t,deps:o,next:null},n=de.updateQueue,n===null?(n={lastEffect:null,stores:null},de.updateQueue=n,n.lastEffect=e.next=e):(t=n.lastEffect,t===null?n.lastEffect=e.next=e:(o=t.next,t.next=e,e.next=o,n.lastEffect=e)),e}function pv(){return dn().memoizedState}function xa(e,n,t,o){var r=Sn();de.flags|=e,r.memoizedState=Tr(1|n,t,void 0,o===void 0?null:o)}function di(e,n,t,o){var r=dn();o=o===void 0?null:o;var a=void 0;if(ye!==null){var i=ye.memoizedState;if(a=i.destroy,o!==null&&Xl(o,i.deps)){r.memoizedState=Tr(n,t,a,o);return}}de.flags|=e,r.memoizedState=Tr(1|n,t,a,o)}function xc(e,n){return xa(8390656,8,e,n)}function eu(e,n){return di(2048,8,e,n)}function vv(e,n){return di(4,2,e,n)}function mv(e,n){return di(4,4,e,n)}function fv(e,n){if(typeof n=="function")return e=e(),n(e),function(){n(null)};if(n!=null)return e=e(),n.current=e,function(){n.current=null}}function kv(e,n,t){return t=t!=null?t.concat([e]):null,di(4,4,fv.bind(null,n,e),t)}function nu(){}function hv(e,n){var t=dn();n=n===void 0?null:n;var o=t.memoizedState;return o!==null&&n!==null&&Xl(n,o[1])?o[0]:(t.memoizedState=[e,n],e)}function yv(e,n){var t=dn();n=n===void 0?null:n;var o=t.memoizedState;return o!==null&&n!==null&&Xl(n,o[1])?o[0]:(e=e(),t.memoizedState=[e,n],e)}function zv(e,n,t){return Ot&21?(bn(t,n)||(t=xp(),de.lanes|=t,Dt|=t,e.baseState=!0),n):(e.baseState&&(e.baseState=!1,Ue=!0),e.memoizedState=t)}function Ah(e,n){var t=q;q=t!==0&&4>t?t:4,e(!0);var o=Qi.transition;Qi.transition={};try{e(!1),n()}finally{q=t,Qi.transition=o}}function jv(){return dn().memoizedState}function Ih(e,n,t){var o=vt(e);if(t={lane:o,action:t,hasEagerState:!1,eagerState:null,next:null},bv(e))gv(n,t);else if(t=tv(e,n,t,o),t!==null){var r=Le();jn(t,e,o,r),wv(t,n,o)}}function Fh(e,n,t){var o=vt(e),r={lane:o,action:t,hasEagerState:!1,eagerState:null,next:null};if(bv(e))gv(n,r);else{var a=e.alternate;if(e.lanes===0&&(a===null||a.lanes===0)&&(a=n.lastRenderedReducer,a!==null))try{var i=n.lastRenderedState,s=a(i,t);if(r.hasEagerState=!0,r.eagerState=s,bn(s,i)){var l=n.interleaved;l===null?(r.next=r,Hl(n)):(r.next=l.next,l.next=r),n.interleaved=r;return}}catch{}finally{}t=tv(e,n,r,o),t!==null&&(r=Le(),jn(t,e,o,r),wv(t,n,o))}}function bv(e){var n=e.alternate;return e===de||n!==null&&n===de}function gv(e,n){cr=Ja=!0;var t=e.pending;t===null?n.next=n:(n.next=t.next,t.next=n),e.pending=n}function wv(e,n,t){if(t&4194240){var o=n.lanes;o&=e.pendingLanes,t|=o,n.lanes=t,_l(e,t)}}var Qa={readContext:cn,useCallback:Re,useContext:Re,useEffect:Re,useImperativeHandle:Re,useInsertionEffect:Re,useLayoutEffect:Re,useMemo:Re,useReducer:Re,useRef:Re,useState:Re,useDebugValue:Re,useDeferredValue:Re,useTransition:Re,useMutableSource:Re,useSyncExternalStore:Re,useId:Re,unstable_isNewReconciler:!1},$h={readContext:cn,useCallback:function(e,n){return Sn().memoizedState=[e,n===void 0?null:n],e},useContext:cn,useEffect:xc,useImperativeHandle:function(e,n,t){return t=t!=null?t.concat([e]):null,xa(4194308,4,fv.bind(null,n,e),t)},useLayoutEffect:function(e,n){return xa(4194308,4,e,n)},useInsertionEffect:function(e,n){return xa(4,2,e,n)},useMemo:function(e,n){var t=Sn();return n=n===void 0?null:n,e=e(),t.memoizedState=[e,n],e},useReducer:function(e,n,t){var o=Sn();return n=t!==void 0?t(n):n,o.memoizedState=o.baseState=n,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:n},o.queue=e,e=e.dispatch=Ih.bind(null,de,e),[o.memoizedState,e]},useRef:function(e){var n=Sn();return e={current:e},n.memoizedState=e},useState:wc,useDebugValue:nu,useDeferredValue:function(e){return Sn().memoizedState=e},useTransition:function(){var e=wc(!1),n=e[0];return e=Ah.bind(null,e[1]),Sn().memoizedState=e,[n,e]},useMutableSource:function(){},useSyncExternalStore:function(e,n,t){var o=de,r=Sn();if(ue){if(t===void 0)throw Error(C(407));t=t()}else{if(t=n(),ge===null)throw Error(C(349));Ot&30||sv(o,n,t)}r.memoizedState=t;var a={value:t,getSnapshot:n};return r.queue=a,xc(uv.bind(null,o,a,e),[e]),o.flags|=2048,Tr(9,lv.bind(null,o,a,t,n),void 0,null),t},useId:function(){var e=Sn(),n=ge.identifierPrefix;if(ue){var t=Dn,o=On;t=(o&~(1<<32-zn(o)-1)).toString(32)+t,n=":"+n+"R"+t,t=Rr++,0<t&&(n+="H"+t.toString(32)),n+=":"}else t=Lh++,n=":"+n+"r"+t.toString(32)+":";return e.memoizedState=n},unstable_isNewReconciler:!1},Uh={readContext:cn,useCallback:hv,useContext:cn,useEffect:eu,useImperativeHandle:kv,useInsertionEffect:vv,useLayoutEffect:mv,useMemo:yv,useReducer:Gi,useRef:pv,useState:function(){return Gi(Nr)},useDebugValue:nu,useDeferredValue:function(e){var n=dn();return zv(n,ye.memoizedState,e)},useTransition:function(){var e=Gi(Nr)[0],n=dn().memoizedState;return[e,n]},useMutableSource:av,useSyncExternalStore:iv,useId:jv,unstable_isNewReconciler:!1},Vh={readContext:cn,useCallback:hv,useContext:cn,useEffect:eu,useImperativeHandle:kv,useInsertionEffect:vv,useLayoutEffect:mv,useMemo:yv,useReducer:Xi,useRef:pv,useState:function(){return Xi(Nr)},useDebugValue:nu,useDeferredValue:function(e){var n=dn();return ye===null?n.memoizedState=e:zv(n,ye.memoizedState,e)},useTransition:function(){var e=Xi(Nr)[0],n=dn().memoizedState;return[e,n]},useMutableSource:av,useSyncExternalStore:iv,useId:jv,unstable_isNewReconciler:!1};function fn(e,n){if(e&&e.defaultProps){n=pe({},n),e=e.defaultProps;for(var t in e)n[t]===void 0&&(n[t]=e[t]);return n}return n}function Hs(e,n,t,o){n=e.memoizedState,t=t(o,n),t=t==null?n:pe({},n,t),e.memoizedState=t,e.lanes===0&&(e.updateQueue.baseState=t)}var pi={isMounted:function(e){return(e=e._reactInternals)?Ut(e)===e:!1},enqueueSetState:function(e,n,t){e=e._reactInternals;var o=Le(),r=vt(e),a=An(o,r);a.payload=n,t!=null&&(a.callback=t),n=dt(e,a,r),n!==null&&(jn(n,e,r,o),ga(n,e,r))},enqueueReplaceState:function(e,n,t){e=e._reactInternals;var o=Le(),r=vt(e),a=An(o,r);a.tag=1,a.payload=n,t!=null&&(a.callback=t),n=dt(e,a,r),n!==null&&(jn(n,e,r,o),ga(n,e,r))},enqueueForceUpdate:function(e,n){e=e._reactInternals;var t=Le(),o=vt(e),r=An(t,o);r.tag=2,n!=null&&(r.callback=n),n=dt(e,r,o),n!==null&&(jn(n,e,o,t),ga(n,e,o))}};function Sc(e,n,t,o,r,a,i){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(o,a,i):n.prototype&&n.prototype.isPureReactComponent?!wr(t,o)||!wr(r,a):!0}function xv(e,n,t){var o=!1,r=kt,a=n.contextType;return typeof a=="object"&&a!==null?a=cn(a):(r=Be(n)?_t:_e.current,o=n.contextTypes,a=(o=o!=null)?wo(e,r):kt),n=new n(t,a),e.memoizedState=n.state!==null&&n.state!==void 0?n.state:null,n.updater=pi,e.stateNode=n,n._reactInternals=e,o&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=r,e.__reactInternalMemoizedMaskedChildContext=a),n}function Ec(e,n,t,o){e=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(t,o),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(t,o),n.state!==e&&pi.enqueueReplaceState(n,n.state,null)}function Zs(e,n,t,o){var r=e.stateNode;r.props=t,r.state=e.memoizedState,r.refs={},Zl(e);var a=n.contextType;typeof a=="object"&&a!==null?r.context=cn(a):(a=Be(n)?_t:_e.current,r.context=wo(e,a)),r.state=e.memoizedState,a=n.getDerivedStateFromProps,typeof a=="function"&&(Hs(e,n,a,t),r.state=e.memoizedState),typeof n.getDerivedStateFromProps=="function"||typeof r.getSnapshotBeforeUpdate=="function"||typeof r.UNSAFE_componentWillMount!="function"&&typeof r.componentWillMount!="function"||(n=r.state,typeof r.componentWillMount=="function"&&r.componentWillMount(),typeof r.UNSAFE_componentWillMount=="function"&&r.UNSAFE_componentWillMount(),n!==r.state&&pi.enqueueReplaceState(r,r.state,null),Ha(e,t,r,o),r.state=e.memoizedState),typeof r.componentDidMount=="function"&&(e.flags|=4194308)}function Po(e,n){try{var t="",o=n;do t+=kk(o),o=o.return;while(o);var r=t}catch(a){r=`
Error generating stack: `+a.message+`
`+a.stack}return{value:e,source:n,stack:r,digest:null}}function Yi(e,n,t){return{value:e,source:null,stack:t??null,digest:n??null}}function Js(e,n){try{console.error(n.value)}catch(t){setTimeout(function(){throw t})}}var Bh=typeof WeakMap=="function"?WeakMap:Map;function Sv(e,n,t){t=An(-1,t),t.tag=3,t.payload={element:null};var o=n.value;return t.callback=function(){Xa||(Xa=!0,rl=o),Js(e,n)},t}function Ev(e,n,t){t=An(-1,t),t.tag=3;var o=e.type.getDerivedStateFromError;if(typeof o=="function"){var r=n.value;t.payload=function(){return o(r)},t.callback=function(){Js(e,n)}}var a=e.stateNode;return a!==null&&typeof a.componentDidCatch=="function"&&(t.callback=function(){Js(e,n),typeof o!="function"&&(pt===null?pt=new Set([this]):pt.add(this));var i=n.stack;this.componentDidCatch(n.value,{componentStack:i!==null?i:""})}),t}function Pc(e,n,t){var o=e.pingCache;if(o===null){o=e.pingCache=new Bh;var r=new Set;o.set(n,r)}else r=o.get(n),r===void 0&&(r=new Set,o.set(n,r));r.has(t)||(r.add(t),e=oy.bind(null,e,n,t),n.then(e,e))}function Cc(e){do{var n;if((n=e.tag===13)&&(n=e.memoizedState,n=n!==null?n.dehydrated!==null:!0),n)return e;e=e.return}while(e!==null);return null}function Rc(e,n,t,o,r){return e.mode&1?(e.flags|=65536,e.lanes=r,e):(e===n?e.flags|=65536:(e.flags|=128,t.flags|=131072,t.flags&=-52805,t.tag===1&&(t.alternate===null?t.tag=17:(n=An(-1,1),n.tag=2,dt(t,n,1))),t.lanes|=1),e)}var Wh=Wn.ReactCurrentOwner,Ue=!1;function De(e,n,t,o){n.child=e===null?nv(n,null,t,o):So(n,e.child,t,o)}function Nc(e,n,t,o,r){t=t.render;var a=n.ref;return ho(n,r),o=Yl(e,n,t,o,a,r),t=ql(),e!==null&&!Ue?(n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~r,Vn(e,n,r)):(ue&&t&&$l(n),n.flags|=1,De(e,n,o,r),n.child)}function Tc(e,n,t,o,r){if(e===null){var a=t.type;return typeof a=="function"&&!uu(a)&&a.defaultProps===void 0&&t.compare===null&&t.defaultProps===void 0?(n.tag=15,n.type=a,Pv(e,n,a,o,r)):(e=Ca(t.type,null,o,n,n.mode,r),e.ref=n.ref,e.return=n,n.child=e)}if(a=e.child,!(e.lanes&r)){var i=a.memoizedProps;if(t=t.compare,t=t!==null?t:wr,t(i,o)&&e.ref===n.ref)return Vn(e,n,r)}return n.flags|=1,e=mt(a,o),e.ref=n.ref,e.return=n,n.child=e}function Pv(e,n,t,o,r){if(e!==null){var a=e.memoizedProps;if(wr(a,o)&&e.ref===n.ref)if(Ue=!1,n.pendingProps=o=a,(e.lanes&r)!==0)e.flags&131072&&(Ue=!0);else return n.lanes=e.lanes,Vn(e,n,r)}return Qs(e,n,t,o,r)}function Cv(e,n,t){var o=n.pendingProps,r=o.children,a=e!==null?e.memoizedState:null;if(o.mode==="hidden")if(!(n.mode&1))n.memoizedState={baseLanes:0,cachePool:null,transitions:null},te(uo,Qe),Qe|=t;else{if(!(t&1073741824))return e=a!==null?a.baseLanes|t:t,n.lanes=n.childLanes=1073741824,n.memoizedState={baseLanes:e,cachePool:null,transitions:null},n.updateQueue=null,te(uo,Qe),Qe|=e,null;n.memoizedState={baseLanes:0,cachePool:null,transitions:null},o=a!==null?a.baseLanes:t,te(uo,Qe),Qe|=o}else a!==null?(o=a.baseLanes|t,n.memoizedState=null):o=t,te(uo,Qe),Qe|=o;return De(e,n,r,t),n.child}function Rv(e,n){var t=n.ref;(e===null&&t!==null||e!==null&&e.ref!==t)&&(n.flags|=512,n.flags|=2097152)}function Qs(e,n,t,o,r){var a=Be(t)?_t:_e.current;return a=wo(n,a),ho(n,r),t=Yl(e,n,t,o,a,r),o=ql(),e!==null&&!Ue?(n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~r,Vn(e,n,r)):(ue&&o&&$l(n),n.flags|=1,De(e,n,t,r),n.child)}function _c(e,n,t,o,r){if(Be(t)){var a=!0;Ua(n)}else a=!1;if(ho(n,r),n.stateNode===null)Sa(e,n),xv(n,t,o),Zs(n,t,o,r),o=!0;else if(e===null){var i=n.stateNode,s=n.memoizedProps;i.props=s;var l=i.context,u=t.contextType;typeof u=="object"&&u!==null?u=cn(u):(u=Be(t)?_t:_e.current,u=wo(n,u));var d=t.getDerivedStateFromProps,p=typeof d=="function"||typeof i.getSnapshotBeforeUpdate=="function";p||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(s!==o||l!==u)&&Ec(n,i,o,u),tt=!1;var v=n.memoizedState;i.state=v,Ha(n,o,i,r),l=n.memoizedState,s!==o||v!==l||Ve.current||tt?(typeof d=="function"&&(Hs(n,t,d,o),l=n.memoizedState),(s=tt||Sc(n,t,s,o,v,l,u))?(p||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount()),typeof i.componentDidMount=="function"&&(n.flags|=4194308)):(typeof i.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=o,n.memoizedState=l),i.props=o,i.state=l,i.context=u,o=s):(typeof i.componentDidMount=="function"&&(n.flags|=4194308),o=!1)}else{i=n.stateNode,ov(e,n),s=n.memoizedProps,u=n.type===n.elementType?s:fn(n.type,s),i.props=u,p=n.pendingProps,v=i.context,l=t.contextType,typeof l=="object"&&l!==null?l=cn(l):(l=Be(t)?_t:_e.current,l=wo(n,l));var z=t.getDerivedStateFromProps;(d=typeof z=="function"||typeof i.getSnapshotBeforeUpdate=="function")||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(s!==p||v!==l)&&Ec(n,i,o,l),tt=!1,v=n.memoizedState,i.state=v,Ha(n,o,i,r);var j=n.memoizedState;s!==p||v!==j||Ve.current||tt?(typeof z=="function"&&(Hs(n,t,z,o),j=n.memoizedState),(u=tt||Sc(n,t,u,o,v,j,l)||!1)?(d||typeof i.UNSAFE_componentWillUpdate!="function"&&typeof i.componentWillUpdate!="function"||(typeof i.componentWillUpdate=="function"&&i.componentWillUpdate(o,j,l),typeof i.UNSAFE_componentWillUpdate=="function"&&i.UNSAFE_componentWillUpdate(o,j,l)),typeof i.componentDidUpdate=="function"&&(n.flags|=4),typeof i.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof i.componentDidUpdate!="function"||s===e.memoizedProps&&v===e.memoizedState||(n.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||s===e.memoizedProps&&v===e.memoizedState||(n.flags|=1024),n.memoizedProps=o,n.memoizedState=j),i.props=o,i.state=j,i.context=l,o=u):(typeof i.componentDidUpdate!="function"||s===e.memoizedProps&&v===e.memoizedState||(n.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||s===e.memoizedProps&&v===e.memoizedState||(n.flags|=1024),o=!1)}return Gs(e,n,t,o,a,r)}function Gs(e,n,t,o,r,a){Rv(e,n);var i=(n.flags&128)!==0;if(!o&&!i)return r&&hc(n,t,!1),Vn(e,n,a);o=n.stateNode,Wh.current=n;var s=i&&typeof t.getDerivedStateFromError!="function"?null:o.render();return n.flags|=1,e!==null&&i?(n.child=So(n,e.child,null,a),n.child=So(n,null,s,a)):De(e,n,s,a),n.memoizedState=o.state,r&&hc(n,t,!0),n.child}function Nv(e){var n=e.stateNode;n.pendingContext?kc(e,n.pendingContext,n.pendingContext!==n.context):n.context&&kc(e,n.context,!1),Jl(e,n.containerInfo)}function Mc(e,n,t,o,r){return xo(),Vl(r),n.flags|=256,De(e,n,t,o),n.child}var Xs={dehydrated:null,treeContext:null,retryLane:0};function Ys(e){return{baseLanes:e,cachePool:null,transitions:null}}function Tv(e,n,t){var o=n.pendingProps,r=ce.current,a=!1,i=(n.flags&128)!==0,s;if((s=i)||(s=e!==null&&e.memoizedState===null?!1:(r&2)!==0),s?(a=!0,n.flags&=-129):(e===null||e.memoizedState!==null)&&(r|=1),te(ce,r&1),e===null)return Ws(n),e=n.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(n.mode&1?e.data==="$!"?n.lanes=8:n.lanes=1073741824:n.lanes=1,null):(i=o.children,e=o.fallback,a?(o=n.mode,a=n.child,i={mode:"hidden",children:i},!(o&1)&&a!==null?(a.childLanes=0,a.pendingProps=i):a=fi(i,o,0,null),e=Nt(e,o,t,null),a.return=n,e.return=n,a.sibling=e,n.child=a,n.child.memoizedState=Ys(t),n.memoizedState=Xs,e):tu(n,i));if(r=e.memoizedState,r!==null&&(s=r.dehydrated,s!==null))return Kh(e,n,i,o,s,r,t);if(a){a=o.fallback,i=n.mode,r=e.child,s=r.sibling;var l={mode:"hidden",children:o.children};return!(i&1)&&n.child!==r?(o=n.child,o.childLanes=0,o.pendingProps=l,n.deletions=null):(o=mt(r,l),o.subtreeFlags=r.subtreeFlags&14680064),s!==null?a=mt(s,a):(a=Nt(a,i,t,null),a.flags|=2),a.return=n,o.return=n,o.sibling=a,n.child=o,o=a,a=n.child,i=e.child.memoizedState,i=i===null?Ys(t):{baseLanes:i.baseLanes|t,cachePool:null,transitions:i.transitions},a.memoizedState=i,a.childLanes=e.childLanes&~t,n.memoizedState=Xs,o}return a=e.child,e=a.sibling,o=mt(a,{mode:"visible",children:o.children}),!(n.mode&1)&&(o.lanes=t),o.return=n,o.sibling=null,e!==null&&(t=n.deletions,t===null?(n.deletions=[e],n.flags|=16):t.push(e)),n.child=o,n.memoizedState=null,o}function tu(e,n){return n=fi({mode:"visible",children:n},e.mode,0,null),n.return=e,e.child=n}function sa(e,n,t,o){return o!==null&&Vl(o),So(n,e.child,null,t),e=tu(n,n.pendingProps.children),e.flags|=2,n.memoizedState=null,e}function Kh(e,n,t,o,r,a,i){if(t)return n.flags&256?(n.flags&=-257,o=Yi(Error(C(422))),sa(e,n,i,o)):n.memoizedState!==null?(n.child=e.child,n.flags|=128,null):(a=o.fallback,r=n.mode,o=fi({mode:"visible",children:o.children},r,0,null),a=Nt(a,r,i,null),a.flags|=2,o.return=n,a.return=n,o.sibling=a,n.child=o,n.mode&1&&So(n,e.child,null,i),n.child.memoizedState=Ys(i),n.memoizedState=Xs,a);if(!(n.mode&1))return sa(e,n,i,null);if(r.data==="$!"){if(o=r.nextSibling&&r.nextSibling.dataset,o)var s=o.dgst;return o=s,a=Error(C(419)),o=Yi(a,o,void 0),sa(e,n,i,o)}if(s=(i&e.childLanes)!==0,Ue||s){if(o=ge,o!==null){switch(i&-i){case 4:r=2;break;case 16:r=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:r=32;break;case 536870912:r=268435456;break;default:r=0}r=r&(o.suspendedLanes|i)?0:r,r!==0&&r!==a.retryLane&&(a.retryLane=r,Un(e,r),jn(o,e,r,-1))}return lu(),o=Yi(Error(C(421))),sa(e,n,i,o)}return r.data==="$?"?(n.flags|=128,n.child=e.child,n=ry.bind(null,e),r._reactRetry=n,null):(e=a.treeContext,Ge=ct(r.nextSibling),Xe=n,ue=!0,yn=null,e!==null&&(rn[an++]=On,rn[an++]=Dn,rn[an++]=Mt,On=e.id,Dn=e.overflow,Mt=n),n=tu(n,o.children),n.flags|=4096,n)}function Oc(e,n,t){e.lanes|=n;var o=e.alternate;o!==null&&(o.lanes|=n),Ks(e.return,n,t)}function qi(e,n,t,o,r){var a=e.memoizedState;a===null?e.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:o,tail:t,tailMode:r}:(a.isBackwards=n,a.rendering=null,a.renderingStartTime=0,a.last=o,a.tail=t,a.tailMode=r)}function _v(e,n,t){var o=n.pendingProps,r=o.revealOrder,a=o.tail;if(De(e,n,o.children,t),o=ce.current,o&2)o=o&1|2,n.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=n.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Oc(e,t,n);else if(e.tag===19)Oc(e,t,n);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break e;for(;e.sibling===null;){if(e.return===null||e.return===n)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}o&=1}if(te(ce,o),!(n.mode&1))n.memoizedState=null;else switch(r){case"forwards":for(t=n.child,r=null;t!==null;)e=t.alternate,e!==null&&Za(e)===null&&(r=t),t=t.sibling;t=r,t===null?(r=n.child,n.child=null):(r=t.sibling,t.sibling=null),qi(n,!1,r,t,a);break;case"backwards":for(t=null,r=n.child,n.child=null;r!==null;){if(e=r.alternate,e!==null&&Za(e)===null){n.child=r;break}e=r.sibling,r.sibling=t,t=r,r=e}qi(n,!0,t,null,a);break;case"together":qi(n,!1,null,null,void 0);break;default:n.memoizedState=null}return n.child}function Sa(e,n){!(n.mode&1)&&e!==null&&(e.alternate=null,n.alternate=null,n.flags|=2)}function Vn(e,n,t){if(e!==null&&(n.dependencies=e.dependencies),Dt|=n.lanes,!(t&n.childLanes))return null;if(e!==null&&n.child!==e.child)throw Error(C(153));if(n.child!==null){for(e=n.child,t=mt(e,e.pendingProps),n.child=t,t.return=n;e.sibling!==null;)e=e.sibling,t=t.sibling=mt(e,e.pendingProps),t.return=n;t.sibling=null}return n.child}function Hh(e,n,t){switch(n.tag){case 3:Nv(n),xo();break;case 5:rv(n);break;case 1:Be(n.type)&&Ua(n);break;case 4:Jl(n,n.stateNode.containerInfo);break;case 10:var o=n.type._context,r=n.memoizedProps.value;te(Wa,o._currentValue),o._currentValue=r;break;case 13:if(o=n.memoizedState,o!==null)return o.dehydrated!==null?(te(ce,ce.current&1),n.flags|=128,null):t&n.child.childLanes?Tv(e,n,t):(te(ce,ce.current&1),e=Vn(e,n,t),e!==null?e.sibling:null);te(ce,ce.current&1);break;case 19:if(o=(t&n.childLanes)!==0,e.flags&128){if(o)return _v(e,n,t);n.flags|=128}if(r=n.memoizedState,r!==null&&(r.rendering=null,r.tail=null,r.lastEffect=null),te(ce,ce.current),o)break;return null;case 22:case 23:return n.lanes=0,Cv(e,n,t)}return Vn(e,n,t)}var Mv,qs,Ov,Dv;Mv=function(e,n){for(var t=n.child;t!==null;){if(t.tag===5||t.tag===6)e.appendChild(t.stateNode);else if(t.tag!==4&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===n)break;for(;t.sibling===null;){if(t.return===null||t.return===n)return;t=t.return}t.sibling.return=t.return,t=t.sibling}};qs=function(){};Ov=function(e,n,t,o){var r=e.memoizedProps;if(r!==o){e=n.stateNode,Et(Nn.current);var a=null;switch(t){case"input":r=bs(e,r),o=bs(e,o),a=[];break;case"select":r=pe({},r,{value:void 0}),o=pe({},o,{value:void 0}),a=[];break;case"textarea":r=xs(e,r),o=xs(e,o),a=[];break;default:typeof r.onClick!="function"&&typeof o.onClick=="function"&&(e.onclick=Fa)}Es(t,o);var i;t=null;for(u in r)if(!o.hasOwnProperty(u)&&r.hasOwnProperty(u)&&r[u]!=null)if(u==="style"){var s=r[u];for(i in s)s.hasOwnProperty(i)&&(t||(t={}),t[i]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(kr.hasOwnProperty(u)?a||(a=[]):(a=a||[]).push(u,null));for(u in o){var l=o[u];if(s=r!=null?r[u]:void 0,o.hasOwnProperty(u)&&l!==s&&(l!=null||s!=null))if(u==="style")if(s){for(i in s)!s.hasOwnProperty(i)||l&&l.hasOwnProperty(i)||(t||(t={}),t[i]="");for(i in l)l.hasOwnProperty(i)&&s[i]!==l[i]&&(t||(t={}),t[i]=l[i])}else t||(a||(a=[]),a.push(u,t)),t=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,s=s?s.__html:void 0,l!=null&&s!==l&&(a=a||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(a=a||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(kr.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&re("scroll",e),a||s===l||(a=[])):(a=a||[]).push(u,l))}t&&(a=a||[]).push("style",t);var u=a;(n.updateQueue=u)&&(n.flags|=4)}};Dv=function(e,n,t,o){t!==o&&(n.flags|=4)};function Jo(e,n){if(!ue)switch(e.tailMode){case"hidden":n=e.tail;for(var t=null;n!==null;)n.alternate!==null&&(t=n),n=n.sibling;t===null?e.tail=null:t.sibling=null;break;case"collapsed":t=e.tail;for(var o=null;t!==null;)t.alternate!==null&&(o=t),t=t.sibling;o===null?n||e.tail===null?e.tail=null:e.tail.sibling=null:o.sibling=null}}function Ne(e){var n=e.alternate!==null&&e.alternate.child===e.child,t=0,o=0;if(n)for(var r=e.child;r!==null;)t|=r.lanes|r.childLanes,o|=r.subtreeFlags&14680064,o|=r.flags&14680064,r.return=e,r=r.sibling;else for(r=e.child;r!==null;)t|=r.lanes|r.childLanes,o|=r.subtreeFlags,o|=r.flags,r.return=e,r=r.sibling;return e.subtreeFlags|=o,e.childLanes=t,n}function Zh(e,n,t){var o=n.pendingProps;switch(Ul(n),n.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ne(n),null;case 1:return Be(n.type)&&$a(),Ne(n),null;case 3:return o=n.stateNode,Eo(),ae(Ve),ae(_e),Gl(),o.pendingContext&&(o.context=o.pendingContext,o.pendingContext=null),(e===null||e.child===null)&&(aa(n)?n.flags|=4:e===null||e.memoizedState.isDehydrated&&!(n.flags&256)||(n.flags|=1024,yn!==null&&(sl(yn),yn=null))),qs(e,n),Ne(n),null;case 5:Ql(n);var r=Et(Cr.current);if(t=n.type,e!==null&&n.stateNode!=null)Ov(e,n,t,o,r),e.ref!==n.ref&&(n.flags|=512,n.flags|=2097152);else{if(!o){if(n.stateNode===null)throw Error(C(166));return Ne(n),null}if(e=Et(Nn.current),aa(n)){o=n.stateNode,t=n.type;var a=n.memoizedProps;switch(o[En]=n,o[Er]=a,e=(n.mode&1)!==0,t){case"dialog":re("cancel",o),re("close",o);break;case"iframe":case"object":case"embed":re("load",o);break;case"video":case"audio":for(r=0;r<rr.length;r++)re(rr[r],o);break;case"source":re("error",o);break;case"img":case"image":case"link":re("error",o),re("load",o);break;case"details":re("toggle",o);break;case"input":Bu(o,a),re("invalid",o);break;case"select":o._wrapperState={wasMultiple:!!a.multiple},re("invalid",o);break;case"textarea":Ku(o,a),re("invalid",o)}Es(t,a),r=null;for(var i in a)if(a.hasOwnProperty(i)){var s=a[i];i==="children"?typeof s=="string"?o.textContent!==s&&(a.suppressHydrationWarning!==!0&&ra(o.textContent,s,e),r=["children",s]):typeof s=="number"&&o.textContent!==""+s&&(a.suppressHydrationWarning!==!0&&ra(o.textContent,s,e),r=["children",""+s]):kr.hasOwnProperty(i)&&s!=null&&i==="onScroll"&&re("scroll",o)}switch(t){case"input":Gr(o),Wu(o,a,!0);break;case"textarea":Gr(o),Hu(o);break;case"select":case"option":break;default:typeof a.onClick=="function"&&(o.onclick=Fa)}o=r,n.updateQueue=o,o!==null&&(n.flags|=4)}else{i=r.nodeType===9?r:r.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=up(t)),e==="http://www.w3.org/1999/xhtml"?t==="script"?(e=i.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof o.is=="string"?e=i.createElement(t,{is:o.is}):(e=i.createElement(t),t==="select"&&(i=e,o.multiple?i.multiple=!0:o.size&&(i.size=o.size))):e=i.createElementNS(e,t),e[En]=n,e[Er]=o,Mv(e,n,!1,!1),n.stateNode=e;e:{switch(i=Ps(t,o),t){case"dialog":re("cancel",e),re("close",e),r=o;break;case"iframe":case"object":case"embed":re("load",e),r=o;break;case"video":case"audio":for(r=0;r<rr.length;r++)re(rr[r],e);r=o;break;case"source":re("error",e),r=o;break;case"img":case"image":case"link":re("error",e),re("load",e),r=o;break;case"details":re("toggle",e),r=o;break;case"input":Bu(e,o),r=bs(e,o),re("invalid",e);break;case"option":r=o;break;case"select":e._wrapperState={wasMultiple:!!o.multiple},r=pe({},o,{value:void 0}),re("invalid",e);break;case"textarea":Ku(e,o),r=xs(e,o),re("invalid",e);break;default:r=o}Es(t,r),s=r;for(a in s)if(s.hasOwnProperty(a)){var l=s[a];a==="style"?pp(e,l):a==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&cp(e,l)):a==="children"?typeof l=="string"?(t!=="textarea"||l!=="")&&hr(e,l):typeof l=="number"&&hr(e,""+l):a!=="suppressContentEditableWarning"&&a!=="suppressHydrationWarning"&&a!=="autoFocus"&&(kr.hasOwnProperty(a)?l!=null&&a==="onScroll"&&re("scroll",e):l!=null&&El(e,a,l,i))}switch(t){case"input":Gr(e),Wu(e,o,!1);break;case"textarea":Gr(e),Hu(e);break;case"option":o.value!=null&&e.setAttribute("value",""+ft(o.value));break;case"select":e.multiple=!!o.multiple,a=o.value,a!=null?vo(e,!!o.multiple,a,!1):o.defaultValue!=null&&vo(e,!!o.multiple,o.defaultValue,!0);break;default:typeof r.onClick=="function"&&(e.onclick=Fa)}switch(t){case"button":case"input":case"select":case"textarea":o=!!o.autoFocus;break e;case"img":o=!0;break e;default:o=!1}}o&&(n.flags|=4)}n.ref!==null&&(n.flags|=512,n.flags|=2097152)}return Ne(n),null;case 6:if(e&&n.stateNode!=null)Dv(e,n,e.memoizedProps,o);else{if(typeof o!="string"&&n.stateNode===null)throw Error(C(166));if(t=Et(Cr.current),Et(Nn.current),aa(n)){if(o=n.stateNode,t=n.memoizedProps,o[En]=n,(a=o.nodeValue!==t)&&(e=Xe,e!==null))switch(e.tag){case 3:ra(o.nodeValue,t,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&ra(o.nodeValue,t,(e.mode&1)!==0)}a&&(n.flags|=4)}else o=(t.nodeType===9?t:t.ownerDocument).createTextNode(o),o[En]=n,n.stateNode=o}return Ne(n),null;case 13:if(ae(ce),o=n.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(ue&&Ge!==null&&n.mode&1&&!(n.flags&128))qp(),xo(),n.flags|=98560,a=!1;else if(a=aa(n),o!==null&&o.dehydrated!==null){if(e===null){if(!a)throw Error(C(318));if(a=n.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(C(317));a[En]=n}else xo(),!(n.flags&128)&&(n.memoizedState=null),n.flags|=4;Ne(n),a=!1}else yn!==null&&(sl(yn),yn=null),a=!0;if(!a)return n.flags&65536?n:null}return n.flags&128?(n.lanes=t,n):(o=o!==null,o!==(e!==null&&e.memoizedState!==null)&&o&&(n.child.flags|=8192,n.mode&1&&(e===null||ce.current&1?ze===0&&(ze=3):lu())),n.updateQueue!==null&&(n.flags|=4),Ne(n),null);case 4:return Eo(),qs(e,n),e===null&&xr(n.stateNode.containerInfo),Ne(n),null;case 10:return Kl(n.type._context),Ne(n),null;case 17:return Be(n.type)&&$a(),Ne(n),null;case 19:if(ae(ce),a=n.memoizedState,a===null)return Ne(n),null;if(o=(n.flags&128)!==0,i=a.rendering,i===null)if(o)Jo(a,!1);else{if(ze!==0||e!==null&&e.flags&128)for(e=n.child;e!==null;){if(i=Za(e),i!==null){for(n.flags|=128,Jo(a,!1),o=i.updateQueue,o!==null&&(n.updateQueue=o,n.flags|=4),n.subtreeFlags=0,o=t,t=n.child;t!==null;)a=t,e=o,a.flags&=14680066,i=a.alternate,i===null?(a.childLanes=0,a.lanes=e,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=i.childLanes,a.lanes=i.lanes,a.child=i.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=i.memoizedProps,a.memoizedState=i.memoizedState,a.updateQueue=i.updateQueue,a.type=i.type,e=i.dependencies,a.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),t=t.sibling;return te(ce,ce.current&1|2),n.child}e=e.sibling}a.tail!==null&&fe()>Co&&(n.flags|=128,o=!0,Jo(a,!1),n.lanes=4194304)}else{if(!o)if(e=Za(i),e!==null){if(n.flags|=128,o=!0,t=e.updateQueue,t!==null&&(n.updateQueue=t,n.flags|=4),Jo(a,!0),a.tail===null&&a.tailMode==="hidden"&&!i.alternate&&!ue)return Ne(n),null}else 2*fe()-a.renderingStartTime>Co&&t!==1073741824&&(n.flags|=128,o=!0,Jo(a,!1),n.lanes=4194304);a.isBackwards?(i.sibling=n.child,n.child=i):(t=a.last,t!==null?t.sibling=i:n.child=i,a.last=i)}return a.tail!==null?(n=a.tail,a.rendering=n,a.tail=n.sibling,a.renderingStartTime=fe(),n.sibling=null,t=ce.current,te(ce,o?t&1|2:t&1),n):(Ne(n),null);case 22:case 23:return su(),o=n.memoizedState!==null,e!==null&&e.memoizedState!==null!==o&&(n.flags|=8192),o&&n.mode&1?Qe&1073741824&&(Ne(n),n.subtreeFlags&6&&(n.flags|=8192)):Ne(n),null;case 24:return null;case 25:return null}throw Error(C(156,n.tag))}function Jh(e,n){switch(Ul(n),n.tag){case 1:return Be(n.type)&&$a(),e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 3:return Eo(),ae(Ve),ae(_e),Gl(),e=n.flags,e&65536&&!(e&128)?(n.flags=e&-65537|128,n):null;case 5:return Ql(n),null;case 13:if(ae(ce),e=n.memoizedState,e!==null&&e.dehydrated!==null){if(n.alternate===null)throw Error(C(340));xo()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 19:return ae(ce),null;case 4:return Eo(),null;case 10:return Kl(n.type._context),null;case 22:case 23:return su(),null;case 24:return null;default:return null}}var la=!1,Te=!1,Qh=typeof WeakSet=="function"?WeakSet:Set,O=null;function lo(e,n){var t=e.ref;if(t!==null)if(typeof t=="function")try{t(null)}catch(o){me(e,n,o)}else t.current=null}function el(e,n,t){try{t()}catch(o){me(e,n,o)}}var Dc=!1;function Gh(e,n){if(As=La,e=$p(),Fl(e)){if("selectionStart"in e)var t={start:e.selectionStart,end:e.selectionEnd};else e:{t=(t=e.ownerDocument)&&t.defaultView||window;var o=t.getSelection&&t.getSelection();if(o&&o.rangeCount!==0){t=o.anchorNode;var r=o.anchorOffset,a=o.focusNode;o=o.focusOffset;try{t.nodeType,a.nodeType}catch{t=null;break e}var i=0,s=-1,l=-1,u=0,d=0,p=e,v=null;n:for(;;){for(var z;p!==t||r!==0&&p.nodeType!==3||(s=i+r),p!==a||o!==0&&p.nodeType!==3||(l=i+o),p.nodeType===3&&(i+=p.nodeValue.length),(z=p.firstChild)!==null;)v=p,p=z;for(;;){if(p===e)break n;if(v===t&&++u===r&&(s=i),v===a&&++d===o&&(l=i),(z=p.nextSibling)!==null)break;p=v,v=p.parentNode}p=z}t=s===-1||l===-1?null:{start:s,end:l}}else t=null}t=t||{start:0,end:0}}else t=null;for(Is={focusedElem:e,selectionRange:t},La=!1,O=n;O!==null;)if(n=O,e=n.child,(n.subtreeFlags&1028)!==0&&e!==null)e.return=n,O=e;else for(;O!==null;){n=O;try{var j=n.alternate;if(n.flags&1024)switch(n.tag){case 0:case 11:case 15:break;case 1:if(j!==null){var k=j.memoizedProps,w=j.memoizedState,f=n.stateNode,m=f.getSnapshotBeforeUpdate(n.elementType===n.type?k:fn(n.type,k),w);f.__reactInternalSnapshotBeforeUpdate=m}break;case 3:var h=n.stateNode.containerInfo;h.nodeType===1?h.textContent="":h.nodeType===9&&h.documentElement&&h.removeChild(h.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(C(163))}}catch(x){me(n,n.return,x)}if(e=n.sibling,e!==null){e.return=n.return,O=e;break}O=n.return}return j=Dc,Dc=!1,j}function dr(e,n,t){var o=n.updateQueue;if(o=o!==null?o.lastEffect:null,o!==null){var r=o=o.next;do{if((r.tag&e)===e){var a=r.destroy;r.destroy=void 0,a!==void 0&&el(n,t,a)}r=r.next}while(r!==o)}}function vi(e,n){if(n=n.updateQueue,n=n!==null?n.lastEffect:null,n!==null){var t=n=n.next;do{if((t.tag&e)===e){var o=t.create;t.destroy=o()}t=t.next}while(t!==n)}}function nl(e){var n=e.ref;if(n!==null){var t=e.stateNode;switch(e.tag){case 5:e=t;break;default:e=t}typeof n=="function"?n(e):n.current=e}}function Lv(e){var n=e.alternate;n!==null&&(e.alternate=null,Lv(n)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(n=e.stateNode,n!==null&&(delete n[En],delete n[Er],delete n[Us],delete n[_h],delete n[Mh])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Av(e){return e.tag===5||e.tag===3||e.tag===4}function Lc(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Av(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function tl(e,n,t){var o=e.tag;if(o===5||o===6)e=e.stateNode,n?t.nodeType===8?t.parentNode.insertBefore(e,n):t.insertBefore(e,n):(t.nodeType===8?(n=t.parentNode,n.insertBefore(e,t)):(n=t,n.appendChild(e)),t=t._reactRootContainer,t!=null||n.onclick!==null||(n.onclick=Fa));else if(o!==4&&(e=e.child,e!==null))for(tl(e,n,t),e=e.sibling;e!==null;)tl(e,n,t),e=e.sibling}function ol(e,n,t){var o=e.tag;if(o===5||o===6)e=e.stateNode,n?t.insertBefore(e,n):t.appendChild(e);else if(o!==4&&(e=e.child,e!==null))for(ol(e,n,t),e=e.sibling;e!==null;)ol(e,n,t),e=e.sibling}var Ee=null,kn=!1;function Gn(e,n,t){for(t=t.child;t!==null;)Iv(e,n,t),t=t.sibling}function Iv(e,n,t){if(Rn&&typeof Rn.onCommitFiberUnmount=="function")try{Rn.onCommitFiberUnmount(ai,t)}catch{}switch(t.tag){case 5:Te||lo(t,n);case 6:var o=Ee,r=kn;Ee=null,Gn(e,n,t),Ee=o,kn=r,Ee!==null&&(kn?(e=Ee,t=t.stateNode,e.nodeType===8?e.parentNode.removeChild(t):e.removeChild(t)):Ee.removeChild(t.stateNode));break;case 18:Ee!==null&&(kn?(e=Ee,t=t.stateNode,e.nodeType===8?Hi(e.parentNode,t):e.nodeType===1&&Hi(e,t),br(e)):Hi(Ee,t.stateNode));break;case 4:o=Ee,r=kn,Ee=t.stateNode.containerInfo,kn=!0,Gn(e,n,t),Ee=o,kn=r;break;case 0:case 11:case 14:case 15:if(!Te&&(o=t.updateQueue,o!==null&&(o=o.lastEffect,o!==null))){r=o=o.next;do{var a=r,i=a.destroy;a=a.tag,i!==void 0&&(a&2||a&4)&&el(t,n,i),r=r.next}while(r!==o)}Gn(e,n,t);break;case 1:if(!Te&&(lo(t,n),o=t.stateNode,typeof o.componentWillUnmount=="function"))try{o.props=t.memoizedProps,o.state=t.memoizedState,o.componentWillUnmount()}catch(s){me(t,n,s)}Gn(e,n,t);break;case 21:Gn(e,n,t);break;case 22:t.mode&1?(Te=(o=Te)||t.memoizedState!==null,Gn(e,n,t),Te=o):Gn(e,n,t);break;default:Gn(e,n,t)}}function Ac(e){var n=e.updateQueue;if(n!==null){e.updateQueue=null;var t=e.stateNode;t===null&&(t=e.stateNode=new Qh),n.forEach(function(o){var r=ay.bind(null,e,o);t.has(o)||(t.add(o),o.then(r,r))})}}function mn(e,n){var t=n.deletions;if(t!==null)for(var o=0;o<t.length;o++){var r=t[o];try{var a=e,i=n,s=i;e:for(;s!==null;){switch(s.tag){case 5:Ee=s.stateNode,kn=!1;break e;case 3:Ee=s.stateNode.containerInfo,kn=!0;break e;case 4:Ee=s.stateNode.containerInfo,kn=!0;break e}s=s.return}if(Ee===null)throw Error(C(160));Iv(a,i,r),Ee=null,kn=!1;var l=r.alternate;l!==null&&(l.return=null),r.return=null}catch(u){me(r,n,u)}}if(n.subtreeFlags&12854)for(n=n.child;n!==null;)Fv(n,e),n=n.sibling}function Fv(e,n){var t=e.alternate,o=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(mn(n,e),xn(e),o&4){try{dr(3,e,e.return),vi(3,e)}catch(k){me(e,e.return,k)}try{dr(5,e,e.return)}catch(k){me(e,e.return,k)}}break;case 1:mn(n,e),xn(e),o&512&&t!==null&&lo(t,t.return);break;case 5:if(mn(n,e),xn(e),o&512&&t!==null&&lo(t,t.return),e.flags&32){var r=e.stateNode;try{hr(r,"")}catch(k){me(e,e.return,k)}}if(o&4&&(r=e.stateNode,r!=null)){var a=e.memoizedProps,i=t!==null?t.memoizedProps:a,s=e.type,l=e.updateQueue;if(e.updateQueue=null,l!==null)try{s==="input"&&a.type==="radio"&&a.name!=null&&sp(r,a),Ps(s,i);var u=Ps(s,a);for(i=0;i<l.length;i+=2){var d=l[i],p=l[i+1];d==="style"?pp(r,p):d==="dangerouslySetInnerHTML"?cp(r,p):d==="children"?hr(r,p):El(r,d,p,u)}switch(s){case"input":gs(r,a);break;case"textarea":lp(r,a);break;case"select":var v=r._wrapperState.wasMultiple;r._wrapperState.wasMultiple=!!a.multiple;var z=a.value;z!=null?vo(r,!!a.multiple,z,!1):v!==!!a.multiple&&(a.defaultValue!=null?vo(r,!!a.multiple,a.defaultValue,!0):vo(r,!!a.multiple,a.multiple?[]:"",!1))}r[Er]=a}catch(k){me(e,e.return,k)}}break;case 6:if(mn(n,e),xn(e),o&4){if(e.stateNode===null)throw Error(C(162));r=e.stateNode,a=e.memoizedProps;try{r.nodeValue=a}catch(k){me(e,e.return,k)}}break;case 3:if(mn(n,e),xn(e),o&4&&t!==null&&t.memoizedState.isDehydrated)try{br(n.containerInfo)}catch(k){me(e,e.return,k)}break;case 4:mn(n,e),xn(e);break;case 13:mn(n,e),xn(e),r=e.child,r.flags&8192&&(a=r.memoizedState!==null,r.stateNode.isHidden=a,!a||r.alternate!==null&&r.alternate.memoizedState!==null||(au=fe())),o&4&&Ac(e);break;case 22:if(d=t!==null&&t.memoizedState!==null,e.mode&1?(Te=(u=Te)||d,mn(n,e),Te=u):mn(n,e),xn(e),o&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!d&&e.mode&1)for(O=e,d=e.child;d!==null;){for(p=O=d;O!==null;){switch(v=O,z=v.child,v.tag){case 0:case 11:case 14:case 15:dr(4,v,v.return);break;case 1:lo(v,v.return);var j=v.stateNode;if(typeof j.componentWillUnmount=="function"){o=v,t=v.return;try{n=o,j.props=n.memoizedProps,j.state=n.memoizedState,j.componentWillUnmount()}catch(k){me(o,t,k)}}break;case 5:lo(v,v.return);break;case 22:if(v.memoizedState!==null){Fc(p);continue}}z!==null?(z.return=v,O=z):Fc(p)}d=d.sibling}e:for(d=null,p=e;;){if(p.tag===5){if(d===null){d=p;try{r=p.stateNode,u?(a=r.style,typeof a.setProperty=="function"?a.setProperty("display","none","important"):a.display="none"):(s=p.stateNode,l=p.memoizedProps.style,i=l!=null&&l.hasOwnProperty("display")?l.display:null,s.style.display=dp("display",i))}catch(k){me(e,e.return,k)}}}else if(p.tag===6){if(d===null)try{p.stateNode.nodeValue=u?"":p.memoizedProps}catch(k){me(e,e.return,k)}}else if((p.tag!==22&&p.tag!==23||p.memoizedState===null||p===e)&&p.child!==null){p.child.return=p,p=p.child;continue}if(p===e)break e;for(;p.sibling===null;){if(p.return===null||p.return===e)break e;d===p&&(d=null),p=p.return}d===p&&(d=null),p.sibling.return=p.return,p=p.sibling}}break;case 19:mn(n,e),xn(e),o&4&&Ac(e);break;case 21:break;default:mn(n,e),xn(e)}}function xn(e){var n=e.flags;if(n&2){try{e:{for(var t=e.return;t!==null;){if(Av(t)){var o=t;break e}t=t.return}throw Error(C(160))}switch(o.tag){case 5:var r=o.stateNode;o.flags&32&&(hr(r,""),o.flags&=-33);var a=Lc(e);ol(e,a,r);break;case 3:case 4:var i=o.stateNode.containerInfo,s=Lc(e);tl(e,s,i);break;default:throw Error(C(161))}}catch(l){me(e,e.return,l)}e.flags&=-3}n&4096&&(e.flags&=-4097)}function Xh(e,n,t){O=e,$v(e)}function $v(e,n,t){for(var o=(e.mode&1)!==0;O!==null;){var r=O,a=r.child;if(r.tag===22&&o){var i=r.memoizedState!==null||la;if(!i){var s=r.alternate,l=s!==null&&s.memoizedState!==null||Te;s=la;var u=Te;if(la=i,(Te=l)&&!u)for(O=r;O!==null;)i=O,l=i.child,i.tag===22&&i.memoizedState!==null?$c(r):l!==null?(l.return=i,O=l):$c(r);for(;a!==null;)O=a,$v(a),a=a.sibling;O=r,la=s,Te=u}Ic(e)}else r.subtreeFlags&8772&&a!==null?(a.return=r,O=a):Ic(e)}}function Ic(e){for(;O!==null;){var n=O;if(n.flags&8772){var t=n.alternate;try{if(n.flags&8772)switch(n.tag){case 0:case 11:case 15:Te||vi(5,n);break;case 1:var o=n.stateNode;if(n.flags&4&&!Te)if(t===null)o.componentDidMount();else{var r=n.elementType===n.type?t.memoizedProps:fn(n.type,t.memoizedProps);o.componentDidUpdate(r,t.memoizedState,o.__reactInternalSnapshotBeforeUpdate)}var a=n.updateQueue;a!==null&&gc(n,a,o);break;case 3:var i=n.updateQueue;if(i!==null){if(t=null,n.child!==null)switch(n.child.tag){case 5:t=n.child.stateNode;break;case 1:t=n.child.stateNode}gc(n,i,t)}break;case 5:var s=n.stateNode;if(t===null&&n.flags&4){t=s;var l=n.memoizedProps;switch(n.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&t.focus();break;case"img":l.src&&(t.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(n.memoizedState===null){var u=n.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var p=d.dehydrated;p!==null&&br(p)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(C(163))}Te||n.flags&512&&nl(n)}catch(v){me(n,n.return,v)}}if(n===e){O=null;break}if(t=n.sibling,t!==null){t.return=n.return,O=t;break}O=n.return}}function Fc(e){for(;O!==null;){var n=O;if(n===e){O=null;break}var t=n.sibling;if(t!==null){t.return=n.return,O=t;break}O=n.return}}function $c(e){for(;O!==null;){var n=O;try{switch(n.tag){case 0:case 11:case 15:var t=n.return;try{vi(4,n)}catch(l){me(n,t,l)}break;case 1:var o=n.stateNode;if(typeof o.componentDidMount=="function"){var r=n.return;try{o.componentDidMount()}catch(l){me(n,r,l)}}var a=n.return;try{nl(n)}catch(l){me(n,a,l)}break;case 5:var i=n.return;try{nl(n)}catch(l){me(n,i,l)}}}catch(l){me(n,n.return,l)}if(n===e){O=null;break}var s=n.sibling;if(s!==null){s.return=n.return,O=s;break}O=n.return}}var Yh=Math.ceil,Ga=Wn.ReactCurrentDispatcher,ou=Wn.ReactCurrentOwner,un=Wn.ReactCurrentBatchConfig,Y=0,ge=null,he=null,Pe=0,Qe=0,uo=zt(0),ze=0,_r=null,Dt=0,mi=0,ru=0,pr=null,$e=null,au=0,Co=1/0,_n=null,Xa=!1,rl=null,pt=null,ua=!1,it=null,Ya=0,vr=0,al=null,Ea=-1,Pa=0;function Le(){return Y&6?fe():Ea!==-1?Ea:Ea=fe()}function vt(e){return e.mode&1?Y&2&&Pe!==0?Pe&-Pe:Dh.transition!==null?(Pa===0&&(Pa=xp()),Pa):(e=q,e!==0||(e=window.event,e=e===void 0?16:Tp(e.type)),e):1}function jn(e,n,t,o){if(50<vr)throw vr=0,al=null,Error(C(185));Lr(e,t,o),(!(Y&2)||e!==ge)&&(e===ge&&(!(Y&2)&&(mi|=t),ze===4&&rt(e,Pe)),We(e,o),t===1&&Y===0&&!(n.mode&1)&&(Co=fe()+500,ci&&jt()))}function We(e,n){var t=e.callbackNode;Dk(e,n);var o=Da(e,e===ge?Pe:0);if(o===0)t!==null&&Qu(t),e.callbackNode=null,e.callbackPriority=0;else if(n=o&-o,e.callbackPriority!==n){if(t!=null&&Qu(t),n===1)e.tag===0?Oh(Uc.bind(null,e)):Gp(Uc.bind(null,e)),Nh(function(){!(Y&6)&&jt()}),t=null;else{switch(Sp(o)){case 1:t=Tl;break;case 4:t=gp;break;case 16:t=Oa;break;case 536870912:t=wp;break;default:t=Oa}t=Jv(t,Uv.bind(null,e))}e.callbackPriority=n,e.callbackNode=t}}function Uv(e,n){if(Ea=-1,Pa=0,Y&6)throw Error(C(327));var t=e.callbackNode;if(yo()&&e.callbackNode!==t)return null;var o=Da(e,e===ge?Pe:0);if(o===0)return null;if(o&30||o&e.expiredLanes||n)n=qa(e,o);else{n=o;var r=Y;Y|=2;var a=Bv();(ge!==e||Pe!==n)&&(_n=null,Co=fe()+500,Rt(e,n));do try{ny();break}catch(s){Vv(e,s)}while(!0);Wl(),Ga.current=a,Y=r,he!==null?n=0:(ge=null,Pe=0,n=ze)}if(n!==0){if(n===2&&(r=_s(e),r!==0&&(o=r,n=il(e,r))),n===1)throw t=_r,Rt(e,0),rt(e,o),We(e,fe()),t;if(n===6)rt(e,o);else{if(r=e.current.alternate,!(o&30)&&!qh(r)&&(n=qa(e,o),n===2&&(a=_s(e),a!==0&&(o=a,n=il(e,a))),n===1))throw t=_r,Rt(e,0),rt(e,o),We(e,fe()),t;switch(e.finishedWork=r,e.finishedLanes=o,n){case 0:case 1:throw Error(C(345));case 2:wt(e,$e,_n);break;case 3:if(rt(e,o),(o&130023424)===o&&(n=au+500-fe(),10<n)){if(Da(e,0)!==0)break;if(r=e.suspendedLanes,(r&o)!==o){Le(),e.pingedLanes|=e.suspendedLanes&r;break}e.timeoutHandle=$s(wt.bind(null,e,$e,_n),n);break}wt(e,$e,_n);break;case 4:if(rt(e,o),(o&4194240)===o)break;for(n=e.eventTimes,r=-1;0<o;){var i=31-zn(o);a=1<<i,i=n[i],i>r&&(r=i),o&=~a}if(o=r,o=fe()-o,o=(120>o?120:480>o?480:1080>o?1080:1920>o?1920:3e3>o?3e3:4320>o?4320:1960*Yh(o/1960))-o,10<o){e.timeoutHandle=$s(wt.bind(null,e,$e,_n),o);break}wt(e,$e,_n);break;case 5:wt(e,$e,_n);break;default:throw Error(C(329))}}}return We(e,fe()),e.callbackNode===t?Uv.bind(null,e):null}function il(e,n){var t=pr;return e.current.memoizedState.isDehydrated&&(Rt(e,n).flags|=256),e=qa(e,n),e!==2&&(n=$e,$e=t,n!==null&&sl(n)),e}function sl(e){$e===null?$e=e:$e.push.apply($e,e)}function qh(e){for(var n=e;;){if(n.flags&16384){var t=n.updateQueue;if(t!==null&&(t=t.stores,t!==null))for(var o=0;o<t.length;o++){var r=t[o],a=r.getSnapshot;r=r.value;try{if(!bn(a(),r))return!1}catch{return!1}}}if(t=n.child,n.subtreeFlags&16384&&t!==null)t.return=n,n=t;else{if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function rt(e,n){for(n&=~ru,n&=~mi,e.suspendedLanes|=n,e.pingedLanes&=~n,e=e.expirationTimes;0<n;){var t=31-zn(n),o=1<<t;e[t]=-1,n&=~o}}function Uc(e){if(Y&6)throw Error(C(327));yo();var n=Da(e,0);if(!(n&1))return We(e,fe()),null;var t=qa(e,n);if(e.tag!==0&&t===2){var o=_s(e);o!==0&&(n=o,t=il(e,o))}if(t===1)throw t=_r,Rt(e,0),rt(e,n),We(e,fe()),t;if(t===6)throw Error(C(345));return e.finishedWork=e.current.alternate,e.finishedLanes=n,wt(e,$e,_n),We(e,fe()),null}function iu(e,n){var t=Y;Y|=1;try{return e(n)}finally{Y=t,Y===0&&(Co=fe()+500,ci&&jt())}}function Lt(e){it!==null&&it.tag===0&&!(Y&6)&&yo();var n=Y;Y|=1;var t=un.transition,o=q;try{if(un.transition=null,q=1,e)return e()}finally{q=o,un.transition=t,Y=n,!(Y&6)&&jt()}}function su(){Qe=uo.current,ae(uo)}function Rt(e,n){e.finishedWork=null,e.finishedLanes=0;var t=e.timeoutHandle;if(t!==-1&&(e.timeoutHandle=-1,Rh(t)),he!==null)for(t=he.return;t!==null;){var o=t;switch(Ul(o),o.tag){case 1:o=o.type.childContextTypes,o!=null&&$a();break;case 3:Eo(),ae(Ve),ae(_e),Gl();break;case 5:Ql(o);break;case 4:Eo();break;case 13:ae(ce);break;case 19:ae(ce);break;case 10:Kl(o.type._context);break;case 22:case 23:su()}t=t.return}if(ge=e,he=e=mt(e.current,null),Pe=Qe=n,ze=0,_r=null,ru=mi=Dt=0,$e=pr=null,St!==null){for(n=0;n<St.length;n++)if(t=St[n],o=t.interleaved,o!==null){t.interleaved=null;var r=o.next,a=t.pending;if(a!==null){var i=a.next;a.next=r,o.next=i}t.pending=o}St=null}return e}function Vv(e,n){do{var t=he;try{if(Wl(),wa.current=Qa,Ja){for(var o=de.memoizedState;o!==null;){var r=o.queue;r!==null&&(r.pending=null),o=o.next}Ja=!1}if(Ot=0,be=ye=de=null,cr=!1,Rr=0,ou.current=null,t===null||t.return===null){ze=1,_r=n,he=null;break}e:{var a=e,i=t.return,s=t,l=n;if(n=Pe,s.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,d=s,p=d.tag;if(!(d.mode&1)&&(p===0||p===11||p===15)){var v=d.alternate;v?(d.updateQueue=v.updateQueue,d.memoizedState=v.memoizedState,d.lanes=v.lanes):(d.updateQueue=null,d.memoizedState=null)}var z=Cc(i);if(z!==null){z.flags&=-257,Rc(z,i,s,a,n),z.mode&1&&Pc(a,u,n),n=z,l=u;var j=n.updateQueue;if(j===null){var k=new Set;k.add(l),n.updateQueue=k}else j.add(l);break e}else{if(!(n&1)){Pc(a,u,n),lu();break e}l=Error(C(426))}}else if(ue&&s.mode&1){var w=Cc(i);if(w!==null){!(w.flags&65536)&&(w.flags|=256),Rc(w,i,s,a,n),Vl(Po(l,s));break e}}a=l=Po(l,s),ze!==4&&(ze=2),pr===null?pr=[a]:pr.push(a),a=i;do{switch(a.tag){case 3:a.flags|=65536,n&=-n,a.lanes|=n;var f=Sv(a,l,n);bc(a,f);break e;case 1:s=l;var m=a.type,h=a.stateNode;if(!(a.flags&128)&&(typeof m.getDerivedStateFromError=="function"||h!==null&&typeof h.componentDidCatch=="function"&&(pt===null||!pt.has(h)))){a.flags|=65536,n&=-n,a.lanes|=n;var x=Ev(a,s,n);bc(a,x);break e}}a=a.return}while(a!==null)}Kv(t)}catch(P){n=P,he===t&&t!==null&&(he=t=t.return);continue}break}while(!0)}function Bv(){var e=Ga.current;return Ga.current=Qa,e===null?Qa:e}function lu(){(ze===0||ze===3||ze===2)&&(ze=4),ge===null||!(Dt&268435455)&&!(mi&268435455)||rt(ge,Pe)}function qa(e,n){var t=Y;Y|=2;var o=Bv();(ge!==e||Pe!==n)&&(_n=null,Rt(e,n));do try{ey();break}catch(r){Vv(e,r)}while(!0);if(Wl(),Y=t,Ga.current=o,he!==null)throw Error(C(261));return ge=null,Pe=0,ze}function ey(){for(;he!==null;)Wv(he)}function ny(){for(;he!==null&&!Ek();)Wv(he)}function Wv(e){var n=Zv(e.alternate,e,Qe);e.memoizedProps=e.pendingProps,n===null?Kv(e):he=n,ou.current=null}function Kv(e){var n=e;do{var t=n.alternate;if(e=n.return,n.flags&32768){if(t=Jh(t,n),t!==null){t.flags&=32767,he=t;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{ze=6,he=null;return}}else if(t=Zh(t,n,Qe),t!==null){he=t;return}if(n=n.sibling,n!==null){he=n;return}he=n=e}while(n!==null);ze===0&&(ze=5)}function wt(e,n,t){var o=q,r=un.transition;try{un.transition=null,q=1,ty(e,n,t,o)}finally{un.transition=r,q=o}return null}function ty(e,n,t,o){do yo();while(it!==null);if(Y&6)throw Error(C(327));t=e.finishedWork;var r=e.finishedLanes;if(t===null)return null;if(e.finishedWork=null,e.finishedLanes=0,t===e.current)throw Error(C(177));e.callbackNode=null,e.callbackPriority=0;var a=t.lanes|t.childLanes;if(Lk(e,a),e===ge&&(he=ge=null,Pe=0),!(t.subtreeFlags&2064)&&!(t.flags&2064)||ua||(ua=!0,Jv(Oa,function(){return yo(),null})),a=(t.flags&15990)!==0,t.subtreeFlags&15990||a){a=un.transition,un.transition=null;var i=q;q=1;var s=Y;Y|=4,ou.current=null,Gh(e,t),Fv(t,e),gh(Is),La=!!As,Is=As=null,e.current=t,Xh(t),Pk(),Y=s,q=i,un.transition=a}else e.current=t;if(ua&&(ua=!1,it=e,Ya=r),a=e.pendingLanes,a===0&&(pt=null),Nk(t.stateNode),We(e,fe()),n!==null)for(o=e.onRecoverableError,t=0;t<n.length;t++)r=n[t],o(r.value,{componentStack:r.stack,digest:r.digest});if(Xa)throw Xa=!1,e=rl,rl=null,e;return Ya&1&&e.tag!==0&&yo(),a=e.pendingLanes,a&1?e===al?vr++:(vr=0,al=e):vr=0,jt(),null}function yo(){if(it!==null){var e=Sp(Ya),n=un.transition,t=q;try{if(un.transition=null,q=16>e?16:e,it===null)var o=!1;else{if(e=it,it=null,Ya=0,Y&6)throw Error(C(331));var r=Y;for(Y|=4,O=e.current;O!==null;){var a=O,i=a.child;if(O.flags&16){var s=a.deletions;if(s!==null){for(var l=0;l<s.length;l++){var u=s[l];for(O=u;O!==null;){var d=O;switch(d.tag){case 0:case 11:case 15:dr(8,d,a)}var p=d.child;if(p!==null)p.return=d,O=p;else for(;O!==null;){d=O;var v=d.sibling,z=d.return;if(Lv(d),d===u){O=null;break}if(v!==null){v.return=z,O=v;break}O=z}}}var j=a.alternate;if(j!==null){var k=j.child;if(k!==null){j.child=null;do{var w=k.sibling;k.sibling=null,k=w}while(k!==null)}}O=a}}if(a.subtreeFlags&2064&&i!==null)i.return=a,O=i;else e:for(;O!==null;){if(a=O,a.flags&2048)switch(a.tag){case 0:case 11:case 15:dr(9,a,a.return)}var f=a.sibling;if(f!==null){f.return=a.return,O=f;break e}O=a.return}}var m=e.current;for(O=m;O!==null;){i=O;var h=i.child;if(i.subtreeFlags&2064&&h!==null)h.return=i,O=h;else e:for(i=m;O!==null;){if(s=O,s.flags&2048)try{switch(s.tag){case 0:case 11:case 15:vi(9,s)}}catch(P){me(s,s.return,P)}if(s===i){O=null;break e}var x=s.sibling;if(x!==null){x.return=s.return,O=x;break e}O=s.return}}if(Y=r,jt(),Rn&&typeof Rn.onPostCommitFiberRoot=="function")try{Rn.onPostCommitFiberRoot(ai,e)}catch{}o=!0}return o}finally{q=t,un.transition=n}}return!1}function Vc(e,n,t){n=Po(t,n),n=Sv(e,n,1),e=dt(e,n,1),n=Le(),e!==null&&(Lr(e,1,n),We(e,n))}function me(e,n,t){if(e.tag===3)Vc(e,e,t);else for(;n!==null;){if(n.tag===3){Vc(n,e,t);break}else if(n.tag===1){var o=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof o.componentDidCatch=="function"&&(pt===null||!pt.has(o))){e=Po(t,e),e=Ev(n,e,1),n=dt(n,e,1),e=Le(),n!==null&&(Lr(n,1,e),We(n,e));break}}n=n.return}}function oy(e,n,t){var o=e.pingCache;o!==null&&o.delete(n),n=Le(),e.pingedLanes|=e.suspendedLanes&t,ge===e&&(Pe&t)===t&&(ze===4||ze===3&&(Pe&130023424)===Pe&&500>fe()-au?Rt(e,0):ru|=t),We(e,n)}function Hv(e,n){n===0&&(e.mode&1?(n=qr,qr<<=1,!(qr&130023424)&&(qr=4194304)):n=1);var t=Le();e=Un(e,n),e!==null&&(Lr(e,n,t),We(e,t))}function ry(e){var n=e.memoizedState,t=0;n!==null&&(t=n.retryLane),Hv(e,t)}function ay(e,n){var t=0;switch(e.tag){case 13:var o=e.stateNode,r=e.memoizedState;r!==null&&(t=r.retryLane);break;case 19:o=e.stateNode;break;default:throw Error(C(314))}o!==null&&o.delete(n),Hv(e,t)}var Zv;Zv=function(e,n,t){if(e!==null)if(e.memoizedProps!==n.pendingProps||Ve.current)Ue=!0;else{if(!(e.lanes&t)&&!(n.flags&128))return Ue=!1,Hh(e,n,t);Ue=!!(e.flags&131072)}else Ue=!1,ue&&n.flags&1048576&&Xp(n,Ba,n.index);switch(n.lanes=0,n.tag){case 2:var o=n.type;Sa(e,n),e=n.pendingProps;var r=wo(n,_e.current);ho(n,t),r=Yl(null,n,o,e,r,t);var a=ql();return n.flags|=1,typeof r=="object"&&r!==null&&typeof r.render=="function"&&r.$$typeof===void 0?(n.tag=1,n.memoizedState=null,n.updateQueue=null,Be(o)?(a=!0,Ua(n)):a=!1,n.memoizedState=r.state!==null&&r.state!==void 0?r.state:null,Zl(n),r.updater=pi,n.stateNode=r,r._reactInternals=n,Zs(n,o,e,t),n=Gs(null,n,o,!0,a,t)):(n.tag=0,ue&&a&&$l(n),De(null,n,r,t),n=n.child),n;case 16:o=n.elementType;e:{switch(Sa(e,n),e=n.pendingProps,r=o._init,o=r(o._payload),n.type=o,r=n.tag=sy(o),e=fn(o,e),r){case 0:n=Qs(null,n,o,e,t);break e;case 1:n=_c(null,n,o,e,t);break e;case 11:n=Nc(null,n,o,e,t);break e;case 14:n=Tc(null,n,o,fn(o.type,e),t);break e}throw Error(C(306,o,""))}return n;case 0:return o=n.type,r=n.pendingProps,r=n.elementType===o?r:fn(o,r),Qs(e,n,o,r,t);case 1:return o=n.type,r=n.pendingProps,r=n.elementType===o?r:fn(o,r),_c(e,n,o,r,t);case 3:e:{if(Nv(n),e===null)throw Error(C(387));o=n.pendingProps,a=n.memoizedState,r=a.element,ov(e,n),Ha(n,o,null,t);var i=n.memoizedState;if(o=i.element,a.isDehydrated)if(a={element:o,isDehydrated:!1,cache:i.cache,pendingSuspenseBoundaries:i.pendingSuspenseBoundaries,transitions:i.transitions},n.updateQueue.baseState=a,n.memoizedState=a,n.flags&256){r=Po(Error(C(423)),n),n=Mc(e,n,o,t,r);break e}else if(o!==r){r=Po(Error(C(424)),n),n=Mc(e,n,o,t,r);break e}else for(Ge=ct(n.stateNode.containerInfo.firstChild),Xe=n,ue=!0,yn=null,t=nv(n,null,o,t),n.child=t;t;)t.flags=t.flags&-3|4096,t=t.sibling;else{if(xo(),o===r){n=Vn(e,n,t);break e}De(e,n,o,t)}n=n.child}return n;case 5:return rv(n),e===null&&Ws(n),o=n.type,r=n.pendingProps,a=e!==null?e.memoizedProps:null,i=r.children,Fs(o,r)?i=null:a!==null&&Fs(o,a)&&(n.flags|=32),Rv(e,n),De(e,n,i,t),n.child;case 6:return e===null&&Ws(n),null;case 13:return Tv(e,n,t);case 4:return Jl(n,n.stateNode.containerInfo),o=n.pendingProps,e===null?n.child=So(n,null,o,t):De(e,n,o,t),n.child;case 11:return o=n.type,r=n.pendingProps,r=n.elementType===o?r:fn(o,r),Nc(e,n,o,r,t);case 7:return De(e,n,n.pendingProps,t),n.child;case 8:return De(e,n,n.pendingProps.children,t),n.child;case 12:return De(e,n,n.pendingProps.children,t),n.child;case 10:e:{if(o=n.type._context,r=n.pendingProps,a=n.memoizedProps,i=r.value,te(Wa,o._currentValue),o._currentValue=i,a!==null)if(bn(a.value,i)){if(a.children===r.children&&!Ve.current){n=Vn(e,n,t);break e}}else for(a=n.child,a!==null&&(a.return=n);a!==null;){var s=a.dependencies;if(s!==null){i=a.child;for(var l=s.firstContext;l!==null;){if(l.context===o){if(a.tag===1){l=An(-1,t&-t),l.tag=2;var u=a.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?l.next=l:(l.next=d.next,d.next=l),u.pending=l}}a.lanes|=t,l=a.alternate,l!==null&&(l.lanes|=t),Ks(a.return,t,n),s.lanes|=t;break}l=l.next}}else if(a.tag===10)i=a.type===n.type?null:a.child;else if(a.tag===18){if(i=a.return,i===null)throw Error(C(341));i.lanes|=t,s=i.alternate,s!==null&&(s.lanes|=t),Ks(i,t,n),i=a.sibling}else i=a.child;if(i!==null)i.return=a;else for(i=a;i!==null;){if(i===n){i=null;break}if(a=i.sibling,a!==null){a.return=i.return,i=a;break}i=i.return}a=i}De(e,n,r.children,t),n=n.child}return n;case 9:return r=n.type,o=n.pendingProps.children,ho(n,t),r=cn(r),o=o(r),n.flags|=1,De(e,n,o,t),n.child;case 14:return o=n.type,r=fn(o,n.pendingProps),r=fn(o.type,r),Tc(e,n,o,r,t);case 15:return Pv(e,n,n.type,n.pendingProps,t);case 17:return o=n.type,r=n.pendingProps,r=n.elementType===o?r:fn(o,r),Sa(e,n),n.tag=1,Be(o)?(e=!0,Ua(n)):e=!1,ho(n,t),xv(n,o,r),Zs(n,o,r,t),Gs(null,n,o,!0,e,t);case 19:return _v(e,n,t);case 22:return Cv(e,n,t)}throw Error(C(156,n.tag))};function Jv(e,n){return bp(e,n)}function iy(e,n,t,o){this.tag=e,this.key=t,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=o,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ln(e,n,t,o){return new iy(e,n,t,o)}function uu(e){return e=e.prototype,!(!e||!e.isReactComponent)}function sy(e){if(typeof e=="function")return uu(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Cl)return 11;if(e===Rl)return 14}return 2}function mt(e,n){var t=e.alternate;return t===null?(t=ln(e.tag,n,e.key,e.mode),t.elementType=e.elementType,t.type=e.type,t.stateNode=e.stateNode,t.alternate=e,e.alternate=t):(t.pendingProps=n,t.type=e.type,t.flags=0,t.subtreeFlags=0,t.deletions=null),t.flags=e.flags&14680064,t.childLanes=e.childLanes,t.lanes=e.lanes,t.child=e.child,t.memoizedProps=e.memoizedProps,t.memoizedState=e.memoizedState,t.updateQueue=e.updateQueue,n=e.dependencies,t.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},t.sibling=e.sibling,t.index=e.index,t.ref=e.ref,t}function Ca(e,n,t,o,r,a){var i=2;if(o=e,typeof e=="function")uu(e)&&(i=1);else if(typeof e=="string")i=5;else e:switch(e){case qt:return Nt(t.children,r,a,n);case Pl:i=8,r|=8;break;case hs:return e=ln(12,t,n,r|2),e.elementType=hs,e.lanes=a,e;case ys:return e=ln(13,t,n,r),e.elementType=ys,e.lanes=a,e;case zs:return e=ln(19,t,n,r),e.elementType=zs,e.lanes=a,e;case rp:return fi(t,r,a,n);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case tp:i=10;break e;case op:i=9;break e;case Cl:i=11;break e;case Rl:i=14;break e;case nt:i=16,o=null;break e}throw Error(C(130,e==null?e:typeof e,""))}return n=ln(i,t,n,r),n.elementType=e,n.type=o,n.lanes=a,n}function Nt(e,n,t,o){return e=ln(7,e,o,n),e.lanes=t,e}function fi(e,n,t,o){return e=ln(22,e,o,n),e.elementType=rp,e.lanes=t,e.stateNode={isHidden:!1},e}function es(e,n,t){return e=ln(6,e,null,n),e.lanes=t,e}function ns(e,n,t){return n=ln(4,e.children!==null?e.children:[],e.key,n),n.lanes=t,n.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},n}function ly(e,n,t,o,r){this.tag=n,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Di(0),this.expirationTimes=Di(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Di(0),this.identifierPrefix=o,this.onRecoverableError=r,this.mutableSourceEagerHydrationData=null}function cu(e,n,t,o,r,a,i,s,l){return e=new ly(e,n,t,s,l),n===1?(n=1,a===!0&&(n|=8)):n=0,a=ln(3,null,null,n),e.current=a,a.stateNode=e,a.memoizedState={element:o,isDehydrated:t,cache:null,transitions:null,pendingSuspenseBoundaries:null},Zl(a),e}function uy(e,n,t){var o=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Yt,key:o==null?null:""+o,children:e,containerInfo:n,implementation:t}}function Qv(e){if(!e)return kt;e=e._reactInternals;e:{if(Ut(e)!==e||e.tag!==1)throw Error(C(170));var n=e;do{switch(n.tag){case 3:n=n.stateNode.context;break e;case 1:if(Be(n.type)){n=n.stateNode.__reactInternalMemoizedMergedChildContext;break e}}n=n.return}while(n!==null);throw Error(C(171))}if(e.tag===1){var t=e.type;if(Be(t))return Qp(e,t,n)}return n}function Gv(e,n,t,o,r,a,i,s,l){return e=cu(t,o,!0,e,r,a,i,s,l),e.context=Qv(null),t=e.current,o=Le(),r=vt(t),a=An(o,r),a.callback=n??null,dt(t,a,r),e.current.lanes=r,Lr(e,r,o),We(e,o),e}function ki(e,n,t,o){var r=n.current,a=Le(),i=vt(r);return t=Qv(t),n.context===null?n.context=t:n.pendingContext=t,n=An(a,i),n.payload={element:e},o=o===void 0?null:o,o!==null&&(n.callback=o),e=dt(r,n,i),e!==null&&(jn(e,r,i,a),ga(e,r,i)),i}function ei(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Bc(e,n){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var t=e.retryLane;e.retryLane=t!==0&&t<n?t:n}}function du(e,n){Bc(e,n),(e=e.alternate)&&Bc(e,n)}function cy(){return null}var Xv=typeof reportError=="function"?reportError:function(e){console.error(e)};function pu(e){this._internalRoot=e}hi.prototype.render=pu.prototype.render=function(e){var n=this._internalRoot;if(n===null)throw Error(C(409));ki(e,n,null,null)};hi.prototype.unmount=pu.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var n=e.containerInfo;Lt(function(){ki(null,e,null,null)}),n[$n]=null}};function hi(e){this._internalRoot=e}hi.prototype.unstable_scheduleHydration=function(e){if(e){var n=Cp();e={blockedOn:null,target:e,priority:n};for(var t=0;t<ot.length&&n!==0&&n<ot[t].priority;t++);ot.splice(t,0,e),t===0&&Np(e)}};function vu(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function yi(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Wc(){}function dy(e,n,t,o,r){if(r){if(typeof o=="function"){var a=o;o=function(){var u=ei(i);a.call(u)}}var i=Gv(n,o,e,0,null,!1,!1,"",Wc);return e._reactRootContainer=i,e[$n]=i.current,xr(e.nodeType===8?e.parentNode:e),Lt(),i}for(;r=e.lastChild;)e.removeChild(r);if(typeof o=="function"){var s=o;o=function(){var u=ei(l);s.call(u)}}var l=cu(e,0,!1,null,null,!1,!1,"",Wc);return e._reactRootContainer=l,e[$n]=l.current,xr(e.nodeType===8?e.parentNode:e),Lt(function(){ki(n,l,t,o)}),l}function zi(e,n,t,o,r){var a=t._reactRootContainer;if(a){var i=a;if(typeof r=="function"){var s=r;r=function(){var l=ei(i);s.call(l)}}ki(n,i,e,r)}else i=dy(t,n,e,r,o);return ei(i)}Ep=function(e){switch(e.tag){case 3:var n=e.stateNode;if(n.current.memoizedState.isDehydrated){var t=or(n.pendingLanes);t!==0&&(_l(n,t|1),We(n,fe()),!(Y&6)&&(Co=fe()+500,jt()))}break;case 13:Lt(function(){var o=Un(e,1);if(o!==null){var r=Le();jn(o,e,1,r)}}),du(e,1)}};Ml=function(e){if(e.tag===13){var n=Un(e,134217728);if(n!==null){var t=Le();jn(n,e,134217728,t)}du(e,134217728)}};Pp=function(e){if(e.tag===13){var n=vt(e),t=Un(e,n);if(t!==null){var o=Le();jn(t,e,n,o)}du(e,n)}};Cp=function(){return q};Rp=function(e,n){var t=q;try{return q=e,n()}finally{q=t}};Rs=function(e,n,t){switch(n){case"input":if(gs(e,t),n=t.name,t.type==="radio"&&n!=null){for(t=e;t.parentNode;)t=t.parentNode;for(t=t.querySelectorAll("input[name="+JSON.stringify(""+n)+'][type="radio"]'),n=0;n<t.length;n++){var o=t[n];if(o!==e&&o.form===e.form){var r=ui(o);if(!r)throw Error(C(90));ip(o),gs(o,r)}}}break;case"textarea":lp(e,t);break;case"select":n=t.value,n!=null&&vo(e,!!t.multiple,n,!1)}};fp=iu;kp=Lt;var py={usingClientEntryPoint:!1,Events:[Ir,oo,ui,vp,mp,iu]},Qo={findFiberByHostInstance:xt,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},vy={bundleType:Qo.bundleType,version:Qo.version,rendererPackageName:Qo.rendererPackageName,rendererConfig:Qo.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Wn.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=zp(e),e===null?null:e.stateNode},findFiberByHostInstance:Qo.findFiberByHostInstance||cy,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ca=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ca.isDisabled&&ca.supportsFiber)try{ai=ca.inject(vy),Rn=ca}catch{}}qe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=py;qe.createPortal=function(e,n){var t=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!vu(n))throw Error(C(200));return uy(e,n,null,t)};qe.createRoot=function(e,n){if(!vu(e))throw Error(C(299));var t=!1,o="",r=Xv;return n!=null&&(n.unstable_strictMode===!0&&(t=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onRecoverableError!==void 0&&(r=n.onRecoverableError)),n=cu(e,1,!1,null,null,t,!1,o,r),e[$n]=n.current,xr(e.nodeType===8?e.parentNode:e),new pu(n)};qe.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var n=e._reactInternals;if(n===void 0)throw typeof e.render=="function"?Error(C(188)):(e=Object.keys(e).join(","),Error(C(268,e)));return e=zp(n),e=e===null?null:e.stateNode,e};qe.flushSync=function(e){return Lt(e)};qe.hydrate=function(e,n,t){if(!yi(n))throw Error(C(200));return zi(null,e,n,!0,t)};qe.hydrateRoot=function(e,n,t){if(!vu(e))throw Error(C(405));var o=t!=null&&t.hydratedSources||null,r=!1,a="",i=Xv;if(t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(a=t.identifierPrefix),t.onRecoverableError!==void 0&&(i=t.onRecoverableError)),n=Gv(n,null,e,1,t??null,r,!1,a,i),e[$n]=n.current,xr(e),o)for(e=0;e<o.length;e++)t=o[e],r=t._getVersion,r=r(t._source),n.mutableSourceEagerHydrationData==null?n.mutableSourceEagerHydrationData=[t,r]:n.mutableSourceEagerHydrationData.push(t,r);return new hi(n)};qe.render=function(e,n,t){if(!yi(n))throw Error(C(200));return zi(null,e,n,!1,t)};qe.unmountComponentAtNode=function(e){if(!yi(e))throw Error(C(40));return e._reactRootContainer?(Lt(function(){zi(null,null,e,!1,function(){e._reactRootContainer=null,e[$n]=null})}),!0):!1};qe.unstable_batchedUpdates=iu;qe.unstable_renderSubtreeIntoContainer=function(e,n,t,o){if(!yi(t))throw Error(C(200));if(e==null||e._reactInternals===void 0)throw Error(C(38));return zi(e,n,t,!1,o)};qe.version="18.3.1-next-f1338f8080-20240426";function Yv(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Yv)}catch(e){console.error(e)}}Yv(),Yd.exports=qe;var $r=Yd.exports;const qv=Id($r),my=Ad({__proto__:null,default:qv},[$r]);var Kc=$r;fs.createRoot=Kc.createRoot,fs.hydrateRoot=Kc.hydrateRoot;function Hc(e,n){if(typeof e=="function")return e(n);e!=null&&(e.current=n)}function fy(...e){return n=>{let t=!1;const o=e.map(r=>{const a=Hc(r,n);return!t&&typeof a=="function"&&(t=!0),a});if(t)return()=>{for(let r=0;r<o.length;r++){const a=o[r];typeof a=="function"?a():Hc(e[r],null)}}}}var Vt=c.forwardRef((e,n)=>{const{children:t,...o}=e,r=c.Children.toArray(t),a=r.find(hy);if(a){const i=a.props.children,s=r.map(l=>l===a?c.Children.count(i)>1?c.Children.only(null):c.isValidElement(i)?i.props.children:null:l);return g.jsx(ll,{...o,ref:n,children:c.isValidElement(i)?c.cloneElement(i,void 0,s):null})}return g.jsx(ll,{...o,ref:n,children:t})});Vt.displayName="Slot";var ll=c.forwardRef((e,n)=>{const{children:t,...o}=e;if(c.isValidElement(t)){const r=zy(t),a=yy(o,t.props);return t.type!==c.Fragment&&(a.ref=n?fy(n,r):r),c.cloneElement(t,a)}return c.Children.count(t)>1?c.Children.only(null):null});ll.displayName="SlotClone";var ky=({children:e})=>g.jsx(g.Fragment,{children:e});function hy(e){return c.isValidElement(e)&&e.type===ky}function yy(e,n){const t={...n};for(const o in n){const r=e[o],a=n[o];/^on[A-Z]/.test(o)?r&&a?t[o]=(...s)=>{a(...s),r(...s)}:r&&(t[o]=r):o==="style"?t[o]={...r,...a}:o==="className"&&(t[o]=[r,a].filter(Boolean).join(" "))}return{...e,...t}}function zy(e){var o,r;let n=(o=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:o.get,t=n&&"isReactWarning"in n&&n.isReactWarning;return t?e.ref:(n=(r=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:r.get,t=n&&"isReactWarning"in n&&n.isReactWarning,t?e.props.ref:e.props.ref||e.ref)}function em(e){var n,t,o="";if(typeof e=="string"||typeof e=="number")o+=e;else if(typeof e=="object")if(Array.isArray(e)){var r=e.length;for(n=0;n<r;n++)e[n]&&(t=em(e[n]))&&(o&&(o+=" "),o+=t)}else for(t in e)e[t]&&(o&&(o+=" "),o+=t);return o}function nm(){for(var e,n,t=0,o="",r=arguments.length;t<r;t++)(e=arguments[t])&&(n=em(e))&&(o&&(o+=" "),o+=n);return o}const Zc=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,Jc=nm,jy=(e,n)=>t=>{var o;if((n==null?void 0:n.variants)==null)return Jc(e,t==null?void 0:t.class,t==null?void 0:t.className);const{variants:r,defaultVariants:a}=n,i=Object.keys(r).map(u=>{const d=t==null?void 0:t[u],p=a==null?void 0:a[u];if(d===null)return null;const v=Zc(d)||Zc(p);return r[u][v]}),s=t&&Object.entries(t).reduce((u,d)=>{let[p,v]=d;return v===void 0||(u[p]=v),u},{}),l=n==null||(o=n.compoundVariants)===null||o===void 0?void 0:o.reduce((u,d)=>{let{class:p,className:v,...z}=d;return Object.entries(z).every(j=>{let[k,w]=j;return Array.isArray(w)?w.includes({...a,...s}[k]):{...a,...s}[k]===w})?[...u,p,v]:u},[]);return Jc(e,i,l,t==null?void 0:t.class,t==null?void 0:t.className)},mu="-",by=e=>{const n=wy(e),{conflictingClassGroups:t,conflictingClassGroupModifiers:o}=e;return{getClassGroupId:i=>{const s=i.split(mu);return s[0]===""&&s.length!==1&&s.shift(),tm(s,n)||gy(i)},getConflictingClassGroupIds:(i,s)=>{const l=t[i]||[];return s&&o[i]?[...l,...o[i]]:l}}},tm=(e,n)=>{var i;if(e.length===0)return n.classGroupId;const t=e[0],o=n.nextPart.get(t),r=o?tm(e.slice(1),o):void 0;if(r)return r;if(n.validators.length===0)return;const a=e.join(mu);return(i=n.validators.find(({validator:s})=>s(a)))==null?void 0:i.classGroupId},Qc=/^\[(.+)\]$/,gy=e=>{if(Qc.test(e)){const n=Qc.exec(e)[1],t=n==null?void 0:n.substring(0,n.indexOf(":"));if(t)return"arbitrary.."+t}},wy=e=>{const{theme:n,prefix:t}=e,o={nextPart:new Map,validators:[]};return Sy(Object.entries(e.classGroups),t).forEach(([a,i])=>{ul(i,o,a,n)}),o},ul=(e,n,t,o)=>{e.forEach(r=>{if(typeof r=="string"){const a=r===""?n:Gc(n,r);a.classGroupId=t;return}if(typeof r=="function"){if(xy(r)){ul(r(o),n,t,o);return}n.validators.push({validator:r,classGroupId:t});return}Object.entries(r).forEach(([a,i])=>{ul(i,Gc(n,a),t,o)})})},Gc=(e,n)=>{let t=e;return n.split(mu).forEach(o=>{t.nextPart.has(o)||t.nextPart.set(o,{nextPart:new Map,validators:[]}),t=t.nextPart.get(o)}),t},xy=e=>e.isThemeGetter,Sy=(e,n)=>n?e.map(([t,o])=>{const r=o.map(a=>typeof a=="string"?n+a:typeof a=="object"?Object.fromEntries(Object.entries(a).map(([i,s])=>[n+i,s])):a);return[t,r]}):e,Ey=e=>{if(e<1)return{get:()=>{},set:()=>{}};let n=0,t=new Map,o=new Map;const r=(a,i)=>{t.set(a,i),n++,n>e&&(n=0,o=t,t=new Map)};return{get(a){let i=t.get(a);if(i!==void 0)return i;if((i=o.get(a))!==void 0)return r(a,i),i},set(a,i){t.has(a)?t.set(a,i):r(a,i)}}},om="!",Py=e=>{const{separator:n,experimentalParseClassName:t}=e,o=n.length===1,r=n[0],a=n.length,i=s=>{const l=[];let u=0,d=0,p;for(let w=0;w<s.length;w++){let f=s[w];if(u===0){if(f===r&&(o||s.slice(w,w+a)===n)){l.push(s.slice(d,w)),d=w+a;continue}if(f==="/"){p=w;continue}}f==="["?u++:f==="]"&&u--}const v=l.length===0?s:s.substring(d),z=v.startsWith(om),j=z?v.substring(1):v,k=p&&p>d?p-d:void 0;return{modifiers:l,hasImportantModifier:z,baseClassName:j,maybePostfixModifierPosition:k}};return t?s=>t({className:s,parseClassName:i}):i},Cy=e=>{if(e.length<=1)return e;const n=[];let t=[];return e.forEach(o=>{o[0]==="["?(n.push(...t.sort(),o),t=[]):t.push(o)}),n.push(...t.sort()),n},Ry=e=>({cache:Ey(e.cacheSize),parseClassName:Py(e),...by(e)}),Ny=/\s+/,Ty=(e,n)=>{const{parseClassName:t,getClassGroupId:o,getConflictingClassGroupIds:r}=n,a=[],i=e.trim().split(Ny);let s="";for(let l=i.length-1;l>=0;l-=1){const u=i[l],{modifiers:d,hasImportantModifier:p,baseClassName:v,maybePostfixModifierPosition:z}=t(u);let j=!!z,k=o(j?v.substring(0,z):v);if(!k){if(!j){s=u+(s.length>0?" "+s:s);continue}if(k=o(v),!k){s=u+(s.length>0?" "+s:s);continue}j=!1}const w=Cy(d).join(":"),f=p?w+om:w,m=f+k;if(a.includes(m))continue;a.push(m);const h=r(k,j);for(let x=0;x<h.length;++x){const P=h[x];a.push(f+P)}s=u+(s.length>0?" "+s:s)}return s};function _y(){let e=0,n,t,o="";for(;e<arguments.length;)(n=arguments[e++])&&(t=rm(n))&&(o&&(o+=" "),o+=t);return o}const rm=e=>{if(typeof e=="string")return e;let n,t="";for(let o=0;o<e.length;o++)e[o]&&(n=rm(e[o]))&&(t&&(t+=" "),t+=n);return t};function My(e,...n){let t,o,r,a=i;function i(l){const u=n.reduce((d,p)=>p(d),e());return t=Ry(u),o=t.cache.get,r=t.cache.set,a=s,s(l)}function s(l){const u=o(l);if(u)return u;const d=Ty(l,t);return r(l,d),d}return function(){return a(_y.apply(null,arguments))}}const oe=e=>{const n=t=>t[e]||[];return n.isThemeGetter=!0,n},am=/^\[(?:([a-z-]+):)?(.+)\]$/i,Oy=/^\d+\/\d+$/,Dy=new Set(["px","full","screen"]),Ly=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,Ay=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,Iy=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,Fy=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,$y=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Tn=e=>zo(e)||Dy.has(e)||Oy.test(e),Xn=e=>_o(e,"length",Jy),zo=e=>!!e&&!Number.isNaN(Number(e)),ts=e=>_o(e,"number",zo),Go=e=>!!e&&Number.isInteger(Number(e)),Uy=e=>e.endsWith("%")&&zo(e.slice(0,-1)),H=e=>am.test(e),Yn=e=>Ly.test(e),Vy=new Set(["length","size","percentage"]),By=e=>_o(e,Vy,im),Wy=e=>_o(e,"position",im),Ky=new Set(["image","url"]),Hy=e=>_o(e,Ky,Gy),Zy=e=>_o(e,"",Qy),Xo=()=>!0,_o=(e,n,t)=>{const o=am.exec(e);return o?o[1]?typeof n=="string"?o[1]===n:n.has(o[1]):t(o[2]):!1},Jy=e=>Ay.test(e)&&!Iy.test(e),im=()=>!1,Qy=e=>Fy.test(e),Gy=e=>$y.test(e),Xy=()=>{const e=oe("colors"),n=oe("spacing"),t=oe("blur"),o=oe("brightness"),r=oe("borderColor"),a=oe("borderRadius"),i=oe("borderSpacing"),s=oe("borderWidth"),l=oe("contrast"),u=oe("grayscale"),d=oe("hueRotate"),p=oe("invert"),v=oe("gap"),z=oe("gradientColorStops"),j=oe("gradientColorStopPositions"),k=oe("inset"),w=oe("margin"),f=oe("opacity"),m=oe("padding"),h=oe("saturate"),x=oe("scale"),P=oe("sepia"),_=oe("skew"),y=oe("space"),R=oe("translate"),L=()=>["auto","contain","none"],M=()=>["auto","hidden","clip","visible","scroll"],Z=()=>["auto",H,n],U=()=>[H,n],ne=()=>["",Tn,Xn],ve=()=>["auto",zo,H],Fe=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],Ke=()=>["solid","dashed","dotted","double","none"],pn=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],N=()=>["start","end","center","between","around","evenly","stretch"],I=()=>["","0",H],$=()=>["auto","avoid","all","avoid-page","page","left","right","column"],J=()=>[zo,H];return{cacheSize:500,separator:":",theme:{colors:[Xo],spacing:[Tn,Xn],blur:["none","",Yn,H],brightness:J(),borderColor:[e],borderRadius:["none","","full",Yn,H],borderSpacing:U(),borderWidth:ne(),contrast:J(),grayscale:I(),hueRotate:J(),invert:I(),gap:U(),gradientColorStops:[e],gradientColorStopPositions:[Uy,Xn],inset:Z(),margin:Z(),opacity:J(),padding:U(),saturate:J(),scale:J(),sepia:I(),skew:J(),space:U(),translate:U()},classGroups:{aspect:[{aspect:["auto","square","video",H]}],container:["container"],columns:[{columns:[Yn]}],"break-after":[{"break-after":$()}],"break-before":[{"break-before":$()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...Fe(),H]}],overflow:[{overflow:M()}],"overflow-x":[{"overflow-x":M()}],"overflow-y":[{"overflow-y":M()}],overscroll:[{overscroll:L()}],"overscroll-x":[{"overscroll-x":L()}],"overscroll-y":[{"overscroll-y":L()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[k]}],"inset-x":[{"inset-x":[k]}],"inset-y":[{"inset-y":[k]}],start:[{start:[k]}],end:[{end:[k]}],top:[{top:[k]}],right:[{right:[k]}],bottom:[{bottom:[k]}],left:[{left:[k]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",Go,H]}],basis:[{basis:Z()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",H]}],grow:[{grow:I()}],shrink:[{shrink:I()}],order:[{order:["first","last","none",Go,H]}],"grid-cols":[{"grid-cols":[Xo]}],"col-start-end":[{col:["auto",{span:["full",Go,H]},H]}],"col-start":[{"col-start":ve()}],"col-end":[{"col-end":ve()}],"grid-rows":[{"grid-rows":[Xo]}],"row-start-end":[{row:["auto",{span:[Go,H]},H]}],"row-start":[{"row-start":ve()}],"row-end":[{"row-end":ve()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",H]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",H]}],gap:[{gap:[v]}],"gap-x":[{"gap-x":[v]}],"gap-y":[{"gap-y":[v]}],"justify-content":[{justify:["normal",...N()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...N(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...N(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[m]}],px:[{px:[m]}],py:[{py:[m]}],ps:[{ps:[m]}],pe:[{pe:[m]}],pt:[{pt:[m]}],pr:[{pr:[m]}],pb:[{pb:[m]}],pl:[{pl:[m]}],m:[{m:[w]}],mx:[{mx:[w]}],my:[{my:[w]}],ms:[{ms:[w]}],me:[{me:[w]}],mt:[{mt:[w]}],mr:[{mr:[w]}],mb:[{mb:[w]}],ml:[{ml:[w]}],"space-x":[{"space-x":[y]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[y]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",H,n]}],"min-w":[{"min-w":[H,n,"min","max","fit"]}],"max-w":[{"max-w":[H,n,"none","full","min","max","fit","prose",{screen:[Yn]},Yn]}],h:[{h:[H,n,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[H,n,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[H,n,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[H,n,"auto","min","max","fit"]}],"font-size":[{text:["base",Yn,Xn]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",ts]}],"font-family":[{font:[Xo]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",H]}],"line-clamp":[{"line-clamp":["none",zo,ts]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",Tn,H]}],"list-image":[{"list-image":["none",H]}],"list-style-type":[{list:["none","disc","decimal",H]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[f]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[f]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...Ke(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",Tn,Xn]}],"underline-offset":[{"underline-offset":["auto",Tn,H]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:U()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",H]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",H]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[f]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...Fe(),Wy]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",By]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},Hy]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[j]}],"gradient-via-pos":[{via:[j]}],"gradient-to-pos":[{to:[j]}],"gradient-from":[{from:[z]}],"gradient-via":[{via:[z]}],"gradient-to":[{to:[z]}],rounded:[{rounded:[a]}],"rounded-s":[{"rounded-s":[a]}],"rounded-e":[{"rounded-e":[a]}],"rounded-t":[{"rounded-t":[a]}],"rounded-r":[{"rounded-r":[a]}],"rounded-b":[{"rounded-b":[a]}],"rounded-l":[{"rounded-l":[a]}],"rounded-ss":[{"rounded-ss":[a]}],"rounded-se":[{"rounded-se":[a]}],"rounded-ee":[{"rounded-ee":[a]}],"rounded-es":[{"rounded-es":[a]}],"rounded-tl":[{"rounded-tl":[a]}],"rounded-tr":[{"rounded-tr":[a]}],"rounded-br":[{"rounded-br":[a]}],"rounded-bl":[{"rounded-bl":[a]}],"border-w":[{border:[s]}],"border-w-x":[{"border-x":[s]}],"border-w-y":[{"border-y":[s]}],"border-w-s":[{"border-s":[s]}],"border-w-e":[{"border-e":[s]}],"border-w-t":[{"border-t":[s]}],"border-w-r":[{"border-r":[s]}],"border-w-b":[{"border-b":[s]}],"border-w-l":[{"border-l":[s]}],"border-opacity":[{"border-opacity":[f]}],"border-style":[{border:[...Ke(),"hidden"]}],"divide-x":[{"divide-x":[s]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[s]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[f]}],"divide-style":[{divide:Ke()}],"border-color":[{border:[r]}],"border-color-x":[{"border-x":[r]}],"border-color-y":[{"border-y":[r]}],"border-color-s":[{"border-s":[r]}],"border-color-e":[{"border-e":[r]}],"border-color-t":[{"border-t":[r]}],"border-color-r":[{"border-r":[r]}],"border-color-b":[{"border-b":[r]}],"border-color-l":[{"border-l":[r]}],"divide-color":[{divide:[r]}],"outline-style":[{outline:["",...Ke()]}],"outline-offset":[{"outline-offset":[Tn,H]}],"outline-w":[{outline:[Tn,Xn]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:ne()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[f]}],"ring-offset-w":[{"ring-offset":[Tn,Xn]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",Yn,Zy]}],"shadow-color":[{shadow:[Xo]}],opacity:[{opacity:[f]}],"mix-blend":[{"mix-blend":[...pn(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":pn()}],filter:[{filter:["","none"]}],blur:[{blur:[t]}],brightness:[{brightness:[o]}],contrast:[{contrast:[l]}],"drop-shadow":[{"drop-shadow":["","none",Yn,H]}],grayscale:[{grayscale:[u]}],"hue-rotate":[{"hue-rotate":[d]}],invert:[{invert:[p]}],saturate:[{saturate:[h]}],sepia:[{sepia:[P]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[t]}],"backdrop-brightness":[{"backdrop-brightness":[o]}],"backdrop-contrast":[{"backdrop-contrast":[l]}],"backdrop-grayscale":[{"backdrop-grayscale":[u]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[d]}],"backdrop-invert":[{"backdrop-invert":[p]}],"backdrop-opacity":[{"backdrop-opacity":[f]}],"backdrop-saturate":[{"backdrop-saturate":[h]}],"backdrop-sepia":[{"backdrop-sepia":[P]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[i]}],"border-spacing-x":[{"border-spacing-x":[i]}],"border-spacing-y":[{"border-spacing-y":[i]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",H]}],duration:[{duration:J()}],ease:[{ease:["linear","in","out","in-out",H]}],delay:[{delay:J()}],animate:[{animate:["none","spin","ping","pulse","bounce",H]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[x]}],"scale-x":[{"scale-x":[x]}],"scale-y":[{"scale-y":[x]}],rotate:[{rotate:[Go,H]}],"translate-x":[{"translate-x":[R]}],"translate-y":[{"translate-y":[R]}],"skew-x":[{"skew-x":[_]}],"skew-y":[{"skew-y":[_]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",H]}],accent:[{accent:["auto",e]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",H]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":U()}],"scroll-mx":[{"scroll-mx":U()}],"scroll-my":[{"scroll-my":U()}],"scroll-ms":[{"scroll-ms":U()}],"scroll-me":[{"scroll-me":U()}],"scroll-mt":[{"scroll-mt":U()}],"scroll-mr":[{"scroll-mr":U()}],"scroll-mb":[{"scroll-mb":U()}],"scroll-ml":[{"scroll-ml":U()}],"scroll-p":[{"scroll-p":U()}],"scroll-px":[{"scroll-px":U()}],"scroll-py":[{"scroll-py":U()}],"scroll-ps":[{"scroll-ps":U()}],"scroll-pe":[{"scroll-pe":U()}],"scroll-pt":[{"scroll-pt":U()}],"scroll-pr":[{"scroll-pr":U()}],"scroll-pb":[{"scroll-pb":U()}],"scroll-pl":[{"scroll-pl":U()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",H]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[Tn,Xn,ts]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},Yy=My(Xy);function Bn(...e){return Yy(nm(e))}function qy(e){const n=[...e];for(let t=n.length-1;t>0;t--){const o=Math.floor(Math.random()*(t+1)),r=n[t];n[t]=n[o],n[o]=r}return n}function ez(e){return`${e}_${new Date().getTime()}`}const nz=jy("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),Ln=c.forwardRef(({className:e,variant:n,size:t,asChild:o=!1,...r},a)=>{const i=o?Vt:"button";return g.jsx(i,{className:Bn(nz({variant:n,size:t,className:e})),ref:a,...r})});Ln.displayName="Button";/**
 * @license lucide-react v0.379.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tz=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),sm=(...e)=>e.filter((n,t,o)=>!!n&&o.indexOf(n)===t).join(" ");/**
 * @license lucide-react v0.379.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var oz={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.379.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rz=c.forwardRef(({color:e="currentColor",size:n=24,strokeWidth:t=2,absoluteStrokeWidth:o,className:r="",children:a,iconNode:i,...s},l)=>c.createElement("svg",{ref:l,...oz,width:n,height:n,stroke:e,strokeWidth:o?Number(t)*24/Number(n):t,className:sm("lucide",r),...s},[...i.map(([u,d])=>c.createElement(u,d)),...Array.isArray(a)?a:[a]]));/**
 * @license lucide-react v0.379.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ji=(e,n)=>{const t=c.forwardRef(({className:o,...r},a)=>c.createElement(rz,{ref:a,iconNode:n,className:sm(`lucide-${tz(e)}`,o),...r}));return t.displayName=`${e}`,t};/**
 * @license lucide-react v0.379.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lm=ji("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.379.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xc=ji("Github",[["path",{d:"M15 22v-4a4.8 4.8 0 0 0-1-3.5c3 0 6-2 6-5.5.08-1.25-.27-2.48-1-3.5.28-1.15.28-2.35 0-3.5 0 0-1 0-3 1.5-2.64-.5-5.36-.5-8 0C6 2 5 2 5 2c-.3 1.15-.3 2.35 0 3.5A5.403 5.403 0 0 0 4 9c0 3.5 3 5.5 6 5.5-.39.49-.68 1.05-.85 1.65-.17.6-.22 1.23-.15 1.85v4",key:"tonef"}],["path",{d:"M9 18c-4.51 2-5-2-7-2",key:"9comsn"}]]);/**
 * @license lucide-react v0.379.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jo=ji("Link",[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]]);/**
 * @license lucide-react v0.379.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const um=ji("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),az=(e,n)=>g.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:800,height:800,fill:"none",viewBox:"0 0 24 24",ref:n,...e,children:g.jsx("path",{stroke:"currentColor",strokeLinejoin:"round",d:"M18.894 4.344A17.409 17.409 0 0 0 14.532 3c-.192.33-.406.779-.555 1.13a16.677 16.677 0 0 0-4.833 0c-.15-.351-.373-.8-.555-1.13a17.162 17.162 0 0 0-4.363 1.344C1.463 8.419.716 12.397 1.09 16.323A17.782 17.782 0 0 0 6.435 19a13 13 0 0 0 1.14-1.845 11.182 11.182 0 0 1-1.802-.864c.15-.107.299-.224.438-.342 3.477 1.59 7.243 1.59 10.678 0 .15.118.288.235.437.342a11.18 11.18 0 0 1-1.802.864A13 13 0 0 0 16.665 19a17.684 17.684 0 0 0 5.345-2.677c.459-4.544-.726-8.491-3.116-11.979ZM8.056 13.901c-1.045 0-1.899-.949-1.899-2.112 0-1.162.832-2.112 1.899-2.112 1.056 0 1.92.95 1.899 2.112 0 1.163-.843 2.112-1.9 2.112Zm7.009 0c-1.045 0-1.9-.949-1.9-2.112 0-1.162.833-2.112 1.9-2.112 1.056 0 1.92.95 1.899 2.112 0 1.163-.832 2.112-1.899 2.112Z"})}),cm=c.forwardRef(az);cm.displayName="Discord";/**
 * @remix-run/router v1.16.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function se(){return se=Object.assign?Object.assign.bind():function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])}return e},se.apply(this,arguments)}var ke;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(ke||(ke={}));const Yc="popstate";function iz(e){e===void 0&&(e={});function n(r,a){let{pathname:i="/",search:s="",hash:l=""}=Kn(r.location.hash.substr(1));return!i.startsWith("/")&&!i.startsWith(".")&&(i="/"+i),Mr("",{pathname:i,search:s,hash:l},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function t(r,a){let i=r.document.querySelector("base"),s="";if(i&&i.getAttribute("href")){let l=r.location.href,u=l.indexOf("#");s=u===-1?l:l.slice(0,u)}return s+"#"+(typeof a=="string"?a:It(a))}function o(r,a){At(r.pathname.charAt(0)==="/","relative pathnames are not supported in hash history.push("+JSON.stringify(a)+")")}return lz(n,t,o,e)}function Q(e,n){if(e===!1||e===null||typeof e>"u")throw new Error(n)}function At(e,n){if(!e){typeof console<"u"&&console.warn(n);try{throw new Error(n)}catch{}}}function sz(){return Math.random().toString(36).substr(2,8)}function qc(e,n){return{usr:e.state,key:e.key,idx:n}}function Mr(e,n,t,o){return t===void 0&&(t=null),se({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof n=="string"?Kn(n):n,{state:t,key:n&&n.key||o||sz()})}function It(e){let{pathname:n="/",search:t="",hash:o=""}=e;return t&&t!=="?"&&(n+=t.charAt(0)==="?"?t:"?"+t),o&&o!=="#"&&(n+=o.charAt(0)==="#"?o:"#"+o),n}function Kn(e){let n={};if(e){let t=e.indexOf("#");t>=0&&(n.hash=e.substr(t),e=e.substr(0,t));let o=e.indexOf("?");o>=0&&(n.search=e.substr(o),e=e.substr(0,o)),e&&(n.pathname=e)}return n}function lz(e,n,t,o){o===void 0&&(o={});let{window:r=document.defaultView,v5Compat:a=!1}=o,i=r.history,s=ke.Pop,l=null,u=d();u==null&&(u=0,i.replaceState(se({},i.state,{idx:u}),""));function d(){return(i.state||{idx:null}).idx}function p(){s=ke.Pop;let w=d(),f=w==null?null:w-u;u=w,l&&l({action:s,location:k.location,delta:f})}function v(w,f){s=ke.Push;let m=Mr(k.location,w,f);t&&t(m,w),u=d()+1;let h=qc(m,u),x=k.createHref(m);try{i.pushState(h,"",x)}catch(P){if(P instanceof DOMException&&P.name==="DataCloneError")throw P;r.location.assign(x)}a&&l&&l({action:s,location:k.location,delta:1})}function z(w,f){s=ke.Replace;let m=Mr(k.location,w,f);t&&t(m,w),u=d();let h=qc(m,u),x=k.createHref(m);i.replaceState(h,"",x),a&&l&&l({action:s,location:k.location,delta:0})}function j(w){let f=r.location.origin!=="null"?r.location.origin:r.location.href,m=typeof w=="string"?w:It(w);return m=m.replace(/ $/,"%20"),Q(f,"No window.location.(origin|href) available to create URL for href: "+m),new URL(m,f)}let k={get action(){return s},get location(){return e(r,i)},listen(w){if(l)throw new Error("A history only accepts one active listener");return r.addEventListener(Yc,p),l=w,()=>{r.removeEventListener(Yc,p),l=null}},createHref(w){return n(r,w)},createURL:j,encodeLocation(w){let f=j(w);return{pathname:f.pathname,search:f.search,hash:f.hash}},push:v,replace:z,go(w){return i.go(w)}};return k}var le;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(le||(le={}));const uz=new Set(["lazy","caseSensitive","path","id","index","children"]);function cz(e){return e.index===!0}function cl(e,n,t,o){return t===void 0&&(t=[]),o===void 0&&(o={}),e.map((r,a)=>{let i=[...t,a],s=typeof r.id=="string"?r.id:i.join("-");if(Q(r.index!==!0||!r.children,"Cannot specify children on an index route"),Q(!o[s],'Found a route id collision on id "'+s+`".  Route id's must be globally unique within Data Router usages`),cz(r)){let l=se({},r,n(r),{id:s});return o[s]=l,l}else{let l=se({},r,n(r),{id:s,children:void 0});return o[s]=l,r.children&&(l.children=cl(r.children,n,i,o)),l}})}function co(e,n,t){t===void 0&&(t="/");let o=typeof n=="string"?Kn(n):n,r=Mo(o.pathname||"/",t);if(r==null)return null;let a=dm(e);pz(a);let i=null;for(let s=0;i==null&&s<a.length;++s){let l=xz(r);i=bz(a[s],l)}return i}function dz(e,n){let{route:t,pathname:o,params:r}=e;return{id:t.id,pathname:o,params:r,data:n[t.id],handle:t.handle}}function dm(e,n,t,o){n===void 0&&(n=[]),t===void 0&&(t=[]),o===void 0&&(o="");let r=(a,i,s)=>{let l={relativePath:s===void 0?a.path||"":s,caseSensitive:a.caseSensitive===!0,childrenIndex:i,route:a};l.relativePath.startsWith("/")&&(Q(l.relativePath.startsWith(o),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+o+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(o.length));let u=In([o,l.relativePath]),d=t.concat(l);a.children&&a.children.length>0&&(Q(a.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),dm(a.children,n,d,u)),!(a.path==null&&!a.index)&&n.push({path:u,score:zz(u,a.index),routesMeta:d})};return e.forEach((a,i)=>{var s;if(a.path===""||!((s=a.path)!=null&&s.includes("?")))r(a,i);else for(let l of pm(a.path))r(a,i,l)}),n}function pm(e){let n=e.split("/");if(n.length===0)return[];let[t,...o]=n,r=t.endsWith("?"),a=t.replace(/\?$/,"");if(o.length===0)return r?[a,""]:[a];let i=pm(o.join("/")),s=[];return s.push(...i.map(l=>l===""?a:[a,l].join("/"))),r&&s.push(...i),s.map(l=>e.startsWith("/")&&l===""?"/":l)}function pz(e){e.sort((n,t)=>n.score!==t.score?t.score-n.score:jz(n.routesMeta.map(o=>o.childrenIndex),t.routesMeta.map(o=>o.childrenIndex)))}const vz=/^:[\w-]+$/,mz=3,fz=2,kz=1,hz=10,yz=-2,ed=e=>e==="*";function zz(e,n){let t=e.split("/"),o=t.length;return t.some(ed)&&(o+=yz),n&&(o+=fz),t.filter(r=>!ed(r)).reduce((r,a)=>r+(vz.test(a)?mz:a===""?kz:hz),o)}function jz(e,n){return e.length===n.length&&e.slice(0,-1).every((o,r)=>o===n[r])?e[e.length-1]-n[n.length-1]:0}function bz(e,n){let{routesMeta:t}=e,o={},r="/",a=[];for(let i=0;i<t.length;++i){let s=t[i],l=i===t.length-1,u=r==="/"?n:n.slice(r.length)||"/",d=gz({path:s.relativePath,caseSensitive:s.caseSensitive,end:l},u);if(!d)return null;Object.assign(o,d.params);let p=s.route;a.push({params:o,pathname:In([r,d.pathname]),pathnameBase:Pz(In([r,d.pathnameBase])),route:p}),d.pathnameBase!=="/"&&(r=In([r,d.pathnameBase]))}return a}function gz(e,n){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[t,o]=wz(e.path,e.caseSensitive,e.end),r=n.match(t);if(!r)return null;let a=r[0],i=a.replace(/(.)\/+$/,"$1"),s=r.slice(1);return{params:o.reduce((u,d,p)=>{let{paramName:v,isOptional:z}=d;if(v==="*"){let k=s[p]||"";i=a.slice(0,a.length-k.length).replace(/(.)\/+$/,"$1")}const j=s[p];return z&&!j?u[v]=void 0:u[v]=(j||"").replace(/%2F/g,"/"),u},{}),pathname:a,pathnameBase:i,pattern:e}}function wz(e,n,t){n===void 0&&(n=!1),t===void 0&&(t=!0),At(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let o=[],r="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(i,s,l)=>(o.push({paramName:s,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(o.push({paramName:"*"}),r+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?r+="\\/*$":e!==""&&e!=="/"&&(r+="(?:(?=\\/|$))"),[new RegExp(r,n?void 0:"i"),o]}function xz(e){try{return e.split("/").map(n=>decodeURIComponent(n).replace(/\//g,"%2F")).join("/")}catch(n){return At(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+n+").")),e}}function Mo(e,n){if(n==="/")return e;if(!e.toLowerCase().startsWith(n.toLowerCase()))return null;let t=n.endsWith("/")?n.length-1:n.length,o=e.charAt(t);return o&&o!=="/"?null:e.slice(t)||"/"}function Sz(e,n){n===void 0&&(n="/");let{pathname:t,search:o="",hash:r=""}=typeof e=="string"?Kn(e):e;return{pathname:t?t.startsWith("/")?t:Ez(t,n):n,search:Cz(o),hash:Rz(r)}}function Ez(e,n){let t=n.replace(/\/+$/,"").split("/");return e.split("/").forEach(r=>{r===".."?t.length>1&&t.pop():r!=="."&&t.push(r)}),t.length>1?t.join("/"):"/"}function os(e,n,t,o){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+n+"` field ["+JSON.stringify(o)+"].  Please separate it out to the ")+("`to."+t+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function vm(e){return e.filter((n,t)=>t===0||n.route.path&&n.route.path.length>0)}function fu(e,n){let t=vm(e);return n?t.map((o,r)=>r===e.length-1?o.pathname:o.pathnameBase):t.map(o=>o.pathnameBase)}function ku(e,n,t,o){o===void 0&&(o=!1);let r;typeof e=="string"?r=Kn(e):(r=se({},e),Q(!r.pathname||!r.pathname.includes("?"),os("?","pathname","search",r)),Q(!r.pathname||!r.pathname.includes("#"),os("#","pathname","hash",r)),Q(!r.search||!r.search.includes("#"),os("#","search","hash",r)));let a=e===""||r.pathname==="",i=a?"/":r.pathname,s;if(i==null)s=t;else{let p=n.length-1;if(!o&&i.startsWith("..")){let v=i.split("/");for(;v[0]==="..";)v.shift(),p-=1;r.pathname=v.join("/")}s=p>=0?n[p]:"/"}let l=Sz(r,s),u=i&&i!=="/"&&i.endsWith("/"),d=(a||i===".")&&t.endsWith("/");return!l.pathname.endsWith("/")&&(u||d)&&(l.pathname+="/"),l}const In=e=>e.join("/").replace(/\/\/+/g,"/"),Pz=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),Cz=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,Rz=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e,Cn=function(n,t){t===void 0&&(t=302);let o=t;typeof o=="number"?o={status:o}:typeof o.status>"u"&&(o.status=302);let r=new Headers(o.headers);return r.set("Location",n),new Response(null,se({},o,{headers:r}))};class hu{constructor(n,t,o,r){r===void 0&&(r=!1),this.status=n,this.statusText=t||"",this.internal=r,o instanceof Error?(this.data=o.toString(),this.error=o):this.data=o}}function yu(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const mm=["post","put","patch","delete"],Nz=new Set(mm),Tz=["get",...mm],_z=new Set(Tz),Mz=new Set([301,302,303,307,308]),Oz=new Set([307,308]),rs={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},Dz={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},Yo={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},zu=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Lz=e=>({hasErrorBoundary:!!e.hasErrorBoundary}),fm="remix-router-transitions";function Az(e){const n=e.window?e.window:typeof window<"u"?window:void 0,t=typeof n<"u"&&typeof n.document<"u"&&typeof n.document.createElement<"u",o=!t;Q(e.routes.length>0,"You must provide a non-empty routes array to createRouter");let r;if(e.mapRouteProperties)r=e.mapRouteProperties;else if(e.detectErrorBoundary){let b=e.detectErrorBoundary;r=S=>({hasErrorBoundary:b(S)})}else r=Lz;let a={},i=cl(e.routes,r,void 0,a),s,l=e.basename||"/",u=e.unstable_dataStrategy||Uz,d=se({v7_fetcherPersist:!1,v7_normalizeFormMethod:!1,v7_partialHydration:!1,v7_prependBasename:!1,v7_relativeSplatPath:!1,unstable_skipActionErrorRevalidation:!1},e.future),p=null,v=new Set,z=null,j=null,k=null,w=e.hydrationData!=null,f=co(i,e.history.location,l),m=null;if(f==null){let b=on(404,{pathname:e.history.location.pathname}),{matches:S,route:E}=cd(i);f=S,m={[E.id]:b}}let h,x=f.some(b=>b.route.lazy),P=f.some(b=>b.route.loader);if(x)h=!1;else if(!P)h=!0;else if(d.v7_partialHydration){let b=e.hydrationData?e.hydrationData.loaderData:null,S=e.hydrationData?e.hydrationData.errors:null,E=T=>T.route.loader?typeof T.route.loader=="function"&&T.route.loader.hydrate===!0?!1:b&&b[T.route.id]!==void 0||S&&S[T.route.id]!==void 0:!0;if(S){let T=f.findIndex(D=>S[D.route.id]!==void 0);h=f.slice(0,T+1).every(E)}else h=f.every(E)}else h=e.hydrationData!=null;let _,y={historyAction:e.history.action,location:e.history.location,matches:f,initialized:h,navigation:rs,restoreScrollPosition:e.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:e.hydrationData&&e.hydrationData.loaderData||{},actionData:e.hydrationData&&e.hydrationData.actionData||null,errors:e.hydrationData&&e.hydrationData.errors||m,fetchers:new Map,blockers:new Map},R=ke.Pop,L=!1,M,Z=!1,U=new Map,ne=null,ve=!1,Fe=!1,Ke=[],pn=[],N=new Map,I=0,$=-1,J=new Map,ee=new Set,vn=new Map,He=new Map,Ze=new Set,Me=new Map,nn=new Map,Pi=!1;function Cf(){if(p=e.history.listen(b=>{let{action:S,location:E,delta:T}=b;if(Pi){Pi=!1;return}At(nn.size===0||T!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let D=Mu({currentLocation:y.location,nextLocation:E,historyAction:S});if(D&&T!=null){Pi=!0,e.history.go(T*-1),Wr(D,{state:"blocked",location:E,proceed(){Wr(D,{state:"proceeding",proceed:void 0,reset:void 0,location:E}),e.history.go(T)},reset(){let W=new Map(y.blockers);W.set(D,Yo),Je({blockers:W})}});return}return bt(S,E)}),t){qz(n,U);let b=()=>ej(n,U);n.addEventListener("pagehide",b),ne=()=>n.removeEventListener("pagehide",b)}return y.initialized||bt(ke.Pop,y.location,{initialHydration:!0}),_}function Rf(){p&&p(),ne&&ne(),v.clear(),M&&M.abort(),y.fetchers.forEach((b,S)=>Br(S)),y.blockers.forEach((b,S)=>_u(S))}function Nf(b){return v.add(b),()=>v.delete(b)}function Je(b,S){S===void 0&&(S={}),y=se({},y,b);let E=[],T=[];d.v7_fetcherPersist&&y.fetchers.forEach((D,W)=>{D.state==="idle"&&(Ze.has(W)?T.push(W):E.push(W))}),[...v].forEach(D=>D(y,{deletedFetchers:T,unstable_viewTransitionOpts:S.viewTransitionOpts,unstable_flushSync:S.flushSync===!0})),d.v7_fetcherPersist&&(E.forEach(D=>y.fetchers.delete(D)),T.forEach(D=>Br(D)))}function Lo(b,S,E){var T,D;let{flushSync:W}=E===void 0?{}:E,F=y.actionData!=null&&y.navigation.formMethod!=null&&hn(y.navigation.formMethod)&&y.navigation.state==="loading"&&((T=b.state)==null?void 0:T._isRedirect)!==!0,A;S.actionData?Object.keys(S.actionData).length>0?A=S.actionData:A=null:F?A=y.actionData:A=null;let K=S.loaderData?ld(y.loaderData,S.loaderData,S.matches||[],S.errors):y.loaderData,B=y.blockers;B.size>0&&(B=new Map(B),B.forEach((V,ie)=>B.set(ie,Yo)));let we=L===!0||y.navigation.formMethod!=null&&hn(y.navigation.formMethod)&&((D=b.state)==null?void 0:D._isRedirect)!==!0;s&&(i=s,s=void 0),ve||R===ke.Pop||(R===ke.Push?e.history.push(b,b.state):R===ke.Replace&&e.history.replace(b,b.state));let xe;if(R===ke.Pop){let V=U.get(y.location.pathname);V&&V.has(b.pathname)?xe={currentLocation:y.location,nextLocation:b}:U.has(b.pathname)&&(xe={currentLocation:b,nextLocation:y.location})}else if(Z){let V=U.get(y.location.pathname);V?V.add(b.pathname):(V=new Set([b.pathname]),U.set(y.location.pathname,V)),xe={currentLocation:y.location,nextLocation:b}}Je(se({},S,{actionData:A,loaderData:K,historyAction:R,location:b,initialized:!0,navigation:rs,revalidation:"idle",restoreScrollPosition:Du(b,S.matches||y.matches),preventScrollReset:we,blockers:B}),{viewTransitionOpts:xe,flushSync:W===!0}),R=ke.Pop,L=!1,Z=!1,ve=!1,Fe=!1,Ke=[],pn=[]}async function Eu(b,S){if(typeof b=="number"){e.history.go(b);return}let E=dl(y.location,y.matches,l,d.v7_prependBasename,b,d.v7_relativeSplatPath,S==null?void 0:S.fromRouteId,S==null?void 0:S.relative),{path:T,submission:D,error:W}=nd(d.v7_normalizeFormMethod,!1,E,S),F=y.location,A=Mr(y.location,T,S&&S.state);A=se({},A,e.history.encodeLocation(A));let K=S&&S.replace!=null?S.replace:void 0,B=ke.Push;K===!0?B=ke.Replace:K===!1||D!=null&&hn(D.formMethod)&&D.formAction===y.location.pathname+y.location.search&&(B=ke.Replace);let we=S&&"preventScrollReset"in S?S.preventScrollReset===!0:void 0,xe=(S&&S.unstable_flushSync)===!0,V=Mu({currentLocation:F,nextLocation:A,historyAction:B});if(V){Wr(V,{state:"blocked",location:A,proceed(){Wr(V,{state:"proceeding",proceed:void 0,reset:void 0,location:A}),Eu(b,S)},reset(){let ie=new Map(y.blockers);ie.set(V,Yo),Je({blockers:ie})}});return}return await bt(B,A,{submission:D,pendingError:W,preventScrollReset:we,replace:S&&S.replace,enableViewTransition:S&&S.unstable_viewTransition,flushSync:xe})}function Tf(){if(Ci(),Je({revalidation:"loading"}),y.navigation.state!=="submitting"){if(y.navigation.state==="idle"){bt(y.historyAction,y.location,{startUninterruptedRevalidation:!0});return}bt(R||y.historyAction,y.navigation.location,{overrideNavigation:y.navigation})}}async function bt(b,S,E){M&&M.abort(),M=null,R=b,ve=(E&&E.startUninterruptedRevalidation)===!0,$f(y.location,y.matches),L=(E&&E.preventScrollReset)===!0,Z=(E&&E.enableViewTransition)===!0;let T=s||i,D=E&&E.overrideNavigation,W=co(T,S,l),F=(E&&E.flushSync)===!0;if(!W){let V=on(404,{pathname:S.pathname}),{matches:ie,route:je}=cd(T);Ri(),Lo(S,{matches:ie,loaderData:{},errors:{[je.id]:V}},{flushSync:F});return}if(y.initialized&&!Fe&&Zz(y.location,S)&&!(E&&E.submission&&hn(E.submission.formMethod))){Lo(S,{matches:W},{flushSync:F});return}M=new AbortController;let A=Jt(e.history,S,M.signal,E&&E.submission),K;if(E&&E.pendingError)K=[mr(W).route.id,{type:le.error,error:E.pendingError}];else if(E&&E.submission&&hn(E.submission.formMethod)){let V=await _f(A,S,E.submission,W,{replace:E.replace,flushSync:F});if(V.shortCircuited)return;K=V.pendingActionResult,D=as(S,E.submission),F=!1,A=Jt(e.history,A.url,A.signal)}let{shortCircuited:B,loaderData:we,errors:xe}=await Mf(A,S,W,D,E&&E.submission,E&&E.fetcherSubmission,E&&E.replace,E&&E.initialHydration===!0,F,K);B||(M=null,Lo(S,se({matches:W},ud(K),{loaderData:we,errors:xe})))}async function _f(b,S,E,T,D){D===void 0&&(D={}),Ci();let W=Xz(S,E);Je({navigation:W},{flushSync:D.flushSync===!0});let F,A=vl(T,S);if(!A.route.action&&!A.route.lazy)F={type:le.error,error:on(405,{method:b.method,pathname:S.pathname,routeId:A.route.id})};else if(F=(await Io("action",b,[A],T))[0],b.signal.aborted)return{shortCircuited:!0};if(Ct(F)){let K;return D&&D.replace!=null?K=D.replace:K=ad(F.response.headers.get("Location"),new URL(b.url),l)===y.location.pathname+y.location.search,await Ao(b,F,{submission:E,replace:K}),{shortCircuited:!0}}if(Pt(F))throw on(400,{type:"defer-action"});if(sn(F)){let K=mr(T,A.route.id);return(D&&D.replace)!==!0&&(R=ke.Push),{pendingActionResult:[K.route.id,F]}}return{pendingActionResult:[A.route.id,F]}}async function Mf(b,S,E,T,D,W,F,A,K,B){let we=T||as(S,D),xe=D||W||vd(we),V=s||i,[ie,je]=td(e.history,y,E,xe,S,d.v7_partialHydration&&A===!0,d.unstable_skipActionErrorRevalidation,Fe,Ke,pn,Ze,vn,ee,V,l,B);if(Ri(X=>!(E&&E.some(Oe=>Oe.route.id===X))||ie&&ie.some(Oe=>Oe.route.id===X)),$=++I,ie.length===0&&je.length===0){let X=Nu();return Lo(S,se({matches:E,loaderData:{},errors:B&&sn(B[1])?{[B[0]]:B[1].error}:null},ud(B),X?{fetchers:new Map(y.fetchers)}:{}),{flushSync:K}),{shortCircuited:!0}}if(!ve&&(!d.v7_partialHydration||!A)){je.forEach(Oe=>{let tn=y.fetchers.get(Oe.key),Se=qo(void 0,tn?tn.data:void 0);y.fetchers.set(Oe.key,Se)});let X;B&&!sn(B[1])?X={[B[0]]:B[1].data}:y.actionData&&(Object.keys(y.actionData).length===0?X=null:X=y.actionData),Je(se({navigation:we},X!==void 0?{actionData:X}:{},je.length>0?{fetchers:new Map(y.fetchers)}:{}),{flushSync:K})}je.forEach(X=>{N.has(X.key)&&Jn(X.key),X.controller&&N.set(X.key,X.controller)});let $o=()=>je.forEach(X=>Jn(X.key));M&&M.signal.addEventListener("abort",$o);let{loaderResults:Qn,fetcherResults:Wt}=await Pu(y.matches,E,ie,je,b);if(b.signal.aborted)return{shortCircuited:!0};M&&M.signal.removeEventListener("abort",$o),je.forEach(X=>N.delete(X.key));let Kt=dd([...Qn,...Wt]);if(Kt){if(Kt.idx>=ie.length){let X=je[Kt.idx-ie.length].key;ee.add(X)}return await Ao(b,Kt.result,{replace:F}),{shortCircuited:!0}}let{loaderData:Ht,errors:wn}=sd(y,E,ie,Qn,B,je,Wt,Me);Me.forEach((X,Oe)=>{X.subscribe(tn=>{(tn||X.done)&&Me.delete(Oe)})}),d.v7_partialHydration&&A&&y.errors&&Object.entries(y.errors).filter(X=>{let[Oe]=X;return!ie.some(tn=>tn.route.id===Oe)}).forEach(X=>{let[Oe,tn]=X;wn=Object.assign(wn||{},{[Oe]:tn})});let Kr=Nu(),Hr=Tu($),Zr=Kr||Hr||je.length>0;return se({loaderData:Ht,errors:wn},Zr?{fetchers:new Map(y.fetchers)}:{})}function Of(b,S,E,T){if(o)throw new Error("router.fetch() was called during the server render, but it shouldn't be. You are likely calling a useFetcher() method in the body of your component. Try moving it to a useEffect or a callback.");N.has(b)&&Jn(b);let D=(T&&T.unstable_flushSync)===!0,W=s||i,F=dl(y.location,y.matches,l,d.v7_prependBasename,E,d.v7_relativeSplatPath,S,T==null?void 0:T.relative),A=co(W,F,l);if(!A){Fo(b,S,on(404,{pathname:F}),{flushSync:D});return}let{path:K,submission:B,error:we}=nd(d.v7_normalizeFormMethod,!0,F,T);if(we){Fo(b,S,we,{flushSync:D});return}let xe=vl(A,K);if(L=(T&&T.preventScrollReset)===!0,B&&hn(B.formMethod)){Df(b,S,K,xe,A,D,B);return}vn.set(b,{routeId:S,path:K}),Lf(b,S,K,xe,A,D,B)}async function Df(b,S,E,T,D,W,F){if(Ci(),vn.delete(b),!T.route.action&&!T.route.lazy){let Se=on(405,{method:F.formMethod,pathname:E,routeId:S});Fo(b,S,Se,{flushSync:W});return}let A=y.fetchers.get(b);Zn(b,Yz(F,A),{flushSync:W});let K=new AbortController,B=Jt(e.history,E,K.signal,F);N.set(b,K);let we=I,V=(await Io("action",B,[T],D))[0];if(B.signal.aborted){N.get(b)===K&&N.delete(b);return}if(d.v7_fetcherPersist&&Ze.has(b)){if(Ct(V)||sn(V)){Zn(b,qn(void 0));return}}else{if(Ct(V))if(N.delete(b),$>we){Zn(b,qn(void 0));return}else return ee.add(b),Zn(b,qo(F)),Ao(B,V,{fetcherSubmission:F});if(sn(V)){Fo(b,S,V.error);return}}if(Pt(V))throw on(400,{type:"defer-action"});let ie=y.navigation.location||y.location,je=Jt(e.history,ie,K.signal),$o=s||i,Qn=y.navigation.state!=="idle"?co($o,y.navigation.location,l):y.matches;Q(Qn,"Didn't find any matches after fetcher action");let Wt=++I;J.set(b,Wt);let Kt=qo(F,V.data);y.fetchers.set(b,Kt);let[Ht,wn]=td(e.history,y,Qn,F,ie,!1,d.unstable_skipActionErrorRevalidation,Fe,Ke,pn,Ze,vn,ee,$o,l,[T.route.id,V]);wn.filter(Se=>Se.key!==b).forEach(Se=>{let Uo=Se.key,Lu=y.fetchers.get(Uo),Vf=qo(void 0,Lu?Lu.data:void 0);y.fetchers.set(Uo,Vf),N.has(Uo)&&Jn(Uo),Se.controller&&N.set(Uo,Se.controller)}),Je({fetchers:new Map(y.fetchers)});let Kr=()=>wn.forEach(Se=>Jn(Se.key));K.signal.addEventListener("abort",Kr);let{loaderResults:Hr,fetcherResults:Zr}=await Pu(y.matches,Qn,Ht,wn,je);if(K.signal.aborted)return;K.signal.removeEventListener("abort",Kr),J.delete(b),N.delete(b),wn.forEach(Se=>N.delete(Se.key));let X=dd([...Hr,...Zr]);if(X){if(X.idx>=Ht.length){let Se=wn[X.idx-Ht.length].key;ee.add(Se)}return Ao(je,X.result)}let{loaderData:Oe,errors:tn}=sd(y,y.matches,Ht,Hr,void 0,wn,Zr,Me);if(y.fetchers.has(b)){let Se=qn(V.data);y.fetchers.set(b,Se)}Tu(Wt),y.navigation.state==="loading"&&Wt>$?(Q(R,"Expected pending action"),M&&M.abort(),Lo(y.navigation.location,{matches:Qn,loaderData:Oe,errors:tn,fetchers:new Map(y.fetchers)})):(Je({errors:tn,loaderData:ld(y.loaderData,Oe,Qn,tn),fetchers:new Map(y.fetchers)}),Fe=!1)}async function Lf(b,S,E,T,D,W,F){let A=y.fetchers.get(b);Zn(b,qo(F,A?A.data:void 0),{flushSync:W});let K=new AbortController,B=Jt(e.history,E,K.signal);N.set(b,K);let we=I,V=(await Io("loader",B,[T],D))[0];if(Pt(V)&&(V=await zm(V,B.signal,!0)||V),N.get(b)===K&&N.delete(b),!B.signal.aborted){if(Ze.has(b)){Zn(b,qn(void 0));return}if(Ct(V))if($>we){Zn(b,qn(void 0));return}else{ee.add(b),await Ao(B,V);return}if(sn(V)){Fo(b,S,V.error);return}Q(!Pt(V),"Unhandled fetcher deferred data"),Zn(b,qn(V.data))}}async function Ao(b,S,E){let{submission:T,fetcherSubmission:D,replace:W}=E===void 0?{}:E;S.response.headers.has("X-Remix-Revalidate")&&(Fe=!0);let F=S.response.headers.get("Location");Q(F,"Expected a Location header on the redirect Response"),F=ad(F,new URL(b.url),l);let A=Mr(y.location,F,{_isRedirect:!0});if(t){let ie=!1;if(S.response.headers.has("X-Remix-Reload-Document"))ie=!0;else if(zu.test(F)){const je=e.history.createURL(F);ie=je.origin!==n.location.origin||Mo(je.pathname,l)==null}if(ie){W?n.location.replace(F):n.location.assign(F);return}}M=null;let K=W===!0?ke.Replace:ke.Push,{formMethod:B,formAction:we,formEncType:xe}=y.navigation;!T&&!D&&B&&we&&xe&&(T=vd(y.navigation));let V=T||D;if(Oz.has(S.response.status)&&V&&hn(V.formMethod))await bt(K,A,{submission:se({},V,{formAction:F}),preventScrollReset:L});else{let ie=as(A,T);await bt(K,A,{overrideNavigation:ie,fetcherSubmission:D,preventScrollReset:L})}}async function Io(b,S,E,T){try{let D=await Vz(u,b,S,E,T,a,r);return await Promise.all(D.map((W,F)=>{if(Jz(W)){let A=W.result;return{type:le.redirect,response:Kz(A,S,E[F].route.id,T,l,d.v7_relativeSplatPath)}}return Wz(W)}))}catch(D){return E.map(()=>({type:le.error,error:D}))}}async function Pu(b,S,E,T,D){let[W,...F]=await Promise.all([E.length?Io("loader",D,E,S):[],...T.map(A=>{if(A.matches&&A.match&&A.controller){let K=Jt(e.history,A.path,A.controller.signal);return Io("loader",K,[A.match],A.matches).then(B=>B[0])}else return Promise.resolve({type:le.error,error:on(404,{pathname:A.path})})})]);return await Promise.all([pd(b,E,W,W.map(()=>D.signal),!1,y.loaderData),pd(b,T.map(A=>A.match),F,T.map(A=>A.controller?A.controller.signal:null),!0)]),{loaderResults:W,fetcherResults:F}}function Ci(){Fe=!0,Ke.push(...Ri()),vn.forEach((b,S)=>{N.has(S)&&(pn.push(S),Jn(S))})}function Zn(b,S,E){E===void 0&&(E={}),y.fetchers.set(b,S),Je({fetchers:new Map(y.fetchers)},{flushSync:(E&&E.flushSync)===!0})}function Fo(b,S,E,T){T===void 0&&(T={});let D=mr(y.matches,S);Br(b),Je({errors:{[D.route.id]:E},fetchers:new Map(y.fetchers)},{flushSync:(T&&T.flushSync)===!0})}function Cu(b){return d.v7_fetcherPersist&&(He.set(b,(He.get(b)||0)+1),Ze.has(b)&&Ze.delete(b)),y.fetchers.get(b)||Dz}function Br(b){let S=y.fetchers.get(b);N.has(b)&&!(S&&S.state==="loading"&&J.has(b))&&Jn(b),vn.delete(b),J.delete(b),ee.delete(b),Ze.delete(b),y.fetchers.delete(b)}function Af(b){if(d.v7_fetcherPersist){let S=(He.get(b)||0)-1;S<=0?(He.delete(b),Ze.add(b)):He.set(b,S)}else Br(b);Je({fetchers:new Map(y.fetchers)})}function Jn(b){let S=N.get(b);Q(S,"Expected fetch controller: "+b),S.abort(),N.delete(b)}function Ru(b){for(let S of b){let E=Cu(S),T=qn(E.data);y.fetchers.set(S,T)}}function Nu(){let b=[],S=!1;for(let E of ee){let T=y.fetchers.get(E);Q(T,"Expected fetcher: "+E),T.state==="loading"&&(ee.delete(E),b.push(E),S=!0)}return Ru(b),S}function Tu(b){let S=[];for(let[E,T]of J)if(T<b){let D=y.fetchers.get(E);Q(D,"Expected fetcher: "+E),D.state==="loading"&&(Jn(E),J.delete(E),S.push(E))}return Ru(S),S.length>0}function If(b,S){let E=y.blockers.get(b)||Yo;return nn.get(b)!==S&&nn.set(b,S),E}function _u(b){y.blockers.delete(b),nn.delete(b)}function Wr(b,S){let E=y.blockers.get(b)||Yo;Q(E.state==="unblocked"&&S.state==="blocked"||E.state==="blocked"&&S.state==="blocked"||E.state==="blocked"&&S.state==="proceeding"||E.state==="blocked"&&S.state==="unblocked"||E.state==="proceeding"&&S.state==="unblocked","Invalid blocker state transition: "+E.state+" -> "+S.state);let T=new Map(y.blockers);T.set(b,S),Je({blockers:T})}function Mu(b){let{currentLocation:S,nextLocation:E,historyAction:T}=b;if(nn.size===0)return;nn.size>1&&At(!1,"A router only supports one blocker at a time");let D=Array.from(nn.entries()),[W,F]=D[D.length-1],A=y.blockers.get(W);if(!(A&&A.state==="proceeding")&&F({currentLocation:S,nextLocation:E,historyAction:T}))return W}function Ri(b){let S=[];return Me.forEach((E,T)=>{(!b||b(T))&&(E.cancel(),S.push(T),Me.delete(T))}),S}function Ff(b,S,E){if(z=b,k=S,j=E||null,!w&&y.navigation===rs){w=!0;let T=Du(y.location,y.matches);T!=null&&Je({restoreScrollPosition:T})}return()=>{z=null,k=null,j=null}}function Ou(b,S){return j&&j(b,S.map(T=>dz(T,y.loaderData)))||b.key}function $f(b,S){if(z&&k){let E=Ou(b,S);z[E]=k()}}function Du(b,S){if(z){let E=Ou(b,S),T=z[E];if(typeof T=="number")return T}return null}function Uf(b){a={},s=cl(b,r,void 0,a)}return _={get basename(){return l},get future(){return d},get state(){return y},get routes(){return i},get window(){return n},initialize:Cf,subscribe:Nf,enableScrollRestoration:Ff,navigate:Eu,fetch:Of,revalidate:Tf,createHref:b=>e.history.createHref(b),encodeLocation:b=>e.history.encodeLocation(b),getFetcher:Cu,deleteFetcher:Af,dispose:Rf,getBlocker:If,deleteBlocker:_u,_internalFetchControllers:N,_internalActiveDeferreds:Me,_internalSetRoutes:Uf},_}function Iz(e){return e!=null&&("formData"in e&&e.formData!=null||"body"in e&&e.body!==void 0)}function dl(e,n,t,o,r,a,i,s){let l,u;if(i){l=[];for(let p of n)if(l.push(p),p.route.id===i){u=p;break}}else l=n,u=n[n.length-1];let d=ku(r||".",fu(l,a),Mo(e.pathname,t)||e.pathname,s==="path");return r==null&&(d.search=e.search,d.hash=e.hash),(r==null||r===""||r===".")&&u&&u.route.index&&!ju(d.search)&&(d.search=d.search?d.search.replace(/^\?/,"?index&"):"?index"),o&&t!=="/"&&(d.pathname=d.pathname==="/"?t:In([t,d.pathname])),It(d)}function nd(e,n,t,o){if(!o||!Iz(o))return{path:t};if(o.formMethod&&!Gz(o.formMethod))return{path:t,error:on(405,{method:o.formMethod})};let r=()=>({path:t,error:on(400,{type:"invalid-body"})}),a=o.formMethod||"get",i=e?a.toUpperCase():a.toLowerCase(),s=hm(t);if(o.body!==void 0){if(o.formEncType==="text/plain"){if(!hn(i))return r();let v=typeof o.body=="string"?o.body:o.body instanceof FormData||o.body instanceof URLSearchParams?Array.from(o.body.entries()).reduce((z,j)=>{let[k,w]=j;return""+z+k+"="+w+`
`},""):String(o.body);return{path:t,submission:{formMethod:i,formAction:s,formEncType:o.formEncType,formData:void 0,json:void 0,text:v}}}else if(o.formEncType==="application/json"){if(!hn(i))return r();try{let v=typeof o.body=="string"?JSON.parse(o.body):o.body;return{path:t,submission:{formMethod:i,formAction:s,formEncType:o.formEncType,formData:void 0,json:v,text:void 0}}}catch{return r()}}}Q(typeof FormData=="function","FormData is not available in this environment");let l,u;if(o.formData)l=pl(o.formData),u=o.formData;else if(o.body instanceof FormData)l=pl(o.body),u=o.body;else if(o.body instanceof URLSearchParams)l=o.body,u=id(l);else if(o.body==null)l=new URLSearchParams,u=new FormData;else try{l=new URLSearchParams(o.body),u=id(l)}catch{return r()}let d={formMethod:i,formAction:s,formEncType:o&&o.formEncType||"application/x-www-form-urlencoded",formData:u,json:void 0,text:void 0};if(hn(d.formMethod))return{path:t,submission:d};let p=Kn(t);return n&&p.search&&ju(p.search)&&l.append("index",""),p.search="?"+l,{path:It(p),submission:d}}function Fz(e,n){let t=e;if(n){let o=e.findIndex(r=>r.route.id===n);o>=0&&(t=e.slice(0,o))}return t}function td(e,n,t,o,r,a,i,s,l,u,d,p,v,z,j,k){let w=k?sn(k[1])?k[1].error:k[1].data:void 0,f=e.createURL(n.location),m=e.createURL(r),h=k&&sn(k[1])?k[0]:void 0,x=h?Fz(t,h):t,P=k?k[1].statusCode:void 0,_=i&&P&&P>=400,y=x.filter((L,M)=>{let{route:Z}=L;if(Z.lazy)return!0;if(Z.loader==null)return!1;if(a)return typeof Z.loader!="function"||Z.loader.hydrate?!0:n.loaderData[Z.id]===void 0&&(!n.errors||n.errors[Z.id]===void 0);if($z(n.loaderData,n.matches[M],L)||l.some(ve=>ve===L.route.id))return!0;let U=n.matches[M],ne=L;return od(L,se({currentUrl:f,currentParams:U.params,nextUrl:m,nextParams:ne.params},o,{actionResult:w,unstable_actionStatus:P,defaultShouldRevalidate:_?!1:s||f.pathname+f.search===m.pathname+m.search||f.search!==m.search||km(U,ne)}))}),R=[];return p.forEach((L,M)=>{if(a||!t.some(Fe=>Fe.route.id===L.routeId)||d.has(M))return;let Z=co(z,L.path,j);if(!Z){R.push({key:M,routeId:L.routeId,path:L.path,matches:null,match:null,controller:null});return}let U=n.fetchers.get(M),ne=vl(Z,L.path),ve=!1;v.has(M)?ve=!1:u.includes(M)?ve=!0:U&&U.state!=="idle"&&U.data===void 0?ve=s:ve=od(ne,se({currentUrl:f,currentParams:n.matches[n.matches.length-1].params,nextUrl:m,nextParams:t[t.length-1].params},o,{actionResult:w,unstable_actionStatus:P,defaultShouldRevalidate:_?!1:s})),ve&&R.push({key:M,routeId:L.routeId,path:L.path,matches:Z,match:ne,controller:new AbortController})}),[y,R]}function $z(e,n,t){let o=!n||t.route.id!==n.route.id,r=e[t.route.id]===void 0;return o||r}function km(e,n){let t=e.route.path;return e.pathname!==n.pathname||t!=null&&t.endsWith("*")&&e.params["*"]!==n.params["*"]}function od(e,n){if(e.route.shouldRevalidate){let t=e.route.shouldRevalidate(n);if(typeof t=="boolean")return t}return n.defaultShouldRevalidate}async function rd(e,n,t){if(!e.lazy)return;let o=await e.lazy();if(!e.lazy)return;let r=t[e.id];Q(r,"No route found in manifest");let a={};for(let i in o){let l=r[i]!==void 0&&i!=="hasErrorBoundary";At(!l,'Route "'+r.id+'" has a static property "'+i+'" defined but its lazy function is also returning a value for this property. '+('The lazy route property "'+i+'" will be ignored.')),!l&&!uz.has(i)&&(a[i]=o[i])}Object.assign(r,a),Object.assign(r,se({},n(r),{lazy:void 0}))}function Uz(e){return Promise.all(e.matches.map(n=>n.resolve()))}async function Vz(e,n,t,o,r,a,i,s){let l=o.reduce((p,v)=>p.add(v.route.id),new Set),u=new Set,d=await e({matches:r.map(p=>{let v=l.has(p.route.id);return se({},p,{shouldLoad:v,resolve:j=>(u.add(p.route.id),v?Bz(n,t,p,a,i,j,s):Promise.resolve({type:le.data,result:void 0}))})}),request:t,params:r[0].params,context:s});return r.forEach(p=>Q(u.has(p.route.id),'`match.resolve()` was not called for route id "'+p.route.id+'". You must call `match.resolve()` on every match passed to `dataStrategy` to ensure all routes are properly loaded.')),d.filter((p,v)=>l.has(r[v].route.id))}async function Bz(e,n,t,o,r,a,i){let s,l,u=d=>{let p,v=new Promise((k,w)=>p=w);l=()=>p(),n.signal.addEventListener("abort",l);let z=k=>typeof d!="function"?Promise.reject(new Error("You cannot call the handler for a route which defines a boolean "+('"'+e+'" [routeId: '+t.route.id+"]"))):d({request:n,params:t.params,context:i},...k!==void 0?[k]:[]),j;return a?j=a(k=>z(k)):j=(async()=>{try{return{type:"data",result:await z()}}catch(k){return{type:"error",result:k}}})(),Promise.race([j,v])};try{let d=t.route[e];if(t.route.lazy)if(d){let p,[v]=await Promise.all([u(d).catch(z=>{p=z}),rd(t.route,r,o)]);if(p!==void 0)throw p;s=v}else if(await rd(t.route,r,o),d=t.route[e],d)s=await u(d);else if(e==="action"){let p=new URL(n.url),v=p.pathname+p.search;throw on(405,{method:n.method,pathname:v,routeId:t.route.id})}else return{type:le.data,result:void 0};else if(d)s=await u(d);else{let p=new URL(n.url),v=p.pathname+p.search;throw on(404,{pathname:v})}Q(s.result!==void 0,"You defined "+(e==="action"?"an action":"a loader")+" for route "+('"'+t.route.id+"\" but didn't return anything from your `"+e+"` ")+"function. Please return a value or `null`.")}catch(d){return{type:le.error,result:d}}finally{l&&n.signal.removeEventListener("abort",l)}return s}async function Wz(e){let{result:n,type:t,status:o}=e;if(ym(n)){let i;try{let s=n.headers.get("Content-Type");s&&/\bapplication\/json\b/.test(s)?n.body==null?i=null:i=await n.json():i=await n.text()}catch(s){return{type:le.error,error:s}}return t===le.error?{type:le.error,error:new hu(n.status,n.statusText,i),statusCode:n.status,headers:n.headers}:{type:le.data,data:i,statusCode:n.status,headers:n.headers}}if(t===le.error)return{type:le.error,error:n,statusCode:yu(n)?n.status:o};if(Qz(n)){var r,a;return{type:le.deferred,deferredData:n,statusCode:(r=n.init)==null?void 0:r.status,headers:((a=n.init)==null?void 0:a.headers)&&new Headers(n.init.headers)}}return{type:le.data,data:n,statusCode:o}}function Kz(e,n,t,o,r,a){let i=e.headers.get("Location");if(Q(i,"Redirects returned/thrown from loaders/actions must have a Location header"),!zu.test(i)){let s=o.slice(0,o.findIndex(l=>l.route.id===t)+1);i=dl(new URL(n.url),s,r,!0,i,a),e.headers.set("Location",i)}return e}function ad(e,n,t){if(zu.test(e)){let o=e,r=o.startsWith("//")?new URL(n.protocol+o):new URL(o),a=Mo(r.pathname,t)!=null;if(r.origin===n.origin&&a)return r.pathname+r.search+r.hash}return e}function Jt(e,n,t,o){let r=e.createURL(hm(n)).toString(),a={signal:t};if(o&&hn(o.formMethod)){let{formMethod:i,formEncType:s}=o;a.method=i.toUpperCase(),s==="application/json"?(a.headers=new Headers({"Content-Type":s}),a.body=JSON.stringify(o.json)):s==="text/plain"?a.body=o.text:s==="application/x-www-form-urlencoded"&&o.formData?a.body=pl(o.formData):a.body=o.formData}return new Request(r,a)}function pl(e){let n=new URLSearchParams;for(let[t,o]of e.entries())n.append(t,typeof o=="string"?o:o.name);return n}function id(e){let n=new FormData;for(let[t,o]of e.entries())n.append(t,o);return n}function Hz(e,n,t,o,r,a){let i={},s=null,l,u=!1,d={},p=o&&sn(o[1])?o[1].error:void 0;return t.forEach((v,z)=>{let j=n[z].route.id;if(Q(!Ct(v),"Cannot handle redirect results in processLoaderData"),sn(v)){let k=v.error;p!==void 0&&(k=p,p=void 0),s=s||{};{let w=mr(e,j);s[w.route.id]==null&&(s[w.route.id]=k)}i[j]=void 0,u||(u=!0,l=yu(v.error)?v.error.status:500),v.headers&&(d[j]=v.headers)}else Pt(v)?(r.set(j,v.deferredData),i[j]=v.deferredData.data,v.statusCode!=null&&v.statusCode!==200&&!u&&(l=v.statusCode),v.headers&&(d[j]=v.headers)):(i[j]=v.data,v.statusCode&&v.statusCode!==200&&!u&&(l=v.statusCode),v.headers&&(d[j]=v.headers))}),p!==void 0&&o&&(s={[o[0]]:p},i[o[0]]=void 0),{loaderData:i,errors:s,statusCode:l||200,loaderHeaders:d}}function sd(e,n,t,o,r,a,i,s){let{loaderData:l,errors:u}=Hz(n,t,o,r,s);for(let d=0;d<a.length;d++){let{key:p,match:v,controller:z}=a[d];Q(i!==void 0&&i[d]!==void 0,"Did not find corresponding fetcher result");let j=i[d];if(!(z&&z.signal.aborted))if(sn(j)){let k=mr(e.matches,v==null?void 0:v.route.id);u&&u[k.route.id]||(u=se({},u,{[k.route.id]:j.error})),e.fetchers.delete(p)}else if(Ct(j))Q(!1,"Unhandled fetcher revalidation redirect");else if(Pt(j))Q(!1,"Unhandled fetcher deferred data");else{let k=qn(j.data);e.fetchers.set(p,k)}}return{loaderData:l,errors:u}}function ld(e,n,t,o){let r=se({},n);for(let a of t){let i=a.route.id;if(n.hasOwnProperty(i)?n[i]!==void 0&&(r[i]=n[i]):e[i]!==void 0&&a.route.loader&&(r[i]=e[i]),o&&o.hasOwnProperty(i))break}return r}function ud(e){return e?sn(e[1])?{actionData:{}}:{actionData:{[e[0]]:e[1].data}}:{}}function mr(e,n){return(n?e.slice(0,e.findIndex(o=>o.route.id===n)+1):[...e]).reverse().find(o=>o.route.hasErrorBoundary===!0)||e[0]}function cd(e){let n=e.length===1?e[0]:e.find(t=>t.index||!t.path||t.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:n}],route:n}}function on(e,n){let{pathname:t,routeId:o,method:r,type:a}=n===void 0?{}:n,i="Unknown Server Error",s="Unknown @remix-run/router error";return e===400?(i="Bad Request",r&&t&&o?s="You made a "+r+' request to "'+t+'" but '+('did not provide a `loader` for route "'+o+'", ')+"so there is no way to handle the request.":a==="defer-action"?s="defer() is not supported in actions":a==="invalid-body"&&(s="Unable to encode submission body")):e===403?(i="Forbidden",s='Route "'+o+'" does not match URL "'+t+'"'):e===404?(i="Not Found",s='No route matches URL "'+t+'"'):e===405&&(i="Method Not Allowed",r&&t&&o?s="You made a "+r.toUpperCase()+' request to "'+t+'" but '+('did not provide an `action` for route "'+o+'", ')+"so there is no way to handle the request.":r&&(s='Invalid request method "'+r.toUpperCase()+'"')),new hu(e||500,i,new Error(s),!0)}function dd(e){for(let n=e.length-1;n>=0;n--){let t=e[n];if(Ct(t))return{result:t,idx:n}}}function hm(e){let n=typeof e=="string"?Kn(e):e;return It(se({},n,{hash:""}))}function Zz(e,n){return e.pathname!==n.pathname||e.search!==n.search?!1:e.hash===""?n.hash!=="":e.hash===n.hash?!0:n.hash!==""}function Jz(e){return ym(e.result)&&Mz.has(e.result.status)}function Pt(e){return e.type===le.deferred}function sn(e){return e.type===le.error}function Ct(e){return(e&&e.type)===le.redirect}function Qz(e){let n=e;return n&&typeof n=="object"&&typeof n.data=="object"&&typeof n.subscribe=="function"&&typeof n.cancel=="function"&&typeof n.resolveData=="function"}function ym(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.headers=="object"&&typeof e.body<"u"}function Gz(e){return _z.has(e.toLowerCase())}function hn(e){return Nz.has(e.toLowerCase())}async function pd(e,n,t,o,r,a){for(let i=0;i<t.length;i++){let s=t[i],l=n[i];if(!l)continue;let u=e.find(p=>p.route.id===l.route.id),d=u!=null&&!km(u,l)&&(a&&a[l.route.id])!==void 0;if(Pt(s)&&(r||d)){let p=o[i];Q(p,"Expected an AbortSignal for revalidating fetcher deferred result"),await zm(s,p,r).then(v=>{v&&(t[i]=v||t[i])})}}}async function zm(e,n,t){if(t===void 0&&(t=!1),!await e.deferredData.resolveData(n)){if(t)try{return{type:le.data,data:e.deferredData.unwrappedData}}catch(r){return{type:le.error,error:r}}return{type:le.data,data:e.deferredData.data}}}function ju(e){return new URLSearchParams(e).getAll("index").some(n=>n==="")}function vl(e,n){let t=typeof n=="string"?Kn(n).search:n.search;if(e[e.length-1].route.index&&ju(t||""))return e[e.length-1];let o=vm(e);return o[o.length-1]}function vd(e){let{formMethod:n,formAction:t,formEncType:o,text:r,formData:a,json:i}=e;if(!(!n||!t||!o)){if(r!=null)return{formMethod:n,formAction:t,formEncType:o,formData:void 0,json:void 0,text:r};if(a!=null)return{formMethod:n,formAction:t,formEncType:o,formData:a,json:void 0,text:void 0};if(i!==void 0)return{formMethod:n,formAction:t,formEncType:o,formData:void 0,json:i,text:void 0}}}function as(e,n){return n?{state:"loading",location:e,formMethod:n.formMethod,formAction:n.formAction,formEncType:n.formEncType,formData:n.formData,json:n.json,text:n.text}:{state:"loading",location:e,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function Xz(e,n){return{state:"submitting",location:e,formMethod:n.formMethod,formAction:n.formAction,formEncType:n.formEncType,formData:n.formData,json:n.json,text:n.text}}function qo(e,n){return e?{state:"loading",formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text,data:n}:{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:n}}function Yz(e,n){return{state:"submitting",formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text,data:n?n.data:void 0}}function qn(e){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:e}}function qz(e,n){try{let t=e.sessionStorage.getItem(fm);if(t){let o=JSON.parse(t);for(let[r,a]of Object.entries(o||{}))a&&Array.isArray(a)&&n.set(r,new Set(a||[]))}}catch{}}function ej(e,n){if(n.size>0){let t={};for(let[o,r]of n)t[o]=[...r];try{e.sessionStorage.setItem(fm,JSON.stringify(t))}catch(o){At(!1,"Failed to save applied view transitions in sessionStorage ("+o+").")}}}/**
 * React Router v6.23.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ni(){return ni=Object.assign?Object.assign.bind():function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])}return e},ni.apply(this,arguments)}const bi=c.createContext(null),jm=c.createContext(null),Bt=c.createContext(null),bu=c.createContext(null),Hn=c.createContext({outlet:null,matches:[],isDataRoute:!1}),bm=c.createContext(null);function nj(e,n){let{relative:t}=n===void 0?{}:n;Ur()||Q(!1);let{basename:o,navigator:r}=c.useContext(Bt),{hash:a,pathname:i,search:s}=xm(e,{relative:t}),l=i;return o!=="/"&&(l=i==="/"?o:In([o,i])),r.createHref({pathname:l,search:s,hash:a})}function Ur(){return c.useContext(bu)!=null}function gi(){return Ur()||Q(!1),c.useContext(bu).location}function gm(e){c.useContext(Bt).static||c.useLayoutEffect(e)}function tj(){let{isDataRoute:e}=c.useContext(Hn);return e?kj():oj()}function oj(){Ur()||Q(!1);let e=c.useContext(bi),{basename:n,future:t,navigator:o}=c.useContext(Bt),{matches:r}=c.useContext(Hn),{pathname:a}=gi(),i=JSON.stringify(fu(r,t.v7_relativeSplatPath)),s=c.useRef(!1);return gm(()=>{s.current=!0}),c.useCallback(function(u,d){if(d===void 0&&(d={}),!s.current)return;if(typeof u=="number"){o.go(u);return}let p=ku(u,JSON.parse(i),a,d.relative==="path");e==null&&n!=="/"&&(p.pathname=p.pathname==="/"?n:In([n,p.pathname])),(d.replace?o.replace:o.push)(p,d.state,d)},[n,o,i,a,e])}const rj=c.createContext(null);function aj(e){let n=c.useContext(Hn).outlet;return n&&c.createElement(rj.Provider,{value:e},n)}function wm(){let{matches:e}=c.useContext(Hn),n=e[e.length-1];return n?n.params:{}}function xm(e,n){let{relative:t}=n===void 0?{}:n,{future:o}=c.useContext(Bt),{matches:r}=c.useContext(Hn),{pathname:a}=gi(),i=JSON.stringify(fu(r,o.v7_relativeSplatPath));return c.useMemo(()=>ku(e,JSON.parse(i),a,t==="path"),[e,i,a,t])}function ij(e,n,t,o){Ur()||Q(!1);let{navigator:r}=c.useContext(Bt),{matches:a}=c.useContext(Hn),i=a[a.length-1],s=i?i.params:{};i&&i.pathname;let l=i?i.pathnameBase:"/";i&&i.route;let u=gi(),d;d=u;let p=d.pathname||"/",v=p;if(l!=="/"){let k=l.replace(/^\//,"").split("/");v="/"+p.replace(/^\//,"").split("/").slice(k.length).join("/")}let z=co(e,{pathname:v});return dj(z&&z.map(k=>Object.assign({},k,{params:Object.assign({},s,k.params),pathname:In([l,r.encodeLocation?r.encodeLocation(k.pathname).pathname:k.pathname]),pathnameBase:k.pathnameBase==="/"?l:In([l,r.encodeLocation?r.encodeLocation(k.pathnameBase).pathname:k.pathnameBase])})),a,t,o)}function sj(){let e=fj(),n=yu(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),t=e instanceof Error?e.stack:null,r={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return c.createElement(c.Fragment,null,c.createElement("h2",null,"Unexpected Application Error!"),c.createElement("h3",{style:{fontStyle:"italic"}},n),t?c.createElement("pre",{style:r},t):null,null)}const lj=c.createElement(sj,null);class uj extends c.Component{constructor(n){super(n),this.state={location:n.location,revalidation:n.revalidation,error:n.error}}static getDerivedStateFromError(n){return{error:n}}static getDerivedStateFromProps(n,t){return t.location!==n.location||t.revalidation!=="idle"&&n.revalidation==="idle"?{error:n.error,location:n.location,revalidation:n.revalidation}:{error:n.error!==void 0?n.error:t.error,location:t.location,revalidation:n.revalidation||t.revalidation}}componentDidCatch(n,t){console.error("React Router caught the following error during render",n,t)}render(){return this.state.error!==void 0?c.createElement(Hn.Provider,{value:this.props.routeContext},c.createElement(bm.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function cj(e){let{routeContext:n,match:t,children:o}=e,r=c.useContext(bi);return r&&r.static&&r.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=t.route.id),c.createElement(Hn.Provider,{value:n},o)}function dj(e,n,t,o){var r;if(n===void 0&&(n=[]),t===void 0&&(t=null),o===void 0&&(o=null),e==null){var a;if((a=t)!=null&&a.errors)e=t.matches;else return null}let i=e,s=(r=t)==null?void 0:r.errors;if(s!=null){let d=i.findIndex(p=>p.route.id&&(s==null?void 0:s[p.route.id])!==void 0);d>=0||Q(!1),i=i.slice(0,Math.min(i.length,d+1))}let l=!1,u=-1;if(t&&o&&o.v7_partialHydration)for(let d=0;d<i.length;d++){let p=i[d];if((p.route.HydrateFallback||p.route.hydrateFallbackElement)&&(u=d),p.route.id){let{loaderData:v,errors:z}=t,j=p.route.loader&&v[p.route.id]===void 0&&(!z||z[p.route.id]===void 0);if(p.route.lazy||j){l=!0,u>=0?i=i.slice(0,u+1):i=[i[0]];break}}}return i.reduceRight((d,p,v)=>{let z,j=!1,k=null,w=null;t&&(z=s&&p.route.id?s[p.route.id]:void 0,k=p.route.errorElement||lj,l&&(u<0&&v===0?(hj("route-fallback"),j=!0,w=null):u===v&&(j=!0,w=p.route.hydrateFallbackElement||null)));let f=n.concat(i.slice(0,v+1)),m=()=>{let h;return z?h=k:j?h=w:p.route.Component?h=c.createElement(p.route.Component,null):p.route.element?h=p.route.element:h=d,c.createElement(cj,{match:p,routeContext:{outlet:d,matches:f,isDataRoute:t!=null},children:h})};return t&&(p.route.ErrorBoundary||p.route.errorElement||v===0)?c.createElement(uj,{location:t.location,revalidation:t.revalidation,component:k,error:z,children:m(),routeContext:{outlet:null,matches:f,isDataRoute:!0}}):m()},null)}var Sm=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(Sm||{}),ti=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(ti||{});function pj(e){let n=c.useContext(bi);return n||Q(!1),n}function vj(e){let n=c.useContext(jm);return n||Q(!1),n}function mj(e){let n=c.useContext(Hn);return n||Q(!1),n}function Em(e){let n=mj(),t=n.matches[n.matches.length-1];return t.route.id||Q(!1),t.route.id}function fj(){var e;let n=c.useContext(bm),t=vj(ti.UseRouteError),o=Em(ti.UseRouteError);return n!==void 0?n:(e=t.errors)==null?void 0:e[o]}function kj(){let{router:e}=pj(Sm.UseNavigateStable),n=Em(ti.UseNavigateStable),t=c.useRef(!1);return gm(()=>{t.current=!0}),c.useCallback(function(r,a){a===void 0&&(a={}),t.current&&(typeof r=="number"?e.navigate(r):e.navigate(r,ni({fromRouteId:n},a)))},[e,n])}const md={};function hj(e,n,t){md[e]||(md[e]=!0)}function yj(e){return aj(e.context)}function zj(e){let{basename:n="/",children:t=null,location:o,navigationType:r=ke.Pop,navigator:a,static:i=!1,future:s}=e;Ur()&&Q(!1);let l=n.replace(/^\/*/,"/"),u=c.useMemo(()=>({basename:l,navigator:a,static:i,future:ni({v7_relativeSplatPath:!1},s)}),[l,s,a,i]);typeof o=="string"&&(o=Kn(o));let{pathname:d="/",search:p="",hash:v="",state:z=null,key:j="default"}=o,k=c.useMemo(()=>{let w=Mo(d,l);return w==null?null:{location:{pathname:w,search:p,hash:v,state:z,key:j},navigationType:r}},[l,d,p,v,z,j,r]);return k==null?null:c.createElement(Bt.Provider,{value:u},c.createElement(bu.Provider,{children:t,value:k}))}new Promise(()=>{});function jj(e){let n={hasErrorBoundary:e.ErrorBoundary!=null||e.errorElement!=null};return e.Component&&Object.assign(n,{element:c.createElement(e.Component),Component:void 0}),e.HydrateFallback&&Object.assign(n,{hydrateFallbackElement:c.createElement(e.HydrateFallback),HydrateFallback:void 0}),e.ErrorBoundary&&Object.assign(n,{errorElement:c.createElement(e.ErrorBoundary),ErrorBoundary:void 0}),n}/**
 * React Router DOM v6.23.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Or(){return Or=Object.assign?Object.assign.bind():function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])}return e},Or.apply(this,arguments)}function bj(e,n){if(e==null)return{};var t={},o=Object.keys(e),r,a;for(a=0;a<o.length;a++)r=o[a],!(n.indexOf(r)>=0)&&(t[r]=e[r]);return t}function gj(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function wj(e,n){return e.button===0&&(!n||n==="_self")&&!gj(e)}const xj=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","unstable_viewTransition"],Sj="6";try{window.__reactRouterVersion=Sj}catch{}function Ej(e,n){return Az({basename:n==null?void 0:n.basename,future:Or({},n==null?void 0:n.future,{v7_prependBasename:!0}),history:iz({window:n==null?void 0:n.window}),hydrationData:(n==null?void 0:n.hydrationData)||Pj(),routes:e,mapRouteProperties:jj,unstable_dataStrategy:n==null?void 0:n.unstable_dataStrategy,window:n==null?void 0:n.window}).initialize()}function Pj(){var e;let n=(e=window)==null?void 0:e.__staticRouterHydrationData;return n&&n.errors&&(n=Or({},n,{errors:Cj(n.errors)})),n}function Cj(e){if(!e)return null;let n=Object.entries(e),t={};for(let[o,r]of n)if(r&&r.__type==="RouteErrorResponse")t[o]=new hu(r.status,r.statusText,r.data,r.internal===!0);else if(r&&r.__type==="Error"){if(r.__subType){let a=window[r.__subType];if(typeof a=="function")try{let i=new a(r.message);i.stack="",t[o]=i}catch{}}if(t[o]==null){let a=new Error(r.message);a.stack="",t[o]=a}}else t[o]=r;return t}const Rj=c.createContext({isTransitioning:!1}),Nj=c.createContext(new Map),Tj="startTransition",fd=Gd[Tj],_j="flushSync",kd=my[_j];function Mj(e){fd?fd(e):e()}function er(e){kd?kd(e):e()}class Oj{constructor(){this.status="pending",this.promise=new Promise((n,t)=>{this.resolve=o=>{this.status==="pending"&&(this.status="resolved",n(o))},this.reject=o=>{this.status==="pending"&&(this.status="rejected",t(o))}})}}function Dj(e){let{fallbackElement:n,router:t,future:o}=e,[r,a]=c.useState(t.state),[i,s]=c.useState(),[l,u]=c.useState({isTransitioning:!1}),[d,p]=c.useState(),[v,z]=c.useState(),[j,k]=c.useState(),w=c.useRef(new Map),{v7_startTransition:f}=o||{},m=c.useCallback(y=>{f?Mj(y):y()},[f]),h=c.useCallback((y,R)=>{let{deletedFetchers:L,unstable_flushSync:M,unstable_viewTransitionOpts:Z}=R;L.forEach(ne=>w.current.delete(ne)),y.fetchers.forEach((ne,ve)=>{ne.data!==void 0&&w.current.set(ve,ne.data)});let U=t.window==null||t.window.document==null||typeof t.window.document.startViewTransition!="function";if(!Z||U){M?er(()=>a(y)):m(()=>a(y));return}if(M){er(()=>{v&&(d&&d.resolve(),v.skipTransition()),u({isTransitioning:!0,flushSync:!0,currentLocation:Z.currentLocation,nextLocation:Z.nextLocation})});let ne=t.window.document.startViewTransition(()=>{er(()=>a(y))});ne.finished.finally(()=>{er(()=>{p(void 0),z(void 0),s(void 0),u({isTransitioning:!1})})}),er(()=>z(ne));return}v?(d&&d.resolve(),v.skipTransition(),k({state:y,currentLocation:Z.currentLocation,nextLocation:Z.nextLocation})):(s(y),u({isTransitioning:!0,flushSync:!1,currentLocation:Z.currentLocation,nextLocation:Z.nextLocation}))},[t.window,v,d,w,m]);c.useLayoutEffect(()=>t.subscribe(h),[t,h]),c.useEffect(()=>{l.isTransitioning&&!l.flushSync&&p(new Oj)},[l]),c.useEffect(()=>{if(d&&i&&t.window){let y=i,R=d.promise,L=t.window.document.startViewTransition(async()=>{m(()=>a(y)),await R});L.finished.finally(()=>{p(void 0),z(void 0),s(void 0),u({isTransitioning:!1})}),z(L)}},[m,i,d,t.window]),c.useEffect(()=>{d&&i&&r.location.key===i.location.key&&d.resolve()},[d,v,r.location,i]),c.useEffect(()=>{!l.isTransitioning&&j&&(s(j.state),u({isTransitioning:!0,flushSync:!1,currentLocation:j.currentLocation,nextLocation:j.nextLocation}),k(void 0))},[l.isTransitioning,j]),c.useEffect(()=>{},[]);let x=c.useMemo(()=>({createHref:t.createHref,encodeLocation:t.encodeLocation,go:y=>t.navigate(y),push:(y,R,L)=>t.navigate(y,{state:R,preventScrollReset:L==null?void 0:L.preventScrollReset}),replace:(y,R,L)=>t.navigate(y,{replace:!0,state:R,preventScrollReset:L==null?void 0:L.preventScrollReset})}),[t]),P=t.basename||"/",_=c.useMemo(()=>({router:t,navigator:x,static:!1,basename:P}),[t,x,P]);return c.createElement(c.Fragment,null,c.createElement(bi.Provider,{value:_},c.createElement(jm.Provider,{value:r},c.createElement(Nj.Provider,{value:w.current},c.createElement(Rj.Provider,{value:l},c.createElement(zj,{basename:P,location:r.location,navigationType:r.historyAction,navigator:x,future:{v7_relativeSplatPath:t.future.v7_relativeSplatPath}},r.initialized||t.future.v7_partialHydration?c.createElement(Lj,{routes:t.routes,future:t.future,state:r}):n))))),null)}function Lj(e){let{routes:n,future:t,state:o}=e;return ij(n,void 0,o,t)}const Aj=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Ij=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,po=c.forwardRef(function(n,t){let{onClick:o,relative:r,reloadDocument:a,replace:i,state:s,target:l,to:u,preventScrollReset:d,unstable_viewTransition:p}=n,v=bj(n,xj),{basename:z}=c.useContext(Bt),j,k=!1;if(typeof u=="string"&&Ij.test(u)&&(j=u,Aj))try{let h=new URL(window.location.href),x=u.startsWith("//")?new URL(h.protocol+u):new URL(u),P=Mo(x.pathname,z);x.origin===h.origin&&P!=null?u=P+x.search+x.hash:k=!0}catch{}let w=nj(u,{relative:r}),f=Fj(u,{replace:i,state:s,target:l,preventScrollReset:d,relative:r,unstable_viewTransition:p});function m(h){o&&o(h),h.defaultPrevented||f(h)}return c.createElement("a",Or({},v,{href:j||w,onClick:k||a?o:m,ref:t,target:l}))});var hd;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(hd||(hd={}));var yd;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(yd||(yd={}));function Fj(e,n){let{target:t,replace:o,state:r,preventScrollReset:a,relative:i,unstable_viewTransition:s}=n===void 0?{}:n,l=tj(),u=gi(),d=xm(e,{relative:i});return c.useCallback(p=>{if(wj(p,t)){p.preventDefault();let v=o!==void 0?o:It(u)===It(d);l(e,{replace:v,state:r,preventScrollReset:a,relative:i,unstable_viewTransition:s})}},[u,l,d,o,r,t,e,a,i,s])}function $j(){return g.jsxs(g.Fragment,{children:[g.jsxs("header",{className:"px-4 py-1 flex justify-between items-center",children:[g.jsx(po,{to:"/",children:g.jsxs("h1",{className:"text-3xl font-bold",children:["PB152",g.jsx("span",{className:"text-xl font-light",children:"drill"})]})}),g.jsxs("div",{className:"flex gap-1 items-center",children:[g.jsx(po,{to:"/about",children:g.jsx(Ln,{variant:"ghost",children:"O nás"})}),g.jsx("div",{className:"h-6 w-[0.1rem] bg-border rounded-full"}),g.jsx("a",{href:"https://github.com/tomz197/os-drill",target:"_blank",children:g.jsx(Ln,{variant:"ghost",size:"icon",children:g.jsx(Xc,{})})})]})]}),g.jsx("div",{className:"h-[0.1rem] w-full bg-border rounded-full"}),g.jsx("main",{className:"p-4 f slex flex-1 flex-col gap-2",children:g.jsx(yj,{})}),g.jsx("div",{className:"h-[0.1rem] w-full bg-border rounded-full"}),g.jsxs("footer",{className:"p-4 flex justify-center gap-2",children:[g.jsxs("a",{href:"https://github.com/tomz197/os-drill",target:"_blank",className:"text-grey-400 hover:text-blue-500 flex items-center gap-1",children:["Github",g.jsx(Xc,{className:"w-5 h-5 inline"})]}),g.jsx("div",{className:"h-6 w-[0.1rem] bg-border rounded-full"}),g.jsxs("a",{href:"https://discord.gg/ztabDQ4jNv",className:"text-grey-400 hover:text-blue-500 flex items-center gap-1",target:"_blank",children:["Discord",g.jsx(cm,{className:"w-6 h-6 stroke-[1.5] inline"})]})]})]})}const Oo=[{uuid:"e42328b0-abcd-4859-b969-112b81be8d32",title:"Část 1: Virtualizace paměti",statements:[{correct:"Virtuální adresní prostor umožňuje izolaci procesů a ochranu paměti.",incorrect:"Virtuální adresní prostor vždy odpovídá fyzickému adresnímu prostoru.",uuid:"e42328b0-abcd-4859-b969-112b81be8d31"},{correct:"Překlad adres mezi virtuálním a fyzickým prostorem je řízen jednotkou správy paměti (MMU).",incorrect:"Překlad adres mezi virtuálním a fyzickým prostorem je realizován operačním systémem pomocí softwarových tabulek.",uuid:"9d678bdb-54a0-4e02-bc05-5806c2864e67"},{correct:"Stránkování umožňuje přidělit více paměti, než kolik je fyzicky dostupné.",incorrect:"Stránkování zajišťuje, že proces nikdy nepřekročí svou přidělenou fyzickou paměť.",uuid:"c3328f73-5eaf-4d64-a641-bc7374c5e9c3"},{correct:"Při překladu virtuální adresy se využívají stránkové tabulky uložené v operační paměti.",incorrect:"Virtuální adresy jsou přímo interpretovány jako fyzické adresy, takže stránkové tabulky nejsou nutné.",uuid:"cfae8517-f6c6-4017-9866-436fb313b857"},{correct:"Každý proces má obvykle svůj vlastní virtuální adresní prostor.",incorrect:"Všechny procesy v operačním systému sdílejí stejný virtuální adresní prostor.",uuid:"2643f5be-3231-4572-ac40-75bdd96cd38b"},{correct:"Výpadek stránky nastane, pokud proces přistupuje k neplatné nebo odložené stránce.",incorrect:"Výpadek stránky nastane pouze při pokusu o přístup k chráněné oblasti operačního systému.",uuid:"6e1a2e33-d950-4679-aa84-51ccd692eb1a"},{correct:"Při přepnutí procesu se změní aktivní stránková tabulka uložená v procesoru.",incorrect:"Při přepnutí procesu zůstává stránková tabulka stejná a sdílená mezi procesy.",uuid:"e1561d3b-90cb-474a-bad4-74d945cd615e"},{correct:"Externí stránkování umožňuje odkládání neaktivních stránek na disk.",incorrect:"Externí stránkování omezuje procesy na používání pouze fyzické paměti RAM.",uuid:"ec0dd4c9-4765-4eff-8665-e4fc6f78eded"},{correct:"Copy-on-write umožňuje sdílení stránek mezi procesy, dokud nedojde k zápisu.",incorrect:"Copy-on-write znamená, že každý proces vždy obdrží svou unikátní kopii paměti.",uuid:"4fe52475-7933-4e82-831b-879234ccf059"},{correct:"Virtuální adresní prostor může obsahovat stránky, které nejsou namapovány na fyzickou paměť.",incorrect:"Každá virtuální adresa musí mít odpovídající fyzickou paměťovou buňku.",uuid:"a0d3074e-7bb1-4ffa-afe6-dcda74ea49db"},{correct:"Stránkové tabulky mohou být vícestupňové pro efektivní správu velkých adresních prostorů.",incorrect:"Stránkové tabulky jsou vždy jednorozměrné a obsahují záznamy pro každou virtuální adresu.",uuid:"aae03174-bb16-4e1f-8dc1-19bb280b7f52"},{correct:"Virtuální paměť umožňuje bezpečné sdílení kódu mezi procesy.",incorrect:"Virtuální paměť vždy izoluje kód mezi procesy, takže sdílení není možné.",uuid:"dc45aa1f-ee46-4a59-8159-18bd525e2855"},{correct:"Procesor používá TLB (Translation Lookaside Buffer) k urychlení překladu adres.",incorrect:"Procesor vždy provádí úplný překlad adres pomocí stránkových tabulek v paměti.",uuid:"66bb670c-cfe0-4bcc-9d85-70bc313d2dd9"},{correct:"Při mapování souborů do paměti se jejich obsah zpřístupní jako běžná paměť.",incorrect:"Mapování souborů do paměti znamená jejich kopírování do vyhrazené paměti RAM.",uuid:"d2c70d50-8282-4340-8e6c-13b617076ba0"},{correct:"Líné načítání umožňuje načítat části programu až v okamžiku potřeby.",incorrect:"Líné načítání znamená, že celý program je okamžitě nahrán do paměti RAM.",uuid:"bd28cfda-f2b6-4e23-a435-dfdc0b9f755d"},{correct:"Každý proces má omezený přístup k fyzické paměti, definovaný stránkovými tabulkami.",incorrect:"Každý proces může přistupovat k libovolné části fyzické paměti bez omezení.",uuid:"8106c5a9-e088-4a80-81a4-340e3d8e0233"},{correct:"Výpadek stránky může být vyřešen buď načtením stránky z disku, nebo ukončením procesu.",incorrect:"Výpadek stránky vždy způsobí okamžité ukončení procesu.",uuid:"3b13884f-51da-4bc5-81fb-df5b234eae19"},{correct:"Moderní operační systémy umožňují sdílení paměti mezi procesy pomocí mapovaných souborů.",incorrect:"Moderní operační systémy nepodporují sdílení paměti mezi procesy kvůli bezpečnostním rizikům.",uuid:"e1136c05-a361-4a25-8d43-4e29f707bfa6"},{correct:"Stránka může být namapována na více virtuálních adres v různých procesech.",incorrect:"Každá stránka paměti může být přiřazena pouze jedné virtuální adrese.",uuid:"e90f22d4-0b4c-4ad8-827b-8e93097cc61a"},{correct:"Změna stránkové tabulky může způsobit zneplatnění TLB, což zpomaluje výkon.",incorrect:"Změna stránkové tabulky nemá žádný vliv na výkon systému.",uuid:"de41fb95-921b-4371-8ad9-c79a5733e6e5"},{correct:"Virtuální adresa musí být vždy přeložena hardwarovou jednotkou správy paměti na fyzickou adresu.",incorrect:"Virtuální adresa může být přímo využita jako platná fyzická adresa bez jakéhokoli překladu.",uuid:"5fa3e78c-6aaf-444c-b949-d3e06ab3c9e0"},{correct:"Proces s více vlákny sdílí stejný virtuální adresní prostor pro všechna svá vlákna.",incorrect:"Proces s více vlákny má pro každé vlákno zcela oddělený virtuální adresní prostor.",uuid:"abe699fb-248d-4941-95f8-b51dac2e98d1"},{correct:"Stránka velikosti 4 KiB vyžaduje při dvouúrovňovém překladu čtení dvou záznamů stránkových tabulek.",incorrect:"Stránka velikosti 4 KiB potřebuje při dvouúrovňovém překladu pouze jediný záznam stránkové tabulky.",uuid:"cd92eee4-854b-457d-82a5-dd2a984ca589"},{correct:"Jednotka správy paměti využívá TLB k urychlení opakovaných překladů virtuálních adres.",incorrect:"Jednotka správy paměti zpracovává každý překlad adresy vždy bez využití jakékoliv vyrovnávací paměti.",uuid:"e9085dbc-981e-406d-97ff-df59037e27e7"},{correct:"Externí stránkování umožňuje operačnímu systému přesunout nevyužívané stránky paměti do pomalejšího úložiště.",incorrect:"Externí stránkování vyžaduje, aby všechny stránky procesu zůstávaly trvale v rychlé operační paměti.",uuid:"b4d10c16-6b78-4b9f-89eb-d57a6b4113c9"},{correct:"Mechanismus copy on write zabraňuje okamžitému duplikování dat při vzniku nového procesu.",incorrect:"Mechanismus copy on write ihned kopíruje všechny stránky procesu nezávisle na požadavcích zápisu.",uuid:"fc7038a1-3697-48c1-944d-92d6c73a8a6f"},{correct:"Proces může mít více vláken, která společně využívají kód i globální datové struktury.",incorrect:"Proces se skládá z mnoha vláken, ale každé vlákno používá zcela jiný kód a data.",uuid:"740824b2-0d97-4b4a-b9e4-c6fe042a4d02"},{correct:"Fyzické adresy ve starších systémech x86 mohou odkazovat nejen na RAM, ale i na periferní zařízení.",incorrect:"Fyzické adresy v systémech x86 jsou vždy mapovány pouze na operační paměť, nikoli na periferní zařízení.",uuid:"daef6362-f7f6-44d4-9476-083a2991598b"},{correct:"Stránky pro kód běžně sdílejí více procesů, pokud jsou označeny jako pouze pro čtení.",incorrect:"Stránky pro kód jsou vždy privátní a nemohou být nikdy sdíleny mezi odlišnými procesy.",uuid:"2e2b565e-632d-482c-9d99-95f058e7c233"},{correct:"Víceúrovňové stránkové tabulky šetří paměť označením nevyužívaných segmentů jako nepřítomné bez alokace dalšího prostoru.",incorrect:"Víceúrovňové stránkové tabulky pokaždé alokují všechny nižší úrovně tabulek i pro nevyužité virtuální adresy.",uuid:"ca6e8cab-28a3-407b-82ce-2e69b229440b"},{correct:"Změna registru ukazujícího na tabulku první úrovně je klíčová při přepínání mezi procesy.",incorrect:"Při přepínání procesů zůstává vždy stejný registr ukazující na tabulku první úrovně.",uuid:"56da73d3-0ace-40c4-9754-b521ed3b1e5a"},{correct:"Mapování dvou virtuálních adres na stejný rámec umožňuje vzájemnou komunikaci procesů prostřednictvím sdílené paměti.",incorrect:"Mapování dvou virtuálních adres na stejný rámec znemožňuje procesům jakoukoli vzájemnou komunikaci.",uuid:"1df981c2-d9e2-4187-98c9-810d07cd8335"},{correct:"Stránka označená příznakem pouze pro čtení může být následně kopírována při pokusu o zápis.",incorrect:"Stránka označená příznakem pouze pro čtení vždy brání zápisu bez možnosti pozdějšího překopírování dat.",uuid:"3e2eb134-9a06-45bd-9cea-bf486e046d2a"},{correct:"Zneplatnění TLB při přepnutí procesu dočasně zpomaluje překlad adres, dokud se neobnoví potřebné záznamy.",incorrect:"Zneplatnění TLB nikdy neovlivňuje výkon překladů adres, protože se okamžitě obnoví všechny potřebné položky.",uuid:"9162bcbc-dbb5-4194-a3b3-3276bb919fd4"},{correct:"Líné načítání při startu programu načítá stránky z disku až teprve při jejich prvním použití.",incorrect:"Líné načítání vždy předem načte celý spustitelný soubor do operační paměti bez ohledu na potřebu.",uuid:"3bfcfe1d-968d-4379-96bd-da30b5b01157"},{correct:"Přístup k paměti pomocí instrukcí ld a st lze rozložit na sekvenci jednoduchých čtení a zápisů.",incorrect:"Instrukce ld a st nelze nikdy nahradit sekvencí elementárních operací čtení a zápisu registrů.",uuid:"df1628db-d585-471f-8e74-c0f25e5a06cd"},{correct:"Větší datové struktury leží v paměti na sousedních adresách, pokud nezasahují do neplatného prostoru.",incorrect:"Větší datové struktury se běžně ukládají roztříštěně napříč nesouvisejícími oblastmi virtuální paměti.",uuid:"ce998f62-d772-4e77-a915-5eba83468ee9"},{correct:"Některé stránky v paměti procesu mohou reprezentovat paměť periferních zařízení, místo klasické RAM.",incorrect:"Stránky v paměti procesu jsou vždy mapovány výhradně do oblastí klasické RAM a nikde jinde.",uuid:"ee2014ee-c292-4b00-97e6-dd4c0833ea29"},{correct:"Virtualizace paměti dovoluje spustit několik procesů se stejnými virtuálními adresami, ale odlišnými fyzickými umístěními.",incorrect:"Virtualizace paměti předepisuje, že žádné dva procesy nemohou sdílet stejné číselné hodnoty virtuálních adres.",uuid:"47445754-da05-4893-9cf1-0c78bbfcc020"},{correct:"Při mapování datového souboru do paměti se obsah stránek načítá z disku až při jejich použití.",incorrect:"Mapování souboru do paměti vždy vyžaduje jednorázové zkopírování veškerého obsahu do virtuálního adresního prostoru.",uuid:"dccc7063-1ed4-4008-a16e-c2d6715c6d88"}]},{uuid:"e42328b0-abcd-4859-b969-112b81be8d33",title:"Část 2: Virtualizace procesoru",statements:[{correct:"Virtualizace procesoru umožňuje více vláken sdílet jeden fyzický procesor bez ztráty iluze samostatného běhu.",incorrect:"Virtualizace procesoru vylučuje současný běh více vláken a vyžaduje oddělené procesory pro každé vlákno.",uuid:"6ec2a08c-f79f-484f-b477-cea5fa3380b7"},{correct:"Instrukce řízení toku určují, kam se posune programový čítač, což řídí posloupnost vykonávaných příkazů.",incorrect:"Instrukce řízení toku mění velikost paměti programu a nemají vliv na pořadí prováděných příkazů.",uuid:"e44e311a-2c7c-414d-81da-23c0e6abdf6d"},{correct:"Registr programového čítače obsahuje virtuální adresu aktuálně vykonávané instrukce a není přístupný běžnými aritmetickými příkazy.",incorrect:"Registr programového čítače uchovává vždy fyzickou adresu a lze do něj zapisovat běžnými instrukcemi add.",uuid:"c1367c22-2eab-4f6d-bb89-08aa0863b088"},{correct:"Aritmetický registr je pojmenován přímo v instrukci, zatímco paměťovou adresu lze vypočítat dynamicky.",incorrect:"Aritmetický registr se indexuje podobně jako paměťová buňka a není pevně pojmenován v instrukci.",uuid:"92dc90fb-ff7e-4c59-85e5-9af2b78dddbc"},{correct:"Instrukce definujeme jako elementární příkazy, které nelze dělit na menší strojově proveditelné části.",incorrect:"Instrukce lze svévolně rozkládat na menší úseky, které procesor vykonává nezávisle na kódování.",uuid:"cf3b3c41-b96c-42ca-acbb-4d5a81905986"},{correct:"Rodina instrukcí add zahrnuje varianty s různými zdrojovými registry a rozdílnými cíli pro výsledek operace.",incorrect:"Všechny instrukce add používají vždy stejný zdrojový registr a vždy ukládají výsledek jen do rv.",uuid:"0aa1fcd1-b2ca-4fc8-8c22-28f965e4db5e"},{correct:"Efekt instrukce spočívá ve změně stavu procesoru a případně paměti, což posouvá výpočet o krok dál.",incorrect:"Efekt libovolné instrukce nikdy nezasahuje do stavu procesoru ani nemůže ovlivnit obsah paměti.",uuid:"09cc6202-9ec8-4024-b30d-e19b04964f1f"},{correct:"Program se většinou provádí lineárně od nižších k vyšším adresám, pokud jej nepřeruší instrukce skoku.",incorrect:"Program se vždy provádí striktně vzestupně bez jakékoliv možnosti návratu k dřívějším instrukcím.",uuid:"18148afd-1ea4-44a7-8c33-67a3d435afd4"},{correct:"Zásobník slouží k izolaci lokálních dat podprogramu a k uložení stavu pro návrat do volajícího kódu.",incorrect:"Zásobník obsahuje globální proměnné a nesouvisí s uchováváním návratové adresy podprogramu.",uuid:"68730ce7-76d9-45e6-b6ca-c4bb116a8270"},{correct:"Aktivace podprogramu obvykle posune ukazatel zásobníku a uloží registr pro návrat do vyššího rámce.",incorrect:"Aktivace podprogramu nezmění ukazatel zásobníku a nikdy neukládá návratovou adresu ani žádné registry.",uuid:"5e4acccc-6f08-4f4c-b26e-5a6e801b6ac8"},{correct:"Každý aktivační záznam na zásobníku odpovídá právě jedné běžící instanci podprogramu včetně jeho lokálních proměnných.",incorrect:"Aktivační záznamy na zásobníku nejsou spojeny s podprogramy, takže jeden záznam může pokrývat víc funkcí zároveň.",uuid:"3fada798-bbcb-4571-b08b-a83b474cc9bf"},{correct:"Stav procesoru tvoří aritmetické registry, programový čítač a ukazatel zásobníku, které se mění vykonáváním instrukcí.",incorrect:"Stav procesoru zahrnuje pouze obsah operační paměti a nezávisí na hodnotách registrů nebo čítače instrukcí.",uuid:"2b22d36f-36eb-4239-acbb-a58c6a66d6d9"},{correct:"Pokud do adresního prostoru zasahují externí aktéři, výpočet už není deterministicky řízen jen počátečním stavem a kódem.",incorrect:"Adresní prostor programu nemůže nikdy měnit nic zvenčí, proto je průběh vlákna vždy plně předvídatelný.",uuid:"135db0b0-d689-4417-bb3b-92f47efc1c36"},{correct:"Externí událost, jako zápis do sdílené paměti, může změnit průběh vlákna čekajícího v synchronizační smyčce.",incorrect:"Vlákno nikdy neovlivní událost zapsaná jiným procesem do sdílené paměti, takže synchronizace není nutná.",uuid:"4ff186bc-36b2-4fe4-9dbd-8d459c9d4d4a"},{correct:"Vlákno je posloupnost stavů, kterou vyvolá činnost jediného procesoru řízeného jedním programem v rámci adresního prostoru.",incorrect:"Vlákno může být řízeno libovolným počtem programů současně a sdílí vždy víc fyzických procesorů najednou.",uuid:"4ae0aa65-9365-4da4-ad65-7ea7dd037272"},{correct:"Logický procesor má stav definovaný hodnotami registrů a vykonává instrukce, které tento stav mění.",incorrect:"Logický procesor neobsahuje žádné registry a nemůže samostatně provádět instrukce bez součinnosti jiného vlákna.",uuid:"c4837bfa-21cf-4fc3-8074-72b148ab6935"},{correct:"K přepnutí vlákna je nutné uložit aktuální hodnoty registrů a později je obnovit v novém vlákně.",incorrect:"Přepnutí vlákna nevyžaduje zachování registrů, protože nový stav vzniká vždy z náhodných hodnot paměti.",uuid:"7adad147-a1d8-431c-ba40-bdbe6f3371b8"},{correct:"Obnovení programového čítače při přepnutí vláken je nejproblematičtější, protože vede k okamžité ztrátě kontroly operačního systému.",incorrect:"Obnovení programového čítače při přepnutí vláken je nejjednodušší krok, protože jej lze měnit běžným příkazem add.",uuid:"81a163d3-2eaa-45d7-b9fc-66a036b7a867"},{correct:"Plánovač rozhoduje, které vlákno dostane procesor, a může aktivní vlákno kdykoliv preemptivně přerušit.",incorrect:"Plánovač nemá pravomoc přerušit běžící vlákno, protože veškeré přepnutí se děje vždy s jeho souhlasem.",uuid:"fd85a5f6-0b7c-4411-b640-9485944afc49"},{correct:"Preemptivní plánovač využívá hardwarový časovač, jenž pravidelným přerušením umožňuje systému odebírat procesor aktivnímu vláknu.",incorrect:"Preemptivní plánovač nepoužívá časovač a spolehne se výhradně na dobrovolné uvolnění procesoru běžícím vláknem.",uuid:"469d27d6-2d3f-4eef-83f1-39710d2bca86"},{correct:"Plánovač se snaží vybalancovat propustnost a latenci, aby se vlákna rychle střídala a zároveň nezdržovala přepínáním.",incorrect:"Maximalizace propustnosti vyžaduje extrémně časté střídání vláken, které zcela eliminuje odezvu interaktivních úloh.",uuid:"1024fb93-94f3-4b47-8eae-6d1e275bb98f"},{correct:"Vlákno v stavu čekání na událost se probudí, jakmile nastane externí podmínka, o kterou žádalo.",incorrect:"Vlákno označené jako čekající na událost lze vzbudit libovolnou instrukcí add prováděnou v jiném vlákně.",uuid:"7a934e58-5339-4b83-bacd-1b1bc5661c13"},{correct:"Vlákno čekající na procesor je připraveno k běhu, ale dosud mu nebyl znovu přidělen žádný fyzický procesor.",incorrect:"Vlákno čekající na procesor je vždy nutně zablokováno kvůli nedostupným datům a nemůže pokračovat ve výpočtu.",uuid:"54c18aeb-dd23-45a5-b7db-e778acd95303"},{correct:"Fronty úloh slouží k řazení vláken čekajících na přidělení procesoru podle priority nebo zásady FIFO.",incorrect:"Fronty úloh nelze využít k plánování vláken, protože všechny procesory vždy přijímají libovolné vlákno přímo.",uuid:"24e9dd50-0a1b-427d-b2a9-217ac5a541f3"},{correct:"Lokální fronty ke konkrétním procesorům mohou snižovat migrace vláken, ale znesnadňují rovnoměrné vytížení všech CPU.",incorrect:"Použití jediného globálního frontu zcela eliminuje migraci vláken a zaručuje každému procesoru stejnou zátěž.",uuid:"fa00031d-df4c-4597-a070-fb05348b8814"},{correct:"Afinita vláken k určitému procesoru zlepšuje výkon díky menšímu přesunu cache, ale může snížit využití zdrojů.",incorrect:"Afinita vláken k jednomu procesoru neovlivňuje práci cache a nezakazuje jejich přesun mezi různými CPU.",uuid:"9939a47e-9e2a-4d27-b45b-928d5d49c0c4"},{correct:"Kompromis mezi afinitou a rozložením zátěže řeší plánovače, které kradou práci z cizích front při nevyužitém procesoru.",incorrect:"Plánovače obvykle ignorují afinitu vláken a nedokáží přesunout úlohy z přeplněného frontu na procesor bez zátěže.",uuid:"32244408-37c0-4770-a8af-c9fc1e5a077b"},{correct:"Prioritní plánování umožňuje interaktivním vláknům předbíhat ostatní, aby získala nižší latenci při reakcích na uživatele.",incorrect:"Prioritní plánování nutně zvyšuje latenci interaktivních vláken a upřednostňuje vždy výpočetně nejnáročnější úlohy.",uuid:"465a8494-b167-4378-8b5c-00a387b3fbf0"},{correct:"Dynamická úprava priority zabraňuje hladovění vláken s nízkou prioritou, protože časem získají vyšší preferenci.",incorrect:"Dynamická úprava priority je zbytečná, protože vlákna s nízkou prioritou mohou být trvale odsunuta bez důsledků.",uuid:"a89fda37-e810-4786-b1a1-2b23d705dde9"},{correct:"Férové plánování se snaží každému vláknu přidělit stejnou výpočetní dobu, což vede k vyváženému sdílení procesoru.",incorrect:"Férové plánování vždy upřednostňuje vlákna s nejdelší historií běhu a snižuje prioritu nově spuštěným úlohám.",uuid:"b2be1f12-2bb9-4d79-930c-0b1147523108"},{correct:"Inverzní hodnota dosud spotřebovaného času může určovat prioritu vlákna v systému férového plánování.",incorrect:"Férové plánování ignoruje dosud spotřebovaný čas, takže vlákna s dlouhým během mají vždy nejvyšší prioritu.",uuid:"2883455f-6fae-4234-a000-5cecaf6e6128"},{correct:"Plánovací kvantum omezuje, jak dlouho může vlákno nepřetržitě běžet, čímž zabraňuje blokaci ostatních úloh.",incorrect:"Plánovací kvantum nesouvisí s dobou běhu vlákna a nijak neovlivňuje přepínání mezi různými procesy.",uuid:"12bff9d4-8358-4276-9680-162d9967de67"},{correct:"V moderních preemptivních systémech vlákno nebývá odstavováno dobrovolně, ale je přerušeno časovačem nebo jinou událostí.",incorrect:"V preemptivních systémech se vlákno vždy vypíná samo, protože procesor neumí běžící vlákno přerušit.",uuid:"73d983c7-10f2-4bf5-89ba-a059e31dcf32"},{correct:"Pokud vlákno čeká na vstup z periférie, operační systém jej uspí a probudí, jakmile dorazí požadovaná data.",incorrect:"Vlákno čekající na periférii nesmí být uspáno a musí neustále aktivně zjišťovat dostupnost dat v paměti.",uuid:"a91c4fea-8aa7-4717-94e1-6a9bec59927a"},{correct:"Při soutěži o vzácný zdroj je probuzeno jen první vlákno z čekací fronty, aby nedošlo k opětovnému blokování.",incorrect:"Při uvolnění vzácného zdroje se probouzejí současně všechna čekající vlákna, čímž se rychleji vyřeší konflikt.",uuid:"ecc82b0d-1330-4783-be2f-879c060b64b0"},{correct:"Krátké plánovací kvantum zlepšuje reakční dobu interaktivních aplikací, ale může snižovat celkovou propustnost procesoru.",incorrect:"Krátké plánovací kvantum maximalizuje propustnost výpočetních úloh a neomezuje vůbec odezvu interaktivních programů.",uuid:"d934ad18-16d5-4e76-8d2f-703a81fc0296"},{correct:"Synchronizace umožňuje koordinovat sdílení společných dat mezi více vlákny, čímž zabraňuje konfliktům a nekonzistentním stavům.",incorrect:"Synchronizace slouží výhradně k zvyšování výkonu a nebrání konfliktům při manipulaci se sdílenými proměnnými.",uuid:"403dc206-9d39-49f1-b649-f0c644cca02b"},{correct:"Podmíněné skoky používají stavový příznak nebo registr ke změně adresy v programovém čítači a ovlivňují tok programu.",incorrect:"Podmíněné skoky nelze provádět na základě žádných registrů ani stavových příznaků, takže vždy pokračují sekvenčně.",uuid:"39a29259-1081-471c-9ada-727957ea4399"},{correct:"Podprogram může mít rekurzivní volání, která vyžadují opakované vytváření nových aktivačních záznamů na zásobníku.",incorrect:"Podprogram s rekurzí používá vždy pouze jeden aktivační záznam, protože další volání nepřepisují stav zásobníku.",uuid:"a586beb5-9961-4caa-b5ab-f89a1d189a6d"},{correct:"Více vláken v jednom procesu může sdílet adresní prostor, ale mají oddělené zásobníky a stav procesoru.",incorrect:"Vlákna uvnitř stejného procesu musejí používat jediný společný zásobník i identické registry pro sčítání.",uuid:"86ab3f8b-0211-46b9-b799-3f0f5998cd63"}]}],Do=[{uuid:"4a3f319b-472d-4c93-8652-c96701b39b32",title:"Část 1: Virtualizate paměti",statements:[{uuid:"b3ffb5ea-e305-40f8-8543-f7af2e230990",correct:`instrukce tvaru ld reg_addr → reg_out načte hodnotu z paměti a uloží ji do registru; reg_addr je
registr, ve kterém je uložena adresa, kterou program požaduje

instrukce tvaru st reg_in → reg_addr naopak hodnotu do paměti uloží, a to opět na adresu zadanou registrem reg_addr.`,incorrect:`instrukce tvaru ld reg_addr → reg_out načte hodnotu z paměti a uloží ji do registru; reg_addr je
registr, ve kterém je uložena nějaká hodnota

instrukce tvaru st reg_in → reg_addr naopak hodnotu do paměti uloží, a to opět na adresu zadanou registrem reg_addr.`},{uuid:"f8ac38e3-28a3-47ab-ae7d-253a5539328b",correct:`Každá adresa je číslo, ale ne každé číslo je platná adresa. Adresním prostorem
tedy budeme nazývat zejména množinu platných adres, ale můžeme v tomto pojmu zahrnout i případnou další
zajímavou strukturu paměti (např. to, že nějaká část adres má jiné vlastnosti než ty ostatní).
Adresní prostor se obvykle skládá ze souvislých bloků, kde jednotlivé bloky obsahují mnoho po sobě
jdoucích adres (řádově miliony).`,incorrect:`Každá adresa je číslo, ale ne každé číslo je platná adresa. Adresním prostorem
tedy budeme nazývat zejména množinu platných adres, ale můžeme v tomto pojmu zahrnout i případnou dalš
 zajímavou strukturu paměti (např. to, že nějaká část adres má jiné vlastnosti než ty ostatní).
Adresní prostor se obvykle skládá bloků, kde jednotlivé bloky obsahují libovolné adresy.`},{uuid:"45bbaf51-d3af-4340-a66d-1f4874d94feb",correct:`Program má při svém běhu k dispozici nějaký adresní prostor, který může používat
k ukládání dat. Krom pracovní paměti (do které si program ukládá libovolná data jak uzná za vhodné) je
součástí adresního prostoru programu také kód – adresy, na kterých jsou uloženy instrukce, ze kterých
program samotný sestává, a obvykle také hardwarový zásobník, který se používá k realizaci podprogramů
(volání funkcí).`,incorrect:`Program má při svém běhu k dispozici nějaký adresní prostor, který může používat
k ukládání dat. Krom pracovní paměti (do které si program ukládá libovolná data jak uzná za vhodné) je
součástí adresního prostoru programu také kód – adresy, na kterých jsou uloženy instrukce, ze kterých
program samotný sestává, ovšem zásobník se zde obvykle nenachází.`},{uuid:"249a0cd3-fdd7-430e-9d0c-ef7d9ed03f08",correct:`Fyzická paměť
Fyzické adresy (tedy adresy, které patří fyzickému adresnímu prostoru) přímo
pojmenovávají fyzické paměťové buňky hardwarových zařízení, zejména paměti RAM. Přestože se jedná
o jeden adresní prostor, podobně jako v případě paměti programu může mít další strukturu.
Největší a nejdůležitější blok (případně několik bloků) fyzických adres zpravidla patří operační paměti
(paměti s přímým přístupem, random access memory, RAM). Toto je paměť v klasickém smyslu tohoto slova,
a slouží především k ukládáni pracovních dat programů`,incorrect:`Fyzická paměť
Fyzické adresy (tedy adresy, které patří fyzickému adresnímu prostoru) přímo
pojmenovávají fyzické paměťové buňky procesoru. Přestože se jedná o jeden adresní prostor
 podobně jako v případě paměti programu může mít další strukturu.
`},{uuid:"ba227eda-b390-4871-967e-054080f7404d",correct:`Virtualizace
V principu nic nebrání tomu, aby program používal k práci s pamětí přímo fyzické adresy.
V takovém případě bychom program přizpůsobili tomu, které fyzické adresy jsou na našem počítači platné
a odpovídají operační paměti.
Jakmile bychom ale chtěli na jednom počítači spustit několik programů najednou, začneme narážet na
problémy. Programy by mezi sebou musely použití adres koordinovat: používá-li program A adresu 0x1005
pro svoji proměnnou, nemůže ji zároveň používat program B.`,incorrect:`Virtualizace
V principu nic nebrání tomu, aby program používal k práci s pamětí přímo fyzické adresy.
V takovém případě bychom program přizpůsobili tomu, které fyzické adresy jsou na našem počítači platné
a odpovídají operační paměti.
Takto nemůžou vzniknout žádné problémy a tedy je virtualizace procesoru zbytečná.
`},{uuid:"4c00da3a-d5da-42d2-9345-de1fa8edc0a2",correct:`Virtuální a fyzické adresy
Bylo by tedy lepší, aby adresní prostor programu byl od toho fyzického
nezávislý. Proto procesory určené pro běžné počítače poskytují oddělený virtuální adresní prostor,
který je viditelný pro programy, a který je od toho fyzického důsledně oddělen. Fyzický adresní prostor
je uživatelským programům zcela nepřístupný.`,incorrect:`Virtuální a fyzické adresy
Bylo by tedy lepší, aby adresní prostor programu na tom fyzickém závislý.
Proto procesory určené pro běžné počítače poskytují spojení virtuálních adresních prostorů s těmi fyzickými. Fyzický adresní prostor
je tedy uživatelským programům libovolně přístupný.`},{uuid:"ab3a3c34-0bd9-4827-a6ae-70aab949fe10",correct:`Překlad adres
Virtuální adresy budeme překládat na adresy fyzické, které již určí, kde budou příslušná data skutečně uložena.
O fyzické buňce pak můžeme říct, že má právě jednu fyzickou adresu (a ta je této buňce přidělena
pevně) a nějaké virtuální adresy (to jsou ty, které se přeloží na její fyzickou adresu). Buňka může mít
virtuálních adres hned několik, ale také třeba žádnou`,incorrect:`Překlad adres
Virtuální adresy budeme překládat na adresy fyzické, které již určí, kde budou příslušná data skutečně uložena.
O fyzické buňce pak můžeme říct, že má právě jednu fyzickou adresu (a ta je této buňce přidělena
pevně) a právě jednu virtuální adresu (a ta není této buňce přidělena pevně).`},{uuid:"7a1fc979-d76f-4c1f-8c38-e2ec3af979f8",correct:`Jednotka správy paměti
Přístup do paměti (čtení, zápis) je časově kritickou operací – procesor
jich provádí miliony za vteřinu. Přitom adresní operand instrukce, která takový přístup realizuje,
představuje vždy virtuální adresu, která musí být ještě před samotným přístupem přeložena na adresu
fyzickou.`,incorrect:`Jednotka správy paměti
Přístup do paměti (čtení, zápis) je časově kritickou operací – procesor
jich provádí miliony za vteřinu. Přitom adresní operand instrukce, která takový přístup realizuje,
představuje vždy fyzickou adresu, která musí být ještě před samotným přístupem přeložena na adresu
virtuální.`},{uuid:"82019a92-bbab-455e-a02d-a23b1b44d1a4",correct:`Jednotka správy paměti
Překlad adres proto musí být velmi rychlý, a není nijak překvapivé, že je realizován specializovaným
hardwarem, který je přímo součástí procesoru. Zároveň ale potřebujeme zabezpečit, aby o konkrétní
podobě překladu mohl rozhodovat operační systém. Proto musí být tato tzv. jednotka správy paměti
programovatelná – pomocí vhodně sestavených tabulek může operační systém (konkrétně jeho jádro)
řídit mapování virtuálních adres na fyzické, a tedy i to, jak budou vypadat jednotlivé virtuální adresní
prostory.`,incorrect:`Jednotka správy paměti
Překlad adres proto musí být velmi rychlý, a není nijak překvapivé, že je realizován specializovaným
hardwarem, který je přímo součástí procesoru. Zároveň ale nesmíme dovolit aby operační systém jakkoli, jinak by došlo k porušení abstrakce.`},{uuid:"55366681-0aa7-4560-8d3b-04d25daaf52b",correct:`Stránky
Stránka je pak základní jednotkou překladu. Tím se jednak zmenší potřebné tabulky, jednak se tím
zjednoduší proces překladu. Budeme-li totiž požadovat, aby:

1. stránka obsahovala 2**n
adres (tj. měla velikost 2**n bajtů),
2. stránka začínala adresou, která je beze zbytku dělitelná 2**n
3. byla mapována na fyzickou adresu, která je také beze zbytku dělitelná 2**n,

můžeme spodních n bitů virtuální adresy přímo použít jako spodních n bitů adresy fyzické. Zbytek fyzické adresy již dopočítáme podle překladové tabulky.
To má mimo jiné za důsledek, že stránky se nemohou překrývat.`,incorrect:`Stránky
Stránka je pak základní jednotkou překladu. Tím se jednak zmenší potřebné tabulky, jednak se tím
zjednoduší proces překladu. Budeme-li totiž požadovat, aby:

1. stránka obsahovala 2**n
adres (tj. měla velikost 2**n bajtů),
2. stránka začínala adresou, která je beze zbytku dělitelná 2
3. byla mapována na fyzickou adresu, která je také beze zbytku dělitelná 2,

můžeme spodních n bitů virtuální adresy přímo použít jako spodních n bitů adresy fyzické. Zbytek fyzické adresy již dopočítáme podle překladové tabulky. 
To má mimo jiné za důsledek, že stránky se nemohou překrývat.`},{uuid:"c9aeb2a5-af9b-4795-8391-7b51e6b9b5b3",correct:`Stránkové tabulky
Stránkové tabulky jsou uloženy v operační paměti, ale jejich přesná struktura
je opět vlastností konkrétního hardwaru. Protože moderní počítače mají velké adresní prostory (2**32 nebo 2**64 virtuálních adres), 
používají obvykle řídké, víceúrovňové překladové tabulky.`,incorrect:`Stránkové tabulky
Stránkové tabulky jsou uloženy v operační paměti, ale jejich přesná struktura
je opět vlastností konkrétního hardwaru. Protože moderní počítače mají velké adresní prostory (2**32 nebo 2**64 virtuálních adres), 
používají obvykle husté, jednoúrovňové překladové tabulky.`},{uuid:"afc19ad0-8b8d-4b57-b248-d580fe1ed117",correct:`Proces
Pojem běžící program je poněkud vágní, proto si pro něj zavedeme formálnější alternativu
– proces. Tímto pojmem budeme označovat entitu, která:
• je spojena s virtuálním adresním prostorem, který
     ∘ obsahuje kód – instrukce – nějakého programu,
     ∘ veškerá data, která tento program potřebuje pro svůj běh,
• operační systém o ni vede záznam,
• může vlastnit krom paměti i další zdroje`,incorrect:`Proces
Pojem běžící program je poněkud vágní, proto si pro něj zavedeme formálnější alternativu
– proces. Tímto pojmem budeme označovat entitu, která:
• je spojena s fyzickým adresním prostorem, který
     ∘ obsahuje kód – instrukce – nějakého programu,
     ∘ veškerá data, která tento program potřebuje pro svůj běh,
• operační systém o ni vede záznam,
• může vlastnit krom paměti i další zdroje`},{uuid:"ae683a29-06e8-4423-bff3-431dcdeffe8c",correct:`Ochrana paměti
• Kód programu (a případná data, která jsou určena výhradně ke čtení) může být ve fyzické paměti uložen
pouze jednou i v případě, kdy tento kód využívá více procesů. Jedná se o užitečnou a zároveň bezpečnou
optimalizaci, protože odpovídající virtuální adresy jsou v obou procesech označeny příznakem pouze
pro čtení, a procesy se tak nemohou skrze tyto adresy vzájemně ovlivňovat.
• Na žádost programu může být dvěma procesům do jejich virtuálních adresních prostorů namapován
stejný blok fyzické paměti i v režimu umožňujícím zápis. Smyslem takto namapované paměti je umožnit
komunikaci mezi dotčenými procesy: mohou si tímto způsobem totiž jednoduše předávat data. Pozor:
virtuální adresy takto namapované paměti nebudou obecně v obou procesech stejné.`,incorrect:`Ochrana paměti
• Kód programu (a případná data, která jsou určena výhradně ke čtení) může být ve fyzické paměti uložen
pouze jednou i v případě, kdy tento kód využívá více procesů. Jedná se o užitečnou a zároveň bezpečnou
optimalizaci, protože odpovídající virtuální adresy jsou v obou procesech označeny příznakem pouze
pro čtení, a procesy se tak nemohou skrze tyto adresy vzájemně ovlivňovat.
• Na žádost programu může být dvěma procesům do jejich virtuálních adresních prostorů namapován
stejný blok fyzické paměti i v režimu umožňujícím zápis. Smyslem takto namapované paměti je umožnit
komunikaci mezi dotčenými procesy: mohou si tímto způsobem totiž jednoduše předávat data. Pozor:
virtuální adresy takto namapované paměti musí být v obou procesech stejné.`},{uuid:"2ef48559-386e-4d54-a758-d11535b9700f",correct:`Přepnutí procesu
Zatím jsme nezmínili, jak procesor (resp. jednotka správy paměti) najde
stránkovou tabulku první úrovně. Odpověď na tuto otázku je klíčem k přepínání procesů:
1. fyzická adresa stránkové tabulky 1. úrovně je uložena ve speciálním registru procesoru,
2. tuto adresu je možné nastavit privilegovanou instrukcí (privilegovanou v tomto případě znamená, že
ji může provést pouze jádro),
3. změnou hodnoty v tomto registru se aktivuje překlad adres podle nově zavedené stránkové tabulky`,incorrect:`Přepnutí procesu
Zatím jsme nezmínili, jak procesor (resp. jednotka správy paměti) najde
stránkovou tabulku první úrovně. Odpověď na tuto otázku je klíčem k přepínání procesů:
1. fyzická adresa stránkové tabulky 1. úrovně je uložena ve speciálním registru procesoru,
2. tuto adresu může nastavit libovolný uživatelský program ve speciálním režimu
3. změnou hodnoty v tomto registru se aktivuje překlad adres podle nově zavedené stránkové tabulky.`},{uuid:"a2d7aad3-93f4-4467-a206-2dc10342c61c",correct:`Vytvoření procesu
Asi nejjednodušší způsob, jak vytvořit nový proces, je duplikace nějakého
existujícího (POSIX této operaci říká fork). V mnoha operačních systémech je to dokonce způsob jediný.19
Mohlo by se zdát, že je to způsob dost neefektivní: procesy mohou mít virtuální adresní prostor
o velikosti mnoha GiB a duplikace takového množství paměti vyžaduje vynaložení značných prostředků.
Operační systémy proto používají trik, který zde vede k výrazné úspoře, a se kterým se setkáme ještě
v několika kontextech.
Tento trik nese název „copy on write“ a jeho myšlenka je poměrně jednoduchá:
1. vytvoříme kopii adresního prostoru (tedy relevantních stránkových tabulek, nikoliv samotných dat),
2. v obou kopiích označíme všechny stránky příznakem jen pro čtení a poznačíme si také, že se jedná o
„copy on write“ stránky.`,incorrect:`Vytvoření procesu
Asi nejjednodušší způsob, jak vytvořit nový proces, je duplikace nějakého
existujícího (POSIX této operaci říká fork). V mnoha operačních systémech je to dokonce způsob jediný.19
Mohlo by se zdát, že je to způsob dost neefektivní: procesy mohou mít virtuální adresní prostor
o velikosti mnoha GiB a duplikace takového množství paměti vyžaduje vynaložení značných prostředků.
Operační systémy proto používají trik, který zde vede k výrazné úspoře, a se kterým se setkáme ještě
v několika kontextech.
Tento trik nese název „copy on write“ a jeho myšlenka je poměrně jednoduchá:
1. vytvoříme kopii fyzických adres (tedy relevantních fyzických buněk, nikoliv samotných dat),
2. v obou kopiích označíme všechny stránky příznakem jen pro čtení a poznačíme si také, že se jedná o
„copy on write“ stránky.`},{uuid:"948a1dd0-0cbb-40e1-a5b7-331b19eccfb2",correct:`Externí stránkování 
Má-li OS nedostatek použitelných fyzických adres (například proto, že běží hodně programů, které využívají hodně
paměti), může některou stránku odstěhovat z operační paměti někam jinam – např. na externí (pevné)
úložiště, které je sice obvykle mnohem pomalejší, ale také má obvykle mnohem větší kapacitu. Nebude-li
se stávat příliš často, že program potřebuje k takto „odklizené“ stránce přistoupit, nemusí se jednat
o zásadní problém.`,incorrect:`Externí stránkování 
Má-li OS nedostatek použitelných fyzických adres (například proto, že běží hodně programů, které využívají hodně
paměti), může některou stránku odstěhovat z operační paměti někam jinam – např. na externí (pevné)
úložiště, které je sice obvykle mnohem pomalejší, ale také má obvykle mnohem větší kapacitu. Nebude-li
se stávat příliš často, že program k dané stránce dlouhodobě nepřistupuje, nemusí se jednat
o zásadní problém.`},{uuid:"11bf9d6c-eae4-42ed-b643-57e6575f149f",correct:`Rámce a stránky
• stránkou budeme i nadále označovat rozsah virtuálních adres,
   ∘ také stále platí, že stránky mají pevnou velikost (počet virtuálních adres, které obsahuje), a že
   ∘ nejnižší adresa stránky musí být beze zbytku dělitelná velikostí stránky,
• rámcem budeme označovat rozsah fyzických adres,
   ∘ které splňují stejné požadavky na velikost a zarovnání jako stránky,
   ∘ a na jeden rámec mapovat právě jednu stránku.
Lze pak mluvit o tom, že daná stránka je uložena v nějakém rámci, případně že daný rámec je volný.`,incorrect:`Rámce a stránky
• stránkou budeme i nadále označovat rozsah fyzických adres,
   ∘ také stále platí, že stránky mají pevnou velikost (počet virtuálních adres, které obsahuje), a že
   ∘ nejnižší adresa stránky musí být beze zbytku dělitelná velikostí stránky,
• rámcem budeme označovat rozsah virtuálních adres,
   ∘ které splňují stejné požadavky na velikost a zarovnání jako stránky,
   ∘ a na jeden rámec mapovat právě jednu stránku.
Lze pak mluvit o tom, že daná stránka je uložena v nějakém rámci, případně že daný rámec je volný.`},{uuid:"0c97920f-f8ce-4e4a-8288-4806281f481c",correct:`Líné načítání
Líné načítání lze také výhodně kombinovat s klasickým externím stránkováním – vybereme-li jako oběť
stránku s kódem (nebo konstantními daty) programu, není potřeba ji nikam ukládat – lze ji přímo odkázat
zpátky na spustitelný soubor.`,incorrect:`Líné načítání
Líné načítání lze také výhodně kombinovat s klasickým externím stránkováním – vybereme-li jako oběť
stránku s kódem (nebo konstantními daty) programu, stačí stránku uložit do operační paměti`},{uuid:"bede55a6-4eb7-495d-a782-db33aa4ddd6d",correct:`Mapování souborů
Posledním, jednoznačně nejdůležitějším, využitím externího stránkování je
mapování datových souborů do paměti (na žádost aplikace). V tomto režimu jsou externí stránky uloženy
v jinak běžném souboru. Místo komplikovaných vstupně-výstupních operací tak může program s obsahem
souboru pracovat stejně, jako by byl uložen v operační paměti. Využijeme-li tohoto mechanismu také
k zápisu změněných stránek zpátky do souboru, může program soubor i zcela transparentně upravovat.`,incorrect:`Mapování souborů
Posledním, jednoznačně nejdůležitějším, využitím externího stránkování je
mapování datových souborů do paměti (na žádost aplikace). V tomto režimu jsou externí stránky uloženy
v jinak běžném souboru. Místo komplikovaných vstupně-výstupních operací tak může program s obsahem
souboru pracovat stejně, jako by byl uložen v operační paměti. Toto ovšem zabraňujeprogramu soubor transparentně upravovat.`}]},{uuid:"b10b91c1-603f-4b7a-b0af-dc38ffdc198d",title:"Část 2: Virtualizate procesoru",statements:[{uuid:"264eddb9-905b-45b7-a88b-053ffde2a858",correct:`Výpočet
Procesor vykonává instrukce, čím realizuje výpočet. Nejjednodušší třídou instrukcí jsou
tzv. aritmetické a logické instrukce (tedy ty, které provádí ALU – aritmeticko-logická jednotka). Tím se
myslí zejména:
• aritmetika: sčítání, odečítání, násobení a dělení,
• bitové operace: and, or, xor po bitech, bitové posuvy,
• srovnání dvou hodnot (rovnost, nerovnost) – výsledek se uloží do běžného registru nebo do stavového
příznaku procesoru.`,incorrect:`Výpočet
Operační paměť vykonává instrukce, čím realizuje výpočet. Nejjednodušší třídou instrukcí jsou
tzv. aritmetické a logické instrukce (tedy ty, které provádí ALU – aritmeticko-logická jednotka). Tím se
myslí zejména:
• aritmetika: sčítání, odečítání, násobení a dělení,
• bitové operace: and, or, xor po bitech, bitové posuvy,
• srovnání dvou hodnot (rovnost, nerovnost) – výsledek se uloží do běžného registru nebo do stavového
příznaku procesoru.`},{uuid:"edb552d0-c513-4db9-bb3d-1e40efe1d267",correct:`Registry
Podobně jako paměť, registry slouží k ukládáni čísel – existují dva klíčové rozdíly mezi
registry a pamětí:
1. pojmenování registru je pevnou součástí instrukce, kdežto paměťovou adresu lze vypočítat (paměť
lze indexovat, registry nikoliv),
2. reprezentace čísla v registru je monolitická – registry nejsou složené z bajtů, daný registr obsahuje
celé slovo (částečně důsledek předchozího bodu: registr lze pojmenovat pouze jako celek).`,incorrect:`Registry
Podobně jako paměť, registry slouží k ukládáni čísel – existují dva klíčové rozdíly mezi
registry a pamětí:
1. pojmenování registru je pevnou součástí instrukce, kdežto paměťovou adresu lze vypočítat (paměť
lze indexovat, registry nikoliv),
2. reprezentace čísla v registru – registry jsou složené z bajtů, daný registr obsahuje
bajty jako každá jíná část paměti`},{uuid:"76747520-5f05-4cb6-8605-7e9de42684cd",correct:`Programový čítač
Vyhrazený registr (programový čítač, angl. program counter, někdy také instruction pointer, budeme
jej označovat pc) pak obsahuje virtuální adresu právě vykonávané instrukce. Tento registr rozhoduje
o tom, která instrukce se má vykonat, není do něj ale obvykle možné zapisovat běžnými (aritmetickými,
atp.) instrukcemi. K tomu jsou určeny instrukce řízení toku, kterých hlavním efektem je právě změna
hodnoty programového čítače.`,incorrect:`Programový čítač
Vyhrazený registr (programový čítač, angl. program counter, někdy také instruction pointer, budeme
jej označovat pc) pak obsahuje fyzickou adresu právě vykonávané instrukce. Tento registr rozhoduje
o tom, která instrukce se má vykonat, není do něj ale obvykle možné zapisovat běžnými (aritmetickými,
atp.) instrukcemi. K tomu jsou určeny instrukce řízení toku, kterých hlavním efektem je právě změna
hodnoty programového čítače.`},{uuid:"573e86fc-9431-48c3-aad6-4972ecb5d0d0",correct:`Instrukce
Instrukce je elementární příkaz strojového kódu; to znamená:
• elementární – je to nejmenší jednotka činnosti, kterou lze procesoru zadat,
• příkaz – instrukce řídí činnost procesoru, „přikazují“ mu provedení nějaké akce.
Instrukcí budeme nazývat pouze celek, který obsahuje veškeré informace potřebné k provedení konkrétních
akcí (zejména udává operaci, která se má provést, a konkrétní registry, se kterými se bude pracovat a
také konkrétní přímé operandy.
Instrukcí je pouze konečně mnoho, je tedy zejména možné je očíslovat (nebo jinak konečně kódovat,
např. do sekvencí bajtů). Každé takové číslo (kódování) popisuje konkrétní akci, kterou může procesor
provést.
`,incorrect:`Instrukce
Instrukce je elementární příkaz strojového kódu; to znamená:
• elementární – je to nejmenší jednotka činnosti, kterou lze procesoru zadat,
• příkaz – instrukce řídí činnost procesoru, „přikazují“ mu provedení nějaké akce.
Instrukcí budeme nazývat pouze celek, který obsahuje veškeré informace potřebné k provedení konkrétních
akcí (zejména udává operaci, která se má provést, a konkrétní registry, se kterými se bude pracovat a
také konkrétní přímé operandy.
Instrukcí je nekonečně mnoho, je tedy nepraktické je číslovat
`},{uuid:"0e3f7594-8a65-4e61-bc4b-82dc78ddcc80",correct:`Efekt instrukce
Každá instrukce má nějaký efekt na stav procesoru, a případně (podle konkrétní instrukce) na další připojená zařízení (zejména paměť). 
Tento efekt je zároveň definující charakteristikou dané instrukce.
Program totiž nedělá nic jiného, než že vhodnou manipulací stavu (procesoru, paměti, periferií) postupuje
od vstupů k požadovaným výstupům. Této posloupnosti změn stavu říkáme výpočet.
`,incorrect:`Efekt instrukce
Každá instrukce má nějaký efekt na stav procesoru, a případně (podle konkrétní instrukce) na další připojená zařízení (zejména paměť). 
Tento efekt není definující charakteristikou dané instrukce.
Program totiž nedělá nic jiného, než že vhodnou manipulací stavu (procesoru, paměti, periferií) postupuje
od vstupů k požadovaným výstupům. Této posloupnosti změn stavu říkáme výpočet.
`},{uuid:"cc602ec9-5701-467c-84e2-e820f207c2e4",correct:`Efekt instrukce
Jak vstupy tak výstupy programu jsou součástí stavu – vstupy na začátku, výstupy na konci výpočtu.
Vstup může být například hodnota zapsaná v nějaké buňce paměti; výstup může být třeba stav obrazovky,
kdy rozsvícené pixely vytváří obrazec, který přečteme jako slova hello world.
Efekt instrukce tedy není nic jiného, než elementární změna stavu, nebo jinak řečeno elementární výpočet.
Instrukci samotnou tak můžeme chápat jako pokyn k provedení takového elementárního výpočtu.`,incorrect:`Efekt instrukce
Jak vstupy tak výstupy programu jsou součástí stavu – vstupy na začátku, výstupy na konci výpočtu.
Vstup musí být hodnota zapsaná v nějaké buňce paměti; výstup může být třeba stav obrazovky,
kdy rozsvícené pixely vytváří obrazec, který přečteme jako slova hello world.
Efekt instrukce tedy není nic jiného, než elementární změna stavu, nebo jinak řečeno elementární výpočet.
Instrukci samotnou tak můžeme chápat jako pokyn k provedení takového elementárního výpočtu.`},{uuid:"f31297bb-3624-4a7a-8a8f-24dadc1c134f",correct:`Program
Co bude program počítat (resp. co bude počítat procesor řízený daným programem)
je určeno textem programu: instrukcemi uloženými v paměti. Instrukce, které nejsou skoky, obvykle
posouvají programový čítač za svůj vlastní konec, tedy na instrukci na nejbližší vyšší adrese. Většina
programu je tedy prováděna v pořadí od nižších k vyšším (virtuálním) adresám.
Výjimku samozřejmě tvoří instrukce skoku, které mohou některé adresy přeskočit (typicky podmíněné
příkazy – if), nebo se naopak vrátit k některé dřívější, už vykonané instrukci (typicky cykly – while)`,incorrect:`Program
Co bude program počítat (resp. co bude počítat procesor řízený daným programem)
je určeno textem programu: instrukcemi uloženými v paměti. Instrukce, které nejsou skoky, obvykle
posouvají programový čítač za svůj vlastní konec, tedy na instrukci na nejbližší nižší adrese. Většina
programu je tedy prováděna v pořadí od vyšších k nižším (virtuálním) adresám.
Výjimku samozřejmě tvoří instrukce skoku, které mohou některé adresy přeskočit (typicky podmíněné
příkazy – if), nebo se naopak vrátit k některé dřívější, už vykonané instrukci (typicky cykly – while)`},{uuid:"d7398ff5-6fa7-47e0-bd60-7d7f7de24b79",correct:`Zásobník
Za účelem aktivace podprogramu by se nám hodila jakási odlehčená verze virtualizace procesoru:
1. podprogram je dostatečně uzavřený celek na to, aby mělo smysl jej alespoň částečně oddělit od
ostatních výpočtů – často např. používá nějaká data, která mimo tento podprogram nemají žádný
význam (ve vyšším programovacím jazyce lokální proměnné),
2. protože takový podprogram je navíc často potřeba spouštět z různých míst programu, je žádoucí mít
nějaký mechanismus, který po ukončení výpočtu podprogramu vrátí řízení na místo, ze kterého byl
původně aktivován.
Obě tyto funkce zastává zásobník (hardwarový zásobník, zásobník volání, angl. call stack, atp.). Jedná
se o spojitou oblast virtuálního adresního prostoru, které rozsah je dán hodnotou ukazatele vrcholu
zásobníku (jedná se o druhý „speciální“ registr, vedle programového čítače) a pevným dnem.`,incorrect:`Zásobník
Za účelem aktivace podprogramu by se nám hodila jakási odlehčená verze virtualizace procesoru:
1. podprogram není dostatečně uzavřený celek na to, aby mělo smysl jej  oddělit od ostatních výpočtů, proto ho neoddělujeme
2. protože takový podprogram je navíc často potřeba spouštět z různých míst programu, je žádoucí mít
nějaký mechanismus, který po ukončení výpočtu podprogramu vrátí řízení na místo, ze kterého byl
původně aktivován.
Obě tyto funkce zastává zásobník (hardwarový zásobník, zásobník volání, angl. call stack, atp.). Jedná
se o spojitou oblast virtuálního adresního prostoru, které rozsah je dán hodnotou ukazatele vrcholu
zásobníku (jedná se o druhý „speciální“ registr, vedle programového čítače) a pevným dnem.`},{uuid:"db965fa7-a4ac-410b-8117-b95d4ce665c3",correct:`Aktivační záznam
Zásobník typického programu je složen z aktivačních záznamů, známých též
jako rámců (angl. call frame). Každý takový záznam odpovídá jedné aktivaci podprogramu, která
dosud neskončila. Jak jistě víte, podprogramy se mohou aktivovat (volat) vzájemně, nebo může dokonce
podprogram opakovaně aktivovat sám sebe – jev, který pravděpodobně znáte jako rekurzi.
Je také relativně logické, že má-li nějaký podprogram skončit (a tedy má být jeho aktivační záznam
odstraněn), musí nejprve skončit všechny podprogramy, které sám aktivoval (přímo či nepřímo). Tato
skutečnost je odpovědná za to, že aktivační rámce tvoří právě zásobník (a ne třeba frontu, strom,
graf, nebo jinou strukturu).`,incorrect:`Aktivační záznam
Zásobník typického programu je složen z aktivačních záznamů, známých též
jako rámců (angl. call frame). Každý takový záznam odpovídá jedné aktivaci podprogramu, který již skončil.
Jak jistě víte, podprogramy se mohou aktivovat (volat) vzájemně, nebo může dokonce
podprogram opakovaně aktivovat sám sebe – jev, který pravděpodobně znáte jako rekurzi.
Je také relativně logické, že má-li nějaký podprogram skončit (a tedy má být jeho aktivační záznam
odstraněn), musí nejprve skončit všechny podprogramy, které sám aktivoval (přímo či nepřímo). Tato
skutečnost je odpovědná za to, že aktivační rámce tvoří právě zásobník (a ne třeba frontu, strom,
graf, nebo jinou strukturu).`},{uuid:"6d7106a8-25f6-4fee-a1fa-22bc19ab9a5e",correct:`Stav procesoru
Stav procesoru tedy sestává z:
1. hodnot uložených v aritmetických registrech,
2. hodnoty programového čítače,
3. hodnoty ukazatele zásobníku.
V případě, že:
• program neobsahuje instrukce přístupu do paměti,
• nebo celý virtuální adresní prostor je přístupný pouze aktivnímu programu,
je celý výpočet jednoznačně určen programem samotným a počátečním stavem procesoru (a případně
paměti).`,incorrect:`Stav procesoru
Stav procesoru tedy sestává z:
1. hodnot uložených v aritmetických registrech,
2. hodnoty programového čítače,
3. hodnoty ukazatele zásobníku.
V případě, že:
• program neobsahuje instrukce přístupu do paměti,
• a celý virtuální adresní prostor je přístupný pouze aktivnímu programu
je celý výpočet jednoznačně určen programem samotným a počátečním stavem procesoru (a případně
paměti).`},{uuid:"93f63c6e-b694-4845-8406-08800e539e6c",correct:`Vlákno
Nyní jsme konečně připraveni definovat pojem vlákno: je to
• výpočet (posloupnost změn stavu), který vznikne
• nepřerušenou činností jednoho procesoru, který je
• po celou dobu řízen jedním programem.
Všimněte si, že neklademe žádné požadavky na adresní prostor. Takový výpočet tedy není jednoznačně
určen, protože není izolován – součástí takového výpočtu může být synchronizace, a tedy průběh výpočtu
krom samotného programu a počátečního stavu bude záviset také na vnějších událostech, které může
vlákno skrze svůj adresní prostor pozorovat.
Za povšimnutí také stojí, že definice nepovoluje, aby se stav procesoru měnil jakkoliv jinak, než
řízením programu. Bude také výhodné předpokládat, že zásobník je pro externí entity nepřístupný a že
jej tedy chápat jako součást stavu vlákna (který je jinak shodný se stavem procesoru).`,incorrect:`Vlákno
Nyní jsme konečně připraveni definovat pojem vlákno: je to
• výpočet (posloupnost změn stavu), který vznikne
• nepřerušenou činností jednoho procesoru, který je
• po celou dobu řízen jedním programem.
Všimněte si, že neklademe žádné požadavky na adresní prostor. Takový výpočet tedy je jednoznačně určen.
Za povšimnutí také stojí, že definice nepovoluje, aby se stav procesoru měnil jakkoliv jinak, než
řízením programu. Bude také výhodné předpokládat, že zásobník je pro externí entity nepřístupný a že
jej tedy chápat jako součást stavu vlákna (který je jinak shodný se stavem procesoru).`},{uuid:"9fb6a8a7-7b14-4017-b677-8de65c98e3b2",correct:`Logický procesor
Definice vlákna se odvolává na nepřerušenou činnost procesoru. Pro účely této
definice si ale vystačíme s velmi abstraktním chápáním procesoru:
1. procesor má stav, který sestává právě z hodnot registrů,
2. procesor svůj stav mění vykonáváním instrukcí (a nijak jinak).
Takto popsaný procesor budeme nazývat logickým procesorem. Má několik zajímavých vlastností:
1. je zřejmé, že výpočet logického procesoru lze přímočaře realizovat na fyzickém procesoru,
2. stav logického procesoru je velmi jednoduchý a tedy není těžké si představit, že bychom ho mohli
například uložit do paměti (to se nakonec částečně děje i při aktivaci podprogramu),
3. lze si také představit, že bychom mohli fyzický procesor do takto uloženého stavu zase vrátit.
Předpokládejme, že operace z bodů 2 a 3 skutečně existují, a že je může operační systém provést bez
součinnosti aktuálně prováděného vlákna. Pak už je jednoduše vidět, jak realizovat několik logických
procesorů pomocí jednoho fyzického, a tím dosáhnout virtualizace procesoru
`,incorrect:`Logický procesor
Definice vlákna se odvolává na nepřerušenou činnost procesoru. Pro účely této
definice si ale vystačíme s velmi abstraktním chápáním procesoru:
1. procesor má stav, který sestává právě z hodnot registrů,
2. procesor svůj stav mění vykonáváním instrukcí (a nijak jinak).
Takto popsaný procesor budeme nazývat logickým procesorem. Má několik zajímavých vlastností:
1. je zřejmé, že výpočet logického procesoru lze přímočaře realizovat na fyzickém procesoru,
2. stav logického procesoru je velmi složitý a tedy není možné ho uložit do paměti 
`},{uuid:"53447778-7381-4f94-9654-0ad066ba6a3e",correct:`Přepnutí vlákna
Protože můžeme uložit, a později obnovit, stav logického procesoru, můžeme na
jednom fyzickém procesoru provádět střídavě několik různých vláken, a zároveň zabezpečit, že každé
vlákno má, ze svého vlastního pohledu, pomyslný vlastní procesor.
Co obnáší uložení a obnova registru závisí na jejich typu:
1. aritmetické registry – teoreticky nepředstavují problém, ale protože bez aritmetických registrů
nelze nic počítat, nelze bez asistence procesoru uložit ani obnovit všechny,
2. ukazatel zásobníku v principu jednoduché jak uložit tak obnovit, problém ale nastane, používáme-li
zásobníkové instrukce k manipulaci s ostatními registry,
3. programový čítač představuje největší problém: nelze přímo ani uložit (vyžadovalo by součinnost
prováděného programu), ani obnovit (obnovou automaticky ztrácíme kontrolu nad procesorem, musí
tedy být provedena v posledním kroku, kdy už ale nemáme k dispozici žádné aritmetické registry).
`,incorrect:`Přepnutí vlákna
Protože můžeme uložit, a později obnovit, stav logického procesoru, můžeme na
jednom fyzickém procesoru provádět střídavě několik různých vláken, a zároveň zabezpečit, že každé
vlákno má, ze svého vlastního pohledu, pomyslný vlastní procesor.
Co obnáší uložení a obnova registru závisí na jejich typu:
1. aritmetické registry – teoreticky nepředstavují problém, protože je lze obnovit všechny,
2. ukazatel zásobníku v principu jednoduché jak uložit tak obnovit, problém ale nastane, používáme-li
zásobníkové instrukce k manipulaci s ostatními registry,
3. programový čítač představuje největší problém: nelze přímo ani uložit (vyžadovalo by součinnost
prováděného programu), ani obnovit (obnovou automaticky ztrácíme kontrolu nad procesorem, musí
tedy být provedena v posledním kroku, kdy už ale nemáme k dispozici žádné aritmetické registry).
`},{uuid:"7e9a4b08-e60e-4df7-b41a-20437c17ae03",correct:`Plánovač
Části jádra operačního systému, která je odpovědná za přidělování procesorů vláknům
říkáme plánovač vláken, často také z historických důvodů plánovač procesů. Plánovač je na každém
procesoru aktivován v pravidelných intervalech a je mu tedy umožněno odebrat procesor aktivnímu
vláknu i bez součinnosti tohoto vlákna.
Základním rozhodnutím plánovače při každé aktivaci je: „Má aktivní vlákno (logický procesor) pokračovat
ve výpočtu, nebo má být přerušeno (preempted). Které vlákno má být na procesoru spuštěno jako další?
`,incorrect:`Plánovač
Části jádra operačního systému, která je odpovědná za přidělování procesorů vláknům
říkáme plánovač vláken, často také z historických důvodů plánovač procesů. Plánovač je jen na hlavním
procesoru aktivován v pravidelných intervalech a je mu tedy umožněno odebrat procesor aktivnímu
vláknu i bez součinnosti tohoto vlákna.
Základním rozhodnutím plánovače při každé aktivaci je: „Má aktivní vlákno (logický procesor) pokračovat
ve výpočtu, nebo má být přerušeno (preempted). Které vlákno má být na procesoru spuštěno jako další?
`},{uuid:"a807cb62-7b73-4c6d-a1b3-885a7b62172d",correct:`Cíle plánovače
Na plánovací algoritmus (a plánovač jako celek) máme několik základních požadavků:
1. maximalizovat propustnost
2. minimalizovat latenci (prodlevu)
3. udržovat férovost
Je na první pohled vidět, že některé požadavky jsou protichůdné: zejména latence a propustnost často
stojí proti sobě, a zlepšení jednoho parametru vede ke zhoršení toho druhého.`,incorrect:`Cíle plánovače
Na plánovací algoritmus (a plánovač jako celek) máme několik základních požadavků:
1. minimalizovat propustnost
2. maximalizovat latenci (prodlevu)
3. udržovat férovost
Je na první pohled vidět, že některé požadavky jsou protichůdné: zejména latence a propustnost často
stojí proti sobě, a zlepšení jednoho parametru vede ke zhoršení toho druhého.`},{uuid:"09258925-1c6f-418f-9249-066118f9cb02",correct:`Stav vlákna
Vlákno (které ještě neskončilo) může být, z pohledu plánovače, ve třech základních
stavech:
1. právě běží – má aktuálně přidělený procesor,
2. připraveno ke běhu, ale čeká na procesor – vlákno bylo přerušeno plánovačem (nebo nebylo dosud nikdy
spuštěno), ale jinak mu nic nebrání pokračovat ve výpočtu,
3. čeká na událost – vlákno je „zaseknuté“ v synchronizační smyčce a nemůže pokračovat ve výpočtu,
dokud nenastane nějaká externí událost (plánovači musí být tento stav explicitně oznámen, jinak jej
nemá jak rozeznat od běžného výpočtu).

nemůže se stát, že by vlákno, které čekalo na procesor, přešlo do stavu čekání na událost
– tento přechod totiž vyžaduje nějakou akci, kterou musí provést samotné vlákno.
`,incorrect:`Stav vlákna
Vlákno (které ještě neskončilo) může být, z pohledu plánovače, ve třech základních
stavech:
1. právě běží – má aktuálně přidělený procesor,
2. připraveno ke běhu, ale čeká na procesor – vlákno bylo přerušeno plánovačem (nebo nebylo dosud nikdy
spuštěno), ale jinak mu nic nebrání pokračovat ve výpočtu,
3. čeká na událost – vlákno je „zaseknuté“ v synchronizační smyčce a nemůže pokračovat ve výpočtu,
dokud nenastane nějaká externí událost (plánovači musí být tento stav explicitně oznámen, jinak jej
nemá jak rozeznat od běžného výpočtu).

Vlákno může libovolně přecházet mezi všemi stavy, tyto přechody jsou řízeny procesorem`},{uuid:"0062ed2f-5b53-47e1-967f-438071449e4e",correct:`Fronta úloh
Základním pracovním nástrojem plánovače jsou běhové fronty úloh (angl. run queue),
do kterých plánovač řadí vlákna, která čekají na procesor. Konkrétní plánovací algoritmy se pak liší
zejména v tom, jak se tyto fronty chovají.
`,incorrect:`Fronta úloh
Základním pracovním nástrojem plánovače jsou běhové fronty úloh (angl. run queue),
do kterých plánovač řadí vlákna, která čekají na událost. Konkrétní plánovací algoritmy se pak liší
zejména v tom, jak se tyto fronty chovají.
`},{uuid:"dc0cea85-6120-4820-81f0-66da52c1cd8a",correct:`Afinita
Protože migrace vlákna na jiný fyzický procesor není zadarmo, je žádoucí zbytečným
migracím vláken zamezit. Mluvíme v takovém případě o afinitě vlákna ke konkrétnímu fyzickému procesoru:
plánovač má snahu vlákno opakovaně plánovat na stejný fyzický procesor.
Mezní situace jsou:
1. plánovač zcela bez afinity: např. proto, že má globální frontu a tedy je prvnímu čekajícímu vláknu
vždy přidělen první uvolněný procesor,
2. plánovač bez možnosti migrace: např. proto, že má lokální fronty, a neumožňuje přesun vláken mezi
nimi.`,incorrect:`Afinita
Protože migrace vlákna na jiný fyzický procesor není zadarmo, je žádoucí zbytečným
migracím vláken zamezit. Mluvíme v takovém případě o afinitě vlákna ke konkrétnímu fyzickému procesoru:
plánovač má snahu vlákno opakovaně plánovat na stejný fyzický procesor.
Mezní situace jsou:
1. plánovač zcela bez afinity: např. proto, že má lokální fronty, a neumožňuje přesun vláken mezi
nim,
2. plánovač bez možnosti migrace: např. proto,že má globální frontu a tedy je prvnímu čekajícímu vláknu
vždy přidělen první uvolněný procesor.`},{uuid:"9632cc6a-3d1b-42d0-ae93-530f771477c4",correct:`Prioritní fronty
Interaktivní plánovače používají téměř výhradně nějakou formu prioritního
plánování – vlákna mají přidělenu prioritu (staticky nebo dynamicky), která ovlivňuje jejich schopnost
získat procesor – a to jak latenci (jak dlouho musí vlákno čekat ve frontě) tak celkový přidělený
výpočetní čas (jaký díl procesorového času je vláknu přidělen).
`,incorrect:`Prioritní fronty
Interaktivní plánovače používají téměř výhradně nějakou formu prioritního
plánování – vlákna mají přidělenu prioritu (staticky nebo dynamicky), která ovlivňuje jejich schopnost
získat procesor – a to jen latenci (jak dlouho musí vlákno čekat ve frontě), celkový přidělený
výpočetní čas ovlivňovat nemůže
`},{uuid:"d7717bf6-1f50-45fe-bb97-a71a92e79b96",correct:`Prioritní fronty
výhody:
• používá pouze jednoduché datové struktury,
• všechny operace jsou asymptoticky konstantní (vzhledem k počtu čekajících vláken – počet prioritních
tříd je pevný).
A také jednu důležitou nevýhodu:
• dlouho běžící výpočetní vlákno s vysokou prioritou zablokuje procesor pro všechna ostatní vlákna.
Tuto nevýhodu lze vyřešit dynamickou úpravou priority: za každou přidělenou jednotku výpočetního času
je vlákno „potrestáno“ snížením priority. Existují-li jiná čekající vlákna, dříve nebo později se tak
dostanou ke slovu.`,incorrect:`Prioritní fronty
výhody:
• používá pouze jednoduché datové struktury,
• všechny operace jsou asymptoticky konstantní (vzhledem k počtu čekajících vláken – počet prioritních
tříd je pevný).
A také jednu důležitou nevýhodu:
• dlouho běžící výpočetní vlákno s vysokou prioritou zablokuje procesor pro všechna ostatní vlákna.
Tuto nevýhodu nelze vyřešit dynamickou úpravou priority, docházelo by k takzvanému hladovění vláken.`},{uuid:"ce22047e-936a-4239-9913-883084508e88",correct:`Férové plánování
Cílem férového plánovače je, aby každé vlákno dostalo přiděleno podle možnosti
stejné množství výpočetního času (případně váženo prioritou). V tomto se podobá na systém s dynamickou
úpravou priority z předchozí sekce, ale místo pevného systému prioritních tříd má priority v libovolném
rozsahu. Realizuje se proto klasickou (monolitickou) prioritní frontou – např. binární haldou nebo
binárním vyhledávacím stromem.`,incorrect:`Férové plánování
Cílem férového plánovače je, aby každé vlákno dostalo přiděleno podle možnosti
stejné množství výpočetního času (případně váženo prioritou). V tomto se podobá na systém s dynamickou
úpravou priority z předchozí sekce, ale místo pevného systému prioritních tříd má priority v libovolném
rozsahu. Realizuje se proto zásobníkem.`},{uuid:"3edc6104-4785-437e-be03-f29fcc069178",correct:`Odebrání procesoru
Rozhodnutí o odebrání procesoru (tzn. přesunu vlákna ze stavu „běží“ do
stavu „čeká na procesor“) má dva základní vstupy:
1. jak dlouho již běží právě aktivní vlákno,
2. srovnání aktivního vlákna a následujícího vlákna ve frontě.
Konkrétní rozhodnutí opět závisí na konkrétním plánovacím algoritmu. Je ale obvyklé nechat aktivní
vlákno běžet nějaký minimální čas, i v případě, že další naplánované vlákno má vyšší prioritu (tímto se
brání příliš častému přepínání vláken) – tento minimální čas je plánovací kvantum. Delší kvantum má
pozitivní vliv na propustnost, ale negativní vliv na latenci (reakční dobu).`,incorrect:`Odebrání procesoru
Rozhodnutí o odebrání procesoru (tzn. přesunu vlákna ze stavu „běží“ do
stavu „čeká na procesor“) má dva základní vstupy:
1. jak dlouho již běží právě aktivní vlákno,
2. srovnání aktivního vlákna a následujícího vlákna ve frontě.
Konkrétní rozhodnutí opět závisí na konkrétním plánovacím algoritmu. Je ale obvyklé nechat aktivní
vlákno běžet nějaký minimální čas, i v případě, že další naplánované vlákno má vyšší prioritu (tímto se
brání příliš častému přepínání vláken) – tento minimální čas je plánovací kvantum. Delší kvantum má
negativní vliv na propustnost, ale pozitivní vliv na latenci (reakční dobu).`},{uuid:"15b43073-f837-4595-9955-1d4f5aa705f8",correct:`Čekající vlákna
Vlákno je označeno jako čekající na událost (říkáme o něm také, že je uspané)
buď na vlastní žádost (umožňuje-li to operační systém a povaha události), nebo na popud některé jiné
části operačního systému:
• vyžádá-li například vlákno čtení ze souboru, a operační systém nemá aktuálně data k dispozici, zařádí
požadavek na data do fronty a vlákno uspí,
• pokusí-li se vstoupit do kritické sekce, která je aktuálně zamčená jiným vláknem,
• vyžádá vstup z klávesnice (a zrovna není žádný k dispozici),
`,incorrect:`Čekající vlákna
Vlákno je označeno jako čekající na událost (říkáme o něm také, že je uspané) na žádost pouze operačního systému, příklad:
• vyžádá-li například vlákno čtení ze souboru, a operační systém nemá aktuálně data k dispozici, zařádí
požadavek na data do fronty a vlákno uspí,
• pokusí-li se vstoupit do kritické sekce, která je aktuálně zamčená jiným vláknem,
• vyžádá vstup z klávesnice (a zrovna není žádný k dispozici),
`},{uuid:"04a66110-d893-4fdb-b17a-cdb0717b8a5a",correct:`Čekající vlákna
Události čekání jsou v zásadě dvou typů:
• čekání na vyřízení „soukromého“ požadavku: takto uspané vlákno je poznačeno u příslušného požadavku,
a jakmile je tento vyřízen, odpovědná komponenta vlákno probudí (aktivuje plánovač, který vlákno
přesune do běhové fronty, nebo mu ihned přidělí procesor),
• soutěž o nějaký zdroj (např. zmiňovaná kritická sekce), který může vlastnit v danou chvíli nejvýše
jedno vlákno, ale na který jich může zároveň čekat několik: takové zdroje mají čekací frontu (angl.
wait queue) a příslušná událost probudí (přesune do běhové fronty) pouze první vlákno z čekací fronty:
nemá smysl probouzet všechna, protože by okamžitě všechna krom jednoho musela být zase uspána
(vyhrát soutěž může nejvýše jedno).
`,incorrect:`Čekající vlákna
Události čekání jsou v zásadě dvou typů:
• čekání na vyřízení „soukromého“ požadavku: takto uspané vlákno je poznačeno u příslušného požadavku,
a jakmile je tento vyřízen, odpovědná komponenta vlákno přesune na jiný procesor.
• soutěž o nějaký zdroj (např. zmiňovaná kritická sekce), který může vlastnit v danou chvíli nejvýše
jedno vlákno, ale na který jich může zároveň čekat několik: takové zdroje mají čekací frontu (angl.
wait queue) a příslušná událost probudí (přesune do běhové fronty) pouze první vlákno z čekací fronty:
nemá smysl probouzet všechna, protože by okamžitě všechna krom jednoho musela být zase uspána
(vyhrát soutěž může nejvýše jedno).
`}]},{uuid:"bb007866-d6bd-417d-9646-a312826bca5d",title:"Část 3: Souborové systémy",statements:[{uuid:"4586a34d-edac-49a2-a467-4b0003ad8eb8",correct:` Bloková zařízení
Tento typ zařízení představuje abstrakci perzistentních úložišť. Operace (abstraktního) blokového
zařízení jsou přizpůsobené běžným schopnostem odpovídajících reálných zařízení:
• zápis a čtení je prováděno po blocích pevné velikosti,
• v libovolném pořadí, ale
• s velkou latencí a malou propustností (relativně k operační paměti).`,incorrect:` Bloková zařízení
Tento typ zařízení představuje abstrakci perzistentních úložišť. Operace (abstraktního) blokového
zařízení jsou přizpůsobené běžným schopnostem odpovídajících reálných zařízení:
• zápis a čtení je prováděno po bajtech,
• v libovolném pořadí, ale
• s velkou latencí a malou propustností (relativně k operační paměti).`},{uuid:"f62d928a-415e-4d19-b205-558e72a55e94",correct:`Trvalé úložiště
je fyzické zařízení, které se podobá na operační paměť (pamatuje si data),
s několika klíčovými rozdíly:
1. data zde uložená přetrvávají „dlouhodobě“, tedy zejména i po vypnutí počítače (nebo restartu
operačního systému),
2. přístup k datům je pomalejší – zejména má mnohem vyšší latenci (prodlevu) mezi vystavením požadavku
a odpovědí zařízení; je proto nepraktické adresovat takové zařízení po jednotlivých bajtech (jako
tomu je u operační paměti),
3. proto je obvyklé, že poskytují operace, které pracují s celými bloky dat najednou (velikost 512 bajtů
a víc, často 4 KiB) – základní operací je pak přesun takového bloku mezi zařízením a operační pamětí.`,incorrect:`Trvalé úložiště
je fyzické zařízení, které se podobá na operační paměť (pamatuje si data),
s několika klíčovými rozdíly:
1. data zde uložená přetrvávají „krátkodobě“, tedy zejména po vypnutí počítače jsou odstraněna,
2. přístup k datům je pomalejší – zejména má mnohem vyšší latenci (prodlevu) mezi vystavením požadavku
a odpovědí zařízení; je proto nepraktické adresovat takové zařízení po jednotlivých bajtech (jako
tomu je u operační paměti),
3. proto je obvyklé, že poskytují operace, které pracují s celými bloky dat najednou (velikost 512 bajtů
a víc, často 4 KiB) – základní operací je pak přesun takového bloku mezi zařízením a operační pamětí.`},{uuid:"defaabea-8663-42c7-a691-8c6d966116e0",correct:`Latence
doba mezi požadavkem a odpovědí; příliš velká, než aby bylo lze ignorovat; rozdíl proti
operační paměti: nelze skrýt hardwarově, musí řešit OS; problém zejména pro spolehlivé uložení dat –
durability v ACID – nutné čekat na potvrzení zápisu`,incorrect:`Latence
doba mezi požadavkem a odpovědí; příliš velká, než aby bylo lze ignorovat; rozdíl proti
operační paměti: nelze skrýt softwarově, musí řešit HW`},{uuid:"89dd5e94-96de-45ad-8251-70bd46393adb",correct:` Mezipaměť
Hlavní problém, který mezipaměť řeší, je opakovaný přístup ke stejným adresám daného
datového úložiště. Přístup k datům obvykle není rovnoměrný – některá data jsou potřebná často (např.
aktivně využívaná databáze), zatímco jiná (archiv dat z minulého roku) jen velmi zřídka. Proto je výhodné
si nedávno čtená data pamatovat v rychlejší paměti: může se totiž lehce stát, že je bude potřeba přečíst
v blízké budoucnosti znovu.
Podobně má smysl některá data načíst do mezipaměti s předstihem (existuje-li volná přenosová kapacita;
této technice se angl. říká prefetch)`,incorrect:` Mezipaměť
Hlavní problém, který mezipaměť řeší, je opakovaný přístup ke stejným adresám daného
datového úložiště. Přístup k datům obvykle není rovnoměrný – některá data jsou potřebná často (např.
aktivně využívaná databáze), zatímco jiná (archiv dat z minulého roku) jen velmi zřídka. Proto je výhodné
si nedávno čtená data úkládat v procesoru: může se totiž lehce stát, že je bude potřeba přečíst
v blízké budoucnosti znovu.
Podobně má smysl některá data načíst do mezipaměti s předstihem (existuje-li volná přenosová kapacita;
této technice se angl. říká prefetch)`},{uuid:"d7afb4ca-9ecc-4927-a268-aeb8cd40db52",correct:`Vyrovnávací paměť
Existují dvě základní možnosti, jak vyrovnávací paměti realizovat:
1. oddělené od mezipaměti: vyrovnávací paměť obsahuje jak samotné požadavky, tak veškerá data s nimi
spojená; jsou-li některé dotčené bloky uložené v mezipaměti, tyto jsou buď zneplatněny, nebo (častěji)
upraveny na místě,
2. propojená s mezipamětí: vyrovnávací paměť obsahuje pouze frontu požadavků na zápis – samotné
datové bloky se ukládají vždy do mezipaměti, fronta nevyřízených zápisů do ní pouze odkazuje; takto
koncipovaný systém se, jako celek, chová jako mezipaměť s opožděným zápisem (angl. write-back
cache).`,incorrect:`Vyrovnávací paměť
Existují dvě základní možnosti, jak vyrovnávací paměti realizovat:
1. oddělené od mezipaměti: vyrovnávací paměť obsahuje jak samotné požadavky, tak veškerá data s nimi
spojená; jsou-li některé dotčené bloky uložené v mezipaměti, tyto jsou buď zneplatněny, nebo (častěji)
upraveny na místě,
2. propojená s mezipamětí: vyrovnávací paměť obsahuje pouze počítadlo požadavků na zápis – samotné
datové bloky se ukládají vždy do operační paměti.`},{uuid:"cdb7dad9-d3df-4ed8-b1f7-b3a74d2b3b4c",correct:` Plánování operací
U většiny úložišť platí, že sekvenční přístup (čtení po sobě následujících
adres) je mnohem rychlejší, než nahodilý přístup (postupné čtení adres, které spolu nijak nesouvisí).
Různé technologie navíc kladou další omezení na rychlost reakce – klasickým příkladem jsou rotační disky,
kde prodleva další operace závisí na vzdálenosti hlavy od místa, kde se potřebná data fyzicky nachází.
Naopak polovodičové paměti jsou často složené z nezávislých celků, které mohou pracovat souběžně, ale
požadavky do stejné části paměti musí vyčkat na dokončení těch předchozích.
Bez ohledu na technologii ukládání dat ale platí, že operace s trvalým úložištěm vykazují vysokou míru
souběžnosti: do systému přichází mnoho nezávislých požadavků na diskové operace a existuje tedy jistá
volnost odpovídat na tyto požadavky v různém pořadí. Je to způsobeno zejména tím, že je často spuštěno
několik (souběžných) vláken a každé z nich provádí vstupně-výstupní operace nezávisle na ostatních.`,incorrect:` Plánování operací
U většiny úložišť platí, že sekvenční přístup (čtení po sobě následujících
adres) je mnohem rychlejší, než nahodilý přístup (postupné čtení adres, které spolu nijak nesouvisí).
Různé technologie navíc kladou další omezení na rychlost reakce – klasickým příkladem jsoupolovodičové paměti,
kde prodleva další operace závisí na vzdálenosti hlavy od místa, kde se potřebná data fyzicky nachází.
Naopak rotační disky jsou často složené z nezávislých celků, které mohou pracovat souběžně, ale
požadavky do stejné části paměti musí vyčkat na dokončení těch předchozích.
Bez ohledu na technologii ukládání dat ale platí, že operace s trvalým úložištěm vykazují vysokou míru
souběžnosti: do systému přichází mnoho nezávislých požadavků na diskové operace a existuje tedy jistá
volnost odpovídat na tyto požadavky v různém pořadí. Je to způsobeno zejména tím, že je často spuštěno
několik (souběžných) vláken a každé z nich provádí vstupně-výstupní operace nezávisle na ostatních.`},{uuid:"e198c0ef-5604-41f5-8a1e-b4934a5d5d74",correct:`Přeuspořádání operací má určitá úskalí, zejména v případech, kdy jsou prohozeny zápisy, které náleží
stejné aplikaci, nebo se jedná o operace související s údržbou metadat souborového systému. Vzniká tak
napětí mezi výkonem (více přeuspořádání → vyšší propustnost) a spolehlivostí (více přeuspořádání →
větší šance nekonzistence v případě výpadku).
Pokud jde o operace čtení, zde je prostor pro přeuspořádání obvykle menší, protože aplikace, která čtení
vyžádala, obvykle nemůže pokračovat ve své činnosti dříve, než jsou data k dispozici (a tedy zejména
nemůže vyžádat další operace čtení).`,incorrect:`Přeuspořádání operací má určitá úskalí, zejména v případech, kdy jsou prohozeny zápisy, které náleží
stejné aplikaci, nebo se jedná o operace související s údržbou metadat souborového systému. Vzniká tak
napětí mezi výkonem (více přeuspořádání → vyšší propustnost) a spolehlivostí (více přeuspořádání →
větší šance nekonzistence v případě výpadku).
Pokud jde o operace čtení, zde je prostor pro přeuspořádání obvykle větší, protože aplikace, která čtení
vyžádala, obvykle může pokračovat ve své činnosti i když nejsou data k dispozici.`},{uuid:"25c5006f-5b13-4b7d-9ac8-4264d26a5340",correct:`Problémy virtualizace
Náš dosavadní přístup k virtualizaci nebude v případě trvalých úložišť
příliš dobře fungovat. Vzpomeňte si, že v případě paměti a procesoru řešení spočívalo ve vytvoření
soukromých (virtuálních) instancí příslušného zařízení. Taková instance je pak vždy ve výlučném užívání
jednoho programu.
Zde ale narážíme na to, že trvalé úložiště slouží především k ukládání uživatelsky zajímavých dat. Je
tedy potřebné, aby mohl uživatel s těmito daty nějak interagovat, a zejména tedy nemůžou být skryta
v soukromém prostoru jednoho programu.`,incorrect:`Problémy virtualizace
Náš dosavadní přístup k virtualizaci bude v případě trvalých úložišť fungovat.
Vzpomeňte si, že v případě paměti a procesoru řešení spočívalo ve vytvoření
soukromých (virtuálních) instancí příslušného zařízení. Taková instance je pak vždy ve výlučném užívání
jednoho programu.
Trvalé úložiště slouží především k ukládání uživatelsky zajímavých dat. Je
tedy nežádoučí, aby mohl uživatel s těmito daty nějak interagovat, a zejména tedy musí být skryta
v soukromém prostoru jednoho programu.`},{uuid:"ee207de4-2917-45aa-9691-dacadec4acc8",correct:`Problémy virtualizace
dvě možnosti řešení:
1. můžeme zcela změnit přístup k virtualizaci: místo toho, abychom virtualizací vytvořili věrný obraz
skutečného zařízení, může operační systém poskytovat nějaký jiný druh abstrakce, a trvalé úložiště
nebude aplikacím vůbec přístupné,
2. vyčleníme nějakou aplikaci, která bude odpovědná za správu uživatelských dat v trvalém úložišti, a
ostatní aplikace budou své požadavky na interakci s těmito daty řešit skrze tuto speciální aplikaci.

Obě řešení jsou ve skutečnosti (s trochou nadsázky) vlastně totéž řešení. V obou případech je přímý
přístup k úložišti omezen na jeden nebo několik málo programů (v prvním případě je tento program
součástí operačního systému), tento program rozhoduje o tom, jak budou data „fyzicky“ organizovaná,
jaké operace lze nad daty provádět, které další programy k nim budou mít přístup, atp.`,incorrect:`Problémy virtualizace
dvě možnosti řešení:
1. můžeme zcela změnit přístup k virtualizaci: místo toho, abychom virtualizací vytvořili věrný obraz
skutečného zařízení, může operační systém poskytovat nějaký jiný druh abstrakce, a trvalé úložiště
nebude aplikacím vůbec přístupné,
2. vyčleníme nějakou aplikaci, která bude odpovědná za správu uživatelských dat v trvalém úložišti, a
ostatní aplikace budou své požadavky na interakci s těmito daty řešit skrze tuto speciální aplikaci.

Obě řešení jsou ve skutečnosti (s trochou nadsázky) vlastně totéž řešení. V obou případech je přímý
přístup k úložišti omezen na procesorové jádro, to rozhoduje o tom, jak budou data „fyzicky“ organizovaná a
jaké další operace lze nad daty provádět.`},{uuid:"ca3cb30b-6855-48b9-a844-53284e4fcb3e",correct:`Metody virtualizace
1. souborový systém, nebo obecněji abstrakce na vyšší úrovni poskytovaná jako služba operačního systému,
která umožňuje řízený přístup k datům mnoha aplikacím současně, a zároveň umožňuje uživateli data
organizovat a spravovat,
2. virtualizace na aplikační úrovni, kdy je přímý přístup k úložišti poskytnut některé aplikaci, která
spravuje data a ostatním aplikacím poskytuje přístup pomocí vhodného aplikačního protokolu (typickým
příkladem jsou databázové systémy),`,incorrect:`Metody virtualizace
1. souborový systém, nebo obecněji abstrakce na vyšší úrovni poskytovaná jako služba operačního systému,
která umožňuje řízený přístup k datům mnoha aplikacím současně, a zároveň umožňuje uživateli data
organizovat a spravovat,
2. virtualizace na aplikační úrovni, kdy je přímý přístup k úložišti řízen procesorem, který
spravuje data a ostatním částem OS poskytuje přístup pomocí vhodného mapování adres.`},{uuid:"f8a887e8-a402-43ac-9b0e-bc9823544316",correct:`RAID
Zatímco standardním řešením problému s nízkou propustností a/nebo velkou prodlevou paměťových operací jsou mezipaměti,
standardním řešením problémů se spolehlivostí paměti je redundance.
Nejjednodušší formou redundance je pořízení kopie (zálohy) – v případě ztráty primárních dat obnovíme
data ze záložní kopie. S tím jsou spojeny dva problémy:
1. aby byla užitečná, musíme takovou kopii udržovat aktuální a zároveň konzistentní,
2. při poruše musíme vyměnit dotčené zařízení a data překopírovat ze zálohy, přitom obě operace mohou
být poměrně zdlouhavé.`,incorrect:`RAID
Zatímco standardním řešením problému s nízkou propustností a/nebo velkou prodlevou paměťových operací jsou vyrovnávací paměti,
standardním řešením problémů se spolehlivostí paměti je redundance.
Nejjednodušší formou redundance je pořízení kopie (zálohy) – v případě ztráty primárních dat obnovíme
data ze záložní kopie. S tím jsou spojeny dva problémy:
1. aby byla užitečná, musíme takovou kopii udržovat aktuální ale nemusí být konzistentní,
2. při poruše musíme vyměnit dotčené zařízení a data překopírovat ze zálohy, přitom obě operace mohou
být poměrně zdlouhavé.`},{uuid:"45e6e5a9-b966-4818-b9ae-a6c8d5d04ba3",correct:`Operace nad soubory
Základními operacemi pro práci se souborem je čtení (v POSIX-u voláním read) a zápis
(v POSIX-u write) souvislé posloupnosti bajtů (libovolné velikosti – abstrakce souboru skrývá blokový
charakter zařízení, na kterém je soubor uložen). Podobně může být libovolná velikost souboru (samozřejmě
ale musí soubor obsahovat celočíselný počet bajtů) – tuto velikost je navíc možné dynamicky měnit. Zápis
„za konec“ souboru jej automaticky prodlouží, zkrácení je nutné explicitně vyžádat (v POSIX-u voláním
ftruncate).`,incorrect:`Operace nad soubory
Základními operacemi pro práci se souborem je čtení (v POSIX-u voláním read) a zápis
(v POSIX-u write) souvislé posloupnosti bajtů (libovolné velikosti – abstrakce souboru skrývá blokový
charakter zařízení, na kterém je soubor uložen). Velikost souboru je ale pevně daná a to velikostí bitmapy.`},{uuid:"9b40a9e5-db7e-4511-9820-d1b7d1e774f9",correct:`soubory jsou obvykle perzistentní
– existují dlouhodobě, nezávisle na běžících procesech, nebo dokonce na tom, je-li vůbec aktivní operační
systém (nebo samotný hardware). Abychom mohli s perzistentními soubory rozumně pracovat, musí být
navíc tyto opatřeny identitou.
Abychom mohli se souborem pracovat, ve většině systémů je nutné jej otevřít – v systémech POSIX
k tomu slouží volání open, kterého výsledkem je popisovač otevřeného souboru (angl. file descriptor)`,incorrect:`soubory jsou obvykle perzistentní
– existují dlouhodobě, jsou závislé na běžících procesech, ale nezávisí na tom, je-li vůbec aktivní operační
systém (nebo samotný hardware). Abychom mohli s perzistentními soubory rozumně pracovat, musí být
navíc tyto opatřeny identitou.
Abychom mohli se souborem pracovat, ve většině systémů je nutné jej otevřít – v systémech POSIX
k tomu slouží volání open, kterého výsledkem je popisovač otevřeného souboru (angl. file descriptor)`},{uuid:"4bf8f5fe-1b2b-4611-b51d-0dd0419544b8",correct:`Obyčejný soubor
je právě oním „motivačním případem“ – obyčejný soubor reprezentuje paměť, tzn.
jeho smyslem je uchovávat data (obyčejný soubor si tedy pamatuje posloupnost bajtů). Jaké konkrétní
bajty to jsou je irelevantní – souborový systém obsah obyčejných souborů nijak neinterpretuje.
Krom abstrakce (perzistentní – trvalé) paměti je obyčejný soubor také abstrakcí nad pevným úložištěm
v tom smyslu, že skrývá detaily přístupu k tomuto zařízení. Operace nad pevným úložištěm pracují po
jednotlivých blocích, přičemž bloky mají pevnou velikost a jejich počáteční adresa musí být dělitelná
touto velikostí – pro soubory žádné takové omezení neplatí. Zároveň je aplikace odstíněna od fyzického
umístění dat na pevném úložišti (funguje zde opět analogie s virtuálním adresním prostorem a překladem
virtuálních adres na fyzické). Analogie překladu adres je v tomto případě ale zcela v režii operačního
systému`,incorrect:`Obyčejný soubor
je právě oním „motivačním případem“ – obyčejný soubor reprezentuje paměť, tzn.
jeho smyslem je uchovávat data (obyčejný soubor si tedy pamatuje posloupnost bajtů). Jaké konkrétní
bajty to jsou je irelevantní – souborový systém obsah obyčejných souborů nijak neinterpretuje.
Krom abstrakce (perzistentní – trvalé) paměti je obyčejný soubor také abstrakcí nad pevným úložištěm
v tom smyslu, že skrývá detaily přístupu k tomuto zařízení. Operace nad pevným úložištěm pracují po
jednotlivých blocích, přičemž bloky mají pevnou velikost a jejich počáteční adresa musí být dělitelná
touto velikostí – pro soubory platí stejná omezení. Zároveň je aplikace odstíněna od fyzického
umístění dat na pevném úložišti (funguje zde opět analogie s virtuálním adresním prostorem a překladem
virtuálních adres na fyzické). Analogie překladu adres je v tomto případě ale zcela v režii operačního
systému`},{uuid:"0eea0402-376f-48e3-972c-85643770d278",correct:`Mapováni do paměti
Operace read a write nejsou vždy efektivní, protože musí mimo jiné kopírovat
data mezi mezipamětí a pamětí, která náleží žádajícímu procesu.
Efektivita aplikací, které data
především čtou, může být výrazně zlepšena mapováním souborů do paměti za pomoci líného načítání.
V tomto režimu jsou externí stránky uloženy v jinak běžném souboru, ale místo komplikovaných vstupněvýstupních
operací může program s obsahem souboru pracovat stejně, jako by byl uložen v operační paměti.
Využijeme-li tohoto mechanismu také k zápisu změněných stránek zpátky do souboru, může program soubor
i zcela transparentně upravovat.`,incorrect:`Mapováni do paměti
Operace read a write jsou vždy efektivní, protože nemusí kopírovat
data mezi mezipamětí a pamětí, která náleží žádajícímu procesu.
Efektivita aplikací, které data
především čtou, může být výrazně zlepšena mapováním souborů do paměti za pomoci líného načítání.
V tomto režimu jsou externí stránky uloženy v jinak běžném souboru, ale místo komplikovaných vstupněvýstupních
operací může program s obsahem souboru pracovat stejně, jako by byl uložen v operační paměti.
Využijeme-li tohoto mechanismu také k zápisu změněných stránek zpátky do souboru, může program soubor
i zcela transparentně upravovat.`},{uuid:"81f6fc70-79f2-47a3-befa-7dbc592a4813",correct:`Souběžný přístup
Jmenný prostor souborového systému (blíže jej popíšeme v další sekci) je
sdílený mezi všemi procesy, může se tedy lehce stát, že více procesů bude pracovat s jedním souborem.
Tato situace je analogická tomu, že stejná oblast operační paměti může být namapovaná ve více virtuálních
adresních prostorech. Jde-li o souběžný přístup pouze pro čtení, nevznikají žádné významnější problémy.
Vstoupí-li ale do hry zápisy, jak čtení tak jiné zápisy mohou způsobovat problémy – zejména různé
instance hazardu souběhu.
Aby se těmto problémům předešlo, operační systémy umožňují soubory zamykat čím je umožněno programům
k souboru přistupovat bezpečně – tzn. bez rizika poškození dat`,incorrect:`Souběžný přístup
Jmenný prostor souborového systému (blíže jej popíšeme v další sekci) je
sdílený mezi všemi procesy, může se tedy lehce stát, že více procesů bude pracovat s jedním souborem.
Tato situace je analogická tomu, že stejná oblast operační paměti může být namapovaná ve více virtuálních
adresních prostorech. Jde-li o souběžný přístup pouze pro čtení, nevznikají žádné významnější problémy.
Vstoupí-li ale do hry zápisy, jak čtení tak jiné zápisy mohou způsobovat problémy – zejména různé
instance hazardu souběhu.
Operační systémy neumožňují soubory zamykat proto musí být tento problém řešen jinak`},{uuid:"0847f9b3-b784-43b5-aeb6-3874ca610cbd",correct:`Spustitelný soubor
Spustitelné soubory představují programy v klidu (tzn. ve stavu, kdy nejsou spuštěné) a obsahují veškeré
informace, které jsou potřeba k tomu, aby bylo možné v nich obsažený program spustit. Hlavní část
spustitelného souboru je tvořena počátečním obrazem paměti, podle kterého se při spuštění programu
(v POSIX-u voláním exec v již existujícím procesu) inicializuje virtuální adresní prostor`,incorrect:`Spustitelný soubor
Spustitelné soubory představují jak programy v klidu tak i ty spuštěné a obsahují veškeré
informace, které jsou potřeba k tomu, aby bylo možné v nich obsažený program probíhat. Hlavní část
spustitelného souboru je tvořena počátečním obrazem paměti, podle kterého se při spuštění programu
(v POSIX-u voláním exec v již existujícím procesu) inicializuje virtuální adresní prostor`},{uuid:"afd4bd6a-a693-4355-ae0b-dbbd445dbe3e",correct:`Roura
Roury se podobají na obyčejné soubory v tom, že je možné do nich zapisovat a číst z nich
data (bajty). Ve většině případů data jeden program (proces) zapisuje a jiný je čte – na rozdíl od
obyčejného souboru nejsou tato data nikde trvale uložena – z roury zmizí jakmile jsou přečtena.
S rourou je samozřejmě svázán buffer, ale je uložen pouze v operační paměti. Díky tomu lze do roury data
zapisovat i ve chvíli, kdy je právě druhá strana nečte – operační systém zapsaná data dočasně uchová.
Za normálních okolností je roura anonymní a přístupná pouze skrze popisovače otevřených souborů.`,incorrect:`Roura
Roury se podobají na obyčejné soubory v tom, že je možné do nich zapisovat a číst z nich
data (bajty). Ve většině případů data jeden program (proces) zapisuje a jiný je čte – na rozdíl od
obyčejného souboru nejsou tato data nikde trvale uložena – z roury zmizí po čase určeném speciálním registrem.
S rourou je samozřejmě svázán buffer, ale je uložen pouze v operační paměti. Díky tomu lze do roury data
zapisovat i ve chvíli, kdy je právě druhá strana nečte – operační systém zapsaná data dočasně uchová.
Za normálních okolností je roura anonymní a přístupná pouze skrze popisovače otevřených souborů.`},{uuid:"c1d42a11-ffcb-4708-b183-00fb0bf9ac09",correct:`Tvrdé odkazy
Jasným důsledkem výše popsané organizace složek je existence tzv. tvrdých odkazů
– situace, kdy několik adresářových položek (v jedné nebo několika složkách) odkazuje tutéž entitu
(i-uzel). Všechny odkazy na tentýž soubor jsou zcela rovnocenné a z pohledu uživatele se pouze tentýž
soubor objevuje na různých místech adresářové struktury.
I-uzly si navíc udržují počítadlo odkazů – samotný soubor (i-uzel) je zničen pouze v případě, kdy toto
počítadlo dojde na nulu. To mimo jiné znamená, že odstraněním adresářové položky (angl. unlinking) může,
ale nemusí způsobit smazání souboru.`,incorrect:`Tvrdé odkazy
Jasným důsledkem výše popsané organizace složek je existence tzv. tvrdých odkazů
– situace, kdy několik adresářových položek (v jedné nebo několika složkách) odkazuje tutéž entitu
(i-uzel). Existuje jeden hlavní a poté libovolný počet jiných odkazu, ale z pohledu uživatele se pouze tentýž
soubor objevuje na různých místech adresářové struktury.
I-uzly si navíc udržují počítadlo odkazů – samotný soubor (i-uzel) je zničen pouze v případě, kdy toto
počítadlo dojde na nulu. To mimo jiné znamená, že odstraněním adresářové položky (angl. unlinking) může,
ale nemusí způsobit smazání souboru.`},{uuid:"b8eca577-525e-447c-a77c-a829e277820a",correct:`Měkké odkazy
Občas je užitečné odkazovat soubor nikoliv přímo, ale skrze nějakou cestu která
k němu vede. Toho lze dosáhnout tzv. měkkým odkazem: tento je (na rozdíl od tvrdého odkazu) skutečným
objektem v souborovém systému, který je reprezentován samostatným i-uzlem. Narazí-li při procházení
adresářové struktury (zejména při hledání i-uzlů podle cesty) operační systém přečte cestu obsaženou
v tomto měkkém odkazu a ve vyhledávání pokračuje touto cestou.`,incorrect:`Měkké odkazy
Občas je užitečné odkazovat soubor nikoliv přímo, ale skrze nějakou cestu která
k němu vede. Toho lze dosáhnout tzv. měkkým odkazem: tento je (na rozdíl od tvrdého odkazu) skutečným
objektem v souborovém systému, který ale není reprezentován i-uzlem. Narazí-li při procházení
adresářové struktury (zejména při hledání souborů podle cesty) operační systém přečte cestu obsaženou
v tomto měkkém odkazu a ve vyhledávání pokračuje touto cestou.`},{uuid:"b891b0c1-18d1-470d-8f3d-a12db78e7c33",correct:`Bitmapa 
V souborových systémech se využívá několik velmi jednoduchých datových struktur, které
jsou díky své jednoduchosti zároveň relativně robustní. Asi nejjednodušší strukturou tohoto typu je
bitmapa, která se používá k mapování využitých resp. volných bloků nebo řádků v tabulkách (přiblížíme
si za chvíli).
Bitmapa udržuje informaci o lineárním sledu bloků a informace o jednotlivém bloku se omezuje na jediný
bit (obvykle právě ona využitost).`,incorrect:`Bitmapa 
V souborových systémech se využívá několik velmi jednoduchých datových struktur, které
jsou díky své jednoduchosti zároveň relativně robustní. Asi nejjednodušší strukturou tohoto typu je
bitmapa, která se používá k mapování využitých resp. volných bloků nebo řádků v tabulkách (přiblížíme
si za chvíli).
Bitmapa udržuje informaci o lineárním sledu bloků a informace o jednotlivém bloku se omezuje na jediný
bajt.`},{uuid:"f4147fd5-5a01-416c-b02d-9603fe1c85bd",correct:`Tabulka
Bitmapa je sice jednoduchá a rychlá, neumí ale uchovat příliš mnoho zajímavých informací.
O něco málo složitější datovou strukturou je tabulka, která v podstatě odpovídá klasickému poli:
1. je to souvislá oblast fixně velkých struktur (řádků, položek), zvolených tak, aby se jich do jednoho
bloku vešel celočíselný počet (vyhovuje například velikost jednoho řádku 128 nebo 256 bajtů),
2. alokace položek se provede např. bitmapou (určuje které řádky jsou resp. nejsou použité, aby bylo
v případě potřeby možné rychle najít řádek, do kterého můžeme zapsat novou položku),
3. chceme-li se do takové tabulky odkázat (např. proto, že se jedná o tabulku záznamů o souborech),
stačí nám znát číslo řádku (index).`,incorrect:`Tabulka
Bitmapa je sice jednoduchá a rychlá, neumí ale uchovat příliš mnoho zajímavých informací.
O něco málo složitější datovou strukturou je tabulka, která v podstatě odpovídá klasickému poli:
1. je to souvislá oblast fixně velkých struktur (řádků, položek), libovolné velikosti.
2. alokace položek se provede např. bitmapou (určuje které řádky jsou resp. nejsou použité, aby bylo
v případě potřeby možné rychle najít řádek, do kterého můžeme zapsat novou položku),
3. chceme-li se do takové tabulky odkázat (např. proto, že se jedná o tabulku záznamů o souborech),
stačí nám znát číslo řádku (index).`},{uuid:"8ddf271d-ffab-4a77-8be6-0c0b89356eee",correct:`Konzistence
Důležitým problémem souborového systému je udržení konzistence metadat (jak
různých typů nebo složek metadat mezi sebou, tak se samotnými daty). Porušení konzistence může být
trojího typu:
1. narušení jednotlivé datové struktury, např.
∘ B-strom obsahuje uzel, který ve skutečnosti není platným uzlem, např. proto, že nový odkaz byl
zapsán dříve, než odkazovaný uzel,
2. konfliktní informace v různých datových strukturách, např.:
∘ bitmapa označuje řádek tabulky za volný, ale tento je zároveň vyplněn smysluplnými metadaty, nebo
∘ datový blok je označený jako volný (v bitmapě nebo B-stromě), ale zároveň je odkazován jako
součást nějakého souboru,
3. nesoulad mezi metadaty a datovými bloky – např.
∘ podle metadat je vlastníkem souboru uživatel B, ale odkazované datové bloky obsahují data uživatele
A`,incorrect:`Konzistence
Důležitým problémem souborového systému je udržení konzistence metadat (jak
různých typů nebo složek metadat mezi sebou, tak se samotnými daty). K porušení konzistence nemůže dojít.`},{uuid:"0a41d340-11a3-490f-8371-0895b56aa233",correct:`Existují dva hlavní důvody, proč by mohlo dojít  k porušení konzistence u datových struktur:
1. přerušením kritické operace, která provádí více souvisejících změn, např. výpadkem napájení, nebo
kritickou chybou („pádem“) celého systému,
2. i v případě, kdy je souborový systém vůči takovému přerušení robustní, tato jeho vlastnost může být
narušena přeuspořádáním zápisů (plánovačem nebo samotným zařízením).
Existuje několik metod, jak se s problémem vypořádat. Jednou je detekce problému (např. příznakem,
který se zapíše při korektním ukončení operačního systému) a následná křížová kontrola všech metadat
v situaci, kdy mohlo k poškození teoreticky dojít. Tato kontrola může a nemusí být schopna souborový
systém vrátit do konzistentního stavu (v závislosti na rozsahu resp. povaze poškození).`,incorrect:`Existují dva hlavní důvody, proč by mohlo dojít  k porušení konzistence u datových struktur:
1. přerušením kritické operace, která provádí více souvisejících změn, např. výpadkem napájení, nebo
kritickou chybou („pádem“) celého systému,
2. i v případě, kdy je souborový systém vůči takovému přerušení robustní, tato jeho vlastnost může být
narušena přeuspořádáním zápisů (plánovačem nebo samotným zařízením).
Existuje několik metod, jak se s problémem vypořádat. Jednou je detekce problému (např. příznakem,
který se zapíše při korektním ukončení operačního systému) a následná křížová kontrola všech metadat
v situaci, kdy mohlo k poškození teoreticky dojít. Tato kontrola je vždy schopna souborový
systém vrátit do konzistentního stavu.`},{uuid:"efbe938e-3a55-4c45-b29e-ed47b1230e72",correct:`Žurnál
Oproti klasickým metadatům souborového systému má žurnál jednoduchou strukturu – záznamy jsou na
disku uloženy sekvenčně (obvykle „do kruhu“ – nový záznam přepíše nejstarší, už neplatný, záznam). Tato
struktura je velmi robustní, jak vůči nahodilému přerušení, tak proti typickým vzorům přeuspořádání.
Záznamy v žurnálu jsou obvykle seskupeny do transakcí (podobných těm, které znáte z relačních databázových systémů),
které mohou sestávat z několika provázaných operací. Změny v metadatech se začnou na
pevné úložiště posílat až ve chvíli, kdy je transakce ukončena a je potvrzen zápis příslušných položek
v žurnálu. Transakce, která není ukončená, se při obnově přeskočí, čím je zabezpečeno, že se ve výsledku
provede buď celá, nebo vůbec.`,incorrect:`Žurnál
Oproti klasickým metadatům souborového systému má žurnál jednoduchou strukturu – záznamy jsou na
disku uloženy sekvenčně (obvykle „do kruhu“ – nový záznam přepíše nejstarší, už neplatný, záznam). Tato
struktura je velmi robustní, jak vůči nahodilému přerušení, tak proti typickým vzorům přeuspořádání.
Záznamy v žurnálu jsou obvykle seskupeny do transakcí (podobných těm, které znáte z relačních databázových systémů),
které mohou sestávat z několika provázaných operací. Změny v metadatech se začnou na
pevné úložiště posílat hned jak je transakce zahájena. Transakce, která není ukončená,
se při obnově přeskočí, čím je zabezpečeno, že se ve výsledku provede buď celá, nebo vůbec.`},{uuid:"7ab0725e-3dee-4109-ad98-f8f143cafbc2",correct:`Žurnál
Přerušená operace na datové struktuře může vést k nejednoznačnému stavu, kdy lze datovou strukturu
opravit více než jedním způsobem. Žurnál tento problém řeší tím, že existuje záznam o tom, jaká operace
probíhala a tedy je možné ji na základě této informace dokončit. Zároveň není potřeba kontrolovat resp.
opravovat konzistenci všech datových struktur (to může ve velkém souborovém systému trvat dlouhou
dobu), ale pouze těch (resp. těch jejich částí), kterých se dotýkají operace zanesené v žurnálu.`,incorrect:`Žurnál
Přerušená operace na datové struktuře může vést k nejednoznačnému stavu, kdy lze datovou strukturu
opravit více než jedním způsobem. Žurnál tento problém řeší tím, že existuje záznam o tom, jaká operace
probíhala a tedy je možné ji na základě této informace dokončit. Je ale nutné kontrolovat resp.
opravovat konzistenci všech datových struktur (to může ve velkém souborovém systému trvat dlouhou
dobu), toto není nutné pouze u těch (resp. těch jejich částí), kterých se dotýkají operace zanesené v žurnálu.`},{uuid:"70133ce5-aa87-4149-bea9-9f14959e477b",correct:`Funkcionální metadata
inou možností jak předejít nekonzistenci je uspořádat metadata tak, že
použité datové struktury nebudeme na místě upravovat vůbec. Podobně jako ve funkcionálním programování
můžeme místo úpravy existující struktury vytvořit její novou verzi. Přitom využijeme toho, že nezměněné
části můžeme z nové verze odkázat – nemusíme tedy kopírovat celou datovou strukturu.
Takovému přístupu musí být ale příslušná datová struktura uzpůsobena – vhodné jsou zejména stromové
struktury (v souborových systémech tedy především B-stromy), kde změna v libovolném uzlu znamená
vytvoření nové verze tohoto uzlu a jeho předků (v předcích totiž nemůžeme upravit ukazatel na potomka
– to by narušilo princip neměnnosti staré verze), přitom ve vyváženém stromě je takových nejvýše
logaritmický počet. Všechny ostatní uzly ale zůstávají nezměněné.
`,incorrect:`Funkcionální metadata
inou možností jak předejít nekonzistenci je uspořádat metadata tak, že
použité datové struktury nebudeme na místě upravovat vůbec. Podobně jako ve funkcionálním programování
můžeme místo úpravy existující struktury vytvořit její novou verzi. Přitom využijeme toho, že nezměněné
části můžeme z nové verze odkázat – nemusíme tedy kopírovat celou datovou strukturu.
Takovému přístupu musí být ale příslušná datová struktura uzpůsobena – vhodné jsou zejména tabulky nikoliv stromové struktury, kde změna v libovolném uzlu znamená
vytvoření nové verze tohoto uzlu a jeho předků.
`},{uuid:"8df310b2-d21c-43fe-ae26-53806f73b986",correct:`Prázdné místo
Jsme tedy konečně vyzbrojeni datovými strukturami vhodnými pro použití v souborovém systému a můžeme se blíže podívat na jejich konkrétní využití.
Prvním úkolem bude organizace volných bloků, do kterých lze uložit nově příchozí data (např. proto, že
uživatel vytvořil nový soubor, přidal data do existujícího, ale třeba i proto, že vytvořil novou složku).
Vyhledání vhodného datového bloku je častá operace, musí být proto efektivní – jak samotné nalezení,
tak poznačení informace o tom, že vybraný blok (resp. bloky) již nejsou volné.
`,incorrect:`Prázdné místo
Jsme tedy konečně vyzbrojeni datovými strukturami vhodnými pro použití v souborovém systému a můžeme se blíže podívat na jejich konkrétní využití.
Prvním úkolem bude organizace volných bloků, do kterých lze uložit nově příchozí data (např. proto, že
uživatel vytvořil nový soubor, přidal data do existujícího, ale třeba i proto, že vytvořil novou složku).
Vyhledání vhodného datového bloku je častá operace, musí být proto efektivní platí hlavně pro nalezení takového bloku.
Poznačení informace o tom, že vybraný blok (resp. bloky) již nejsou volné nejsou prováděny často, tedy efektivní být nemusí.
`},{uuid:"fdc68354-e0e6-48c9-88be-a9f7e328470d",correct:`Externí a datová fragmentace
Ukládání strukturovaných dat do nestrukturovaného pole bajtů
vyžaduje vždy určité kompromisy. Jedním z nich je efektivita využití kapacity – ukládání dat více natěsno
většinou vede k pomalejším operacím a složitějším metadatům.
V případě souborů se musíme vypořádat jednak se situací, kdy se postupným vytvářením a mazáním souborů
prázdné místo rozptýlí mezi alokované bloky. Při vytváření nových souborů to znamená pracnější hledání
volných bloků, protože je nutné potřebné místo „slepit“ z několika nesouvislých oblastí (fragmentů).
Tím se jednak zvětšují potřebná metadata (průměrná délka spojitého rozsahu klesá) a zároveň dochází
k roztroušení – fragmentaci – samotných dat, která jsou do takto alokovaného souboru uložena. Přístup
k takovým souborům je pak méně efektivní, protože s každým skokem z jedné spojité oblasti do jiné je
spojena prodleva (daná povahou blokových zařízení).
`,incorrect:`Externí a datová fragmentace
Ukládání strukturovaných dat do nestrukturovaného pole bajtů
vyžaduje vždy určité kompromisy. Jedním z nich je efektivita využití kapacity – ukládání dat více natěsno
většinou vede k pomalejším operacím a složitějším metadatům.
V případě souborů se musíme vypořádat jednak se situací, kdy se postupným vytvářením a mazáním souborů
prázdné místo rozptýlí mezi alokované bloky. Při vytváření nových souborů to znamená pracnější hledání
volných bloků, protože je nutné potřebné místo „slepit“ z několika nesouvislých oblastí (fragmentů).
Tím se jednak zvětšují potřebná metadata (průměrná délka spojitého rozsahu klesá) a zároveň dochází
k roztroušení – fragmentaci – samotných dat, která jsou do takto alokovaného souboru uložena. Přístup
k takovým souborům je asymptoticky stejně efektivní, protože takovýto přístup je realizovaný přes tvrdé odkazy.
`},{uuid:"870cb4b0-c517-48ea-be43-6d9253df8b4c",correct:`Obyčejné soubory 
Tradiční reprezentace obyčejného souboru na disku odkazuje každý datový
blok samostatně, pomocí krátké tabulky uvnitř i-uzlu (u větších souborů rozšířené pomocnými tabulkami
v tzv. nepřímých blocích). Běžným zlepšením je místo odkazu na jeden blok odkazovat celý spojitý rozsah
datových bloků (angl. extent). Hlavní nevýhodou tohoto přístupu je, že vyhledání bloku podle adresy
bajtu (offsetu) je v takto organizovaných metadatech lineární vzhledem k délce takové tabulky.`,incorrect:`Obyčejné soubory 
Tradiční reprezentace obyčejného souboru na disku odkazuje každý datový
blok samostatně, pomocí krátké tabulky uvnitř i-uzlu (u větších souborů rozšířené pomocnými tabulkami
v tzv. nepřímých blocích). Běžným zlepšením je místo odkazu na jeden blok odkazovat celý spojitý rozsah
datových bloků (angl. extent). Tímto zajistíme že vyhledání bloku podle adresy
bajtu (offsetu) je v takto organizovaných metadatech konstantí.`},{uuid:"e32886a8-4988-4de6-890e-b98f15b30966",correct:`Vnitřní fragmentace
Vnitřní fragmentace je způsobena zarovnáním – některé operace jsou
mnohem efektivnější, když každý soubor začíná na hranici bloku, a tedy je pro něj alokován bloků
celočíselný počet. Protože mají ale soubory libovolnou velikost, často je na konci souboru nějaké
nevyužité místo. Toto nevyužité místo představuje režii – neobsahuje žádná užitečná data. Jinými slovy
je na většiny souborů malý fragment paměti který nelze využít (protože je menší než nejmenší možná
velikost souboru – jeden blok).`,incorrect:`Vnitřní fragmentace
Vnitřní fragmentace je způsobena zarovnáním – některé operace jsou
mnohem efektivnější, když každý soubor začíná na hranici bloku, a tedy je pro něj alokován bloků
celočíselný počet. Protože mají ale soubory libovolnou velikost, často je na konci souboru nějaké
nevyužité místo. Toto nevyužité místo lze spojit pomocí vnější fragmentace v blok, který již využitelný bude.`},{uuid:"cef58fb5-ca16-4f4b-abef-15c80b26e922",correct:`Adresáře
Existují tři základní možnosti, jak v souborovém systému reprezentovat složky:
1. Klasické → hledání podle jména a odstranění položky jsou lineární operace, vkládání je naopak
konstantní – takový přístup funguje dobře pro malé složky, ale protože souborový systém nemůže
obecně předvídat, kolik položek bude mít daný adresář, tato organizace se spíše nepoužívá.
2. Hašované → položky jsou uloženy v hašovací tabulce a jsou tedy „pravděpodobně“ konstantní – přesné
chování záleží na hašovací funkci a výběru jmen. Iterace vrací položky ve zdánlivě náhodném pořadí.
3. Stromové → položky jsou uloženy jako B-strom, jména položek jsou klíče – všechny operace jsou
zaručeně logaritmické a iterace vrací položky seřazené podle jména.
`,incorrect:`Adresáře
Existují tři základní možnosti, jak v souborovém systému reprezentovat složky:
1. Klasické → hledání podle jména a odstranění položky jsou lineární operace, vkládání je naopak
konstantní – takový přístup funguje dobře pro malé složky, a proto je i nejčastěji používaný.
2. Hašované → položky jsou uloženy v hašovací tabulce a jsou tedy „pravděpodobně“ konstantní – přesné
chování záleží na hašovací funkci a výběru jmen. Iterace vrací položky ve zdánlivě náhodném pořadí.
3. Stromové → položky jsou uloženy jako B-strom, jména položek jsou klíče – všechny operace jsou
zaručeně logaritmické, ale nelze je vracet jako seřazené.
`}]},{uuid:"33155a93-c51e-49a2-9edc-36100f100cf7",title:"Část 4: Virtualizate periférií",statements:[{uuid:"0e86da29-65b6-4d7e-bdbd-e38f172fee74",correct:`Periferie
Zařízení, které produkuje a konzumuje data, případně události. Komunikace
v malém objemu se obvykle realizuje mapováním registrů zařízení na fyzické adresy. Pozor, je zde
důležitý rozdíl proti operační paměti: hodnoty se „samovolně“ (bez účasti hlavního procesoru, a tedy i
operačního systému) mění v čase – takovou změnu lze považovat za událost.`,incorrect:`Periferie
Zařízení, které produkuje a konzumuje data, případně události. Komunikace
v malém objemu se obvykle realizuje mapováním registrů zařízení na fyzické adresy. Pozor, je zde
důležitý rozdíl proti operační paměti: hodnoty se s vzájemnou účastí procesoru a
operačního systém mění v čase – takovou změnu lze považovat za událost.`},{uuid:"3f2eb488-8dd9-41ac-8a52-8290ab8aec16",correct:`Programovaný vstup/výstup (PIO)
Nejjednodušší metodou komunikace se zařízením je přenos dat
postupným čtením z paměti (registrů) zařízení (již zmiňovaným mapováním paměti zařízení na fyzické
adresy procesoru). Je-li tato činnost prováděna hlavním procesorem, mluvíme o tzv. „programovaném“
vstupu resp. výstupu (angl. programmed IO, PIO).
Tento způsob komunikace tedy vyžaduje aktivní účast procesoru v stanovených časových intervalech
(podle přenosové rychlosti, velikosti vyrovnávací paměti, atp.). Tato metoda je použitelná pro občasné
přenosy a/nebo přenosy s velmi malou šířkou pásma (počtem bajtů přenesených za sekundu). Při větších
objemech dat vede tento způsob komunikace k příliš vysoké režii.`,incorrect:`Programovaný vstup/výstup (PIO)
Nejjednodušší metodou komunikace se zařízením je přenos dat
postupným čtením z paměti (registrů) zařízení (již zmiňovaným mapováním paměti zařízení na fyzické
adresy procesoru). Je-li tato činnost prováděna hlavním procesorem, mluvíme o tzv. „programovaném“
vstupu resp. výstupu (angl. programmed IO, PIO).
Tento způsob komunikace tedy nevyžaduje aktivní účast procesoru. Tato metoda je použitelná pro občasné
přenosy a/nebo přenosy s velmi malou šířkou pásma (počtem bajtů přenesených za sekundu). Při větších
objemech dat vede tento způsob komunikace k příliš vysoké režii.`},{uuid:"5026943e-8e5f-47db-a0fa-7a597b7a0d0f",correct:` Přímý přístup do paměti (DMA)
Zdaleka nejčastějším cílem přenosu dat z periferie je jejich uložení do operační paměti – další
zpracování zpravidla musí vyčkat do doby, než je v operační paměti nějaký kompletní celek (blok, rámec,
atp.).
Asynchronní přenos dat (bez účasti procesoru, resp. bez účasti softwaru) může být realizován dvěma
základními metodami:
1. dedikovaným pomocným procesorem, který od hlavního procesoru přijímá pokyny na provedení přenosu
(z jaké periferie, na jakou adresu v operační paměti, kolik bajtů, případně opačně, z jaké adresy
v operační paměti a jaké periferii), a který je de-facto součástí sběrnice,
2. přenos je řízen přímo periferií (na základě podobného pokynu od hlavního procesoru).
Výhodou první metody je, že periferie nemusí nijak rozlišovat DMA a PIO režimy přenosu dat a může být
tedy jednodušší. Druhá metoda je obvykle efektivnější a v moderních systémech mnohem běžnější.
`,incorrect:` Přímý přístup do paměti (DMA)
Zdaleka nejčastějším cílem přenosu dat z periferie je jejich uložení do operační paměti – další
zpracování zpravidla musí vyčkat do doby, než je v operační paměti nějaký kompletní celek (blok, rámec,
atp.).
Asynchronní přenos dat (bez účasti procesoru, resp. bez účasti softwaru) může být realizován dvěma
základními metodami:
1.  přenos je řízen přímo periferií (na základě podobného pokynu od hlavního procesoru).
2. dedikovaným pomocným procesorem, který od hlavního procesoru přijímá pokyny na provedení přenosu
(z jaké periferie, na jakou adresu v operační paměti, kolik bajtů, případně opačně, z jaké adresy
v operační paměti a jaké periferii), a který je de-facto součástí sběrnice
Výhodou první metody je, že periferie nemusí nijak rozlišovat DMA a PIO režimy přenosu dat a může být
tedy jednodušší. Druhá metoda je obvykle efektivnější a v moderních systémech mnohem běžnější.
`},{uuid:"f6a5adcd-e298-40b7-a9a7-726ae7c37693",correct:` Je důležité rozlišovat přímý přístup do paměti (komunikuje periferie a operační paměť, bez účasti
procesoru) a mapování paměti zařízení do fyzického adresního prostoru (komunikuje procesor s periferií,
bez účasti operační paměti).`,incorrect:` Je důležité rozlišovat přímý přístup do paměti (komunikuje periferie a operační paměť, bez účasti
procesoru) a mapování paměti zařízení do fyzického adresního prostoru (komunikuje procesor s periferií za pomocí operační paměti).`},{uuid:"0564ce3c-6053-4a36-a4a0-821ad39a8df2",correct:`IO-MMU
Přestože pro zařízení, které přenáší velké objemy dat (pevná úložiště, síťová rozhraní,
atp.), je DMA nepostradatelné, jsou s ním spojeny určitá bezpečnostní rizika. V klasické implementaci
DMA má totiž každá periferie neomezený přístup do fyzické paměti – operační systém sice dává periferii
pokyn, které fyzické adresy má použít, ale nemá jak vynutit, aby periferie takový pokyn dodržela.
V takovém systému tedy periferiím tedy nic tedy nebrání v tom libovolně upravovat obsah paměti –
například i přepsat kód jádra a získat tak plnou kontrolu nad systémem. Toto se týká nejen případných
podvratných periferií, ale i ovladačů, které mohou jinak nevinnou periferii naprogramovat tak, aby
narušila bezpečnost systému.
Toto je jistě nežádoucí, zejména chceme-li izolovat ovladače od zbytku jádra, nebo v případech, kdy
samotná periferie není nutně důvěryhodná. IO-MMU je zařízení, které tento problém řeší, a to tím, že
realizuje překlad adres pro periferie (podobně jako MMU realizuje překlad adres pro software). IO-MMU
je programovatelná operačním systémem (a pouze operačním systémem) a umožňuje tedy izolovat periferie
jak vzájemně, tak od operačního systému a softwaru obecně. Je-li IO-MMU správně naprogramovaná, je
DMA bezpečné.`,incorrect:`IO-MMU
Přestože pro zařízení, které přenáší velké objemy dat (pevná úložiště, síťová rozhraní,
atp.), je DMA nepostradatelné, jsou s ním spojeny určitá bezpečnostní rizika. V klasické implementaci
DMA má totiž každá periferie neomezený přístup do fyzické paměti – operační systém sice dává periferii
pokyn, které fyzické adresy má použít, ale nemá jak vynutit, aby periferie takový pokyn dodržela.
V takovém systému tedy periferiím tedy nic tedy nebrání v tom libovolně upravovat obsah paměti –
například i přepsat kód jádra a získat tak plnou kontrolu nad systémem. Toto se týká nejen případných
podvratných periferií, ale i ovladačů, které mohou jinak nevinnou periferii naprogramovat tak, aby
narušila bezpečnost systému.
Toto je jistě nežádoucí, zejména chceme-li izolovat ovladače od zbytku jádra, nebo v případech, kdy
samotná periferie není nutně důvěryhodná. IO-MMU je zařízení, které tento problém řeší, a to tím, že
realizuje překlad adres pro periferie (podobně jako MMU realizuje překlad adres pro software). IO-MMU
není programovatelná za normálních podmínek, pouze při konstrukci zařízení`},{uuid:"8c710d40-d39c-4371-b4f4-ec2296a34b35",correct:`Sběrnice 
Má dvě základní vrstvy:
1. fyzickou, která odpovídá za signalizaci a časování a
2. logickou (protokolovou), která popisuje chování zařízení na sběrnici na vyšší úrovni – adresaci,
konfiguraci zařízení, přenosy dat atp.
Sběrnic existuje v počítači celá řada a jsou vzájemně propojené. Ta strana sběrnice, která je blíže
hlavnímu procesoru, se obvykle nazývá hostitelská.`,incorrect:`Sběrnice 
Má dvě základní vrstvy:
1. fyzickou, která odpovídá za enumeraci
2. logickou (protokolovou), která popisuje chování zařízení na sběrnici na vyšší úrovni – adresaci,
konfiguraci zařízení, přenosy dat atp.
Sběrnic existuje v počítači celá řada a jsou vzájemně propojené. Ta strana sběrnice, která je blíže
hlavnímu procesoru, se obvykle nazývá hostitelská.`},{uuid:"fd01c97c-fd94-4c27-98bb-84fa960671d6",correct:`Sběrnice
Hlavním úkolem sběrnice je přenos dat (a s tím související adresace) a signalizace událostí, vedlejším
pak konfigurace a enumerace připojených periferií. Má-li řadič sběrnice přidělen rozsah fyzických adres,
je také jeho úkolem tento dále rozdělit mezi připojené periferie (včetně podružných řadičů dalších
sběrnic).`,incorrect:`Sběrnice
Hlavním úkolem sběrnice je přenos dat (a s tím související adresace) a signalizace událostí, vedlejším
pak konfigurace a enumerace připojených periferií. Má-li řadič sběrnice přidělen rozsah fyzických adres,
je také jeho úkolem tuto informaci sdělit procesoru.`},{uuid:"1f186295-d010-457e-81aa-b5c52ccc77a9",correct:`Ovladač
Jakmile je známý konkrétní typ zařízení, komunikaci s ním převezme ovladač – program,
který poskytuje softwarovou abstrakci dané třídy zařízení zbytku operačního systému (a nepřímo i
aplikacím).
Na jedné straně komunikuje ovladač se zbytkem operačního systému (pomocí vhodného rozhraní, které je
ale obvykle specifické pro daný operační systém), na straně druhé komunikuje s konkrétním fyzickým
zařízením (které je zase často specifické pro daný model, nebo alespoň modelovou řadu).
Připomínáme zde, že komunikace probíhá čtením a zápisem dat, a zpracování takových dat není nic jiného
než výpočet`,incorrect:`Ovladač
Jakmile je známý konkrétní typ zařízení, komunikaci s ním převezme ovladač – program,
který převezme kontrolu nad jádrem a následně spustí komunikaci s operačním systémem
Na jedné straně komunikuje ovladač se zbytkem operačního systému (pomocí vhodného rozhraní, které je
ale obvykle specifické pro daný operační systém), na straně druhé komunikuje s konkrétním fyzickým
zařízením (které je zase často specifické pro daný model, nebo alespoň modelovou řadu).
Připomínáme zde, že komunikace probíhá čtením a zápisem dat, a zpracování takových dat není nic jiného
než výpočet`},{uuid:"c2a9fc89-eadd-4fbb-b845-106b25a63efc",correct:`Ovladač
Hlavním úkolem ovladače je:
1. zpracování příchozích dat do formy, která je přijatelná pro zbytek systému (tzn. do formy nezávislé
na konkrétním modelu zařízení),
2. převod dat příchozích ze systému (které jsou ve formě nezávislé na konkrétním zařízení) do formy,
kterou umí daná periferie zpracovat,
3. to vše v reakci na události – buď požadavky ze systému na periferii, nebo naopak.
Data v tomto případě nemusí být pouze užitná data (bloky uložené na disku, rámce přijímané nebo odesílané
síťovým rozhraním, atp.), ale také řídící data, která ovlivňují jak se bude zařízení chovat, nebo přímo
aktivují další funkce zařízení (jiné, než je samotný přenos užitných dat).`,incorrect:`Ovladač
Hlavním úkolem ovladače je:
1. zpracování příchozích dat do formy, kterou může předat sběrnici a ta data přeložit.
kterou umí daná periferie zpracovat.
2. převod dat příchozích ze systému (které jsou ve formě nezávislé na konkrétním zařízení) do formy,
kterou umí daná periferie zpracovat,
3. to vše v reakci na události – buď požadavky ze systému na periferii, nebo naopak.
Data v tomto případě nemusí být pouze užitná data (bloky uložené na disku, rámce přijímané nebo odesílané
síťovým rozhraním, atp.), ale také řídící data, která ovlivňují jak se bude zařízení chovat, nebo přímo
aktivují další funkce zařízení (jiné, než je samotný přenos užitných dat).`},{uuid:"734ca848-f130-4418-8805-73a06860450e",correct:`Tiskárny
1. virtualizace – jak tiskárnu sdílet mezi programy – tento problém je analogický k problému plánováni
úloh v dávkových systémech, a má i analogické řešení: frontu úloh ke zpracování,
2. abstrakce – jak zahladit rozdíly mezi jednotlivými tiskárnami tak, aby byly z pohledu programu podle
možnosti záměnné.
Řešení druhého bodu je trochu složitější, a některé aspekty tiskáren nelze úplně v aplikacích ignorovat
(černobílý vs barevný tisk, jednostranný vs oboustranný, atp.). Částečným řešením je použití společného
formátu pro popis dokumentů k tisku, přičemž operační systém již zařídí konverzi do formátu, který
tiskárna akceptuje. Starším standardem tohoto typu je PostScript, novějším PDF. Některé tiskárny
podporují tisk dokumentů v těchto formátech přímo, bez potřeby dalšího zpracování v operačním systému.
Z pohledu aplikace může mít tedy virtuální tiskárna jako svou hlavní operaci vložení dokumentu ve formátu
PDF do tiskové fronty`,incorrect:`Tiskárny
1. virtualizace – jak tiskárnu sdílet mezi programy – tento problém je analogický k problému plánováni
úloh v dávkových systémech, a má i analogické řešení: frontu úloh ke zpracování,
2. abstrakce – jak zahladit rozdíly mezi jednotlivými tiskárnami tak, aby byly z pohledu programu podle
možnosti záměnné.
Řešení druhého bodu je trochu složitější, a některé aspekty tiskáren nelze úplně v aplikacích ignorovat
(černobílý vs barevný tisk, jednostranný vs oboustranný, atp.). Částečným řešením je použití společného
formátu pro popis dokumentů k tisku, přičemž operační systém již zařídí konverzi do formátu, který
tiskárna akceptuje. Starším standardem tohoto typu je PostScript, novějším NewScript. Některé tiskárny
podporují tisk dokumentů v těchto formátech přímo, bez potřeby dalšího zpracování v operačním systému.
Z pohledu aplikace může mít tedy virtuální tiskárna jako svou hlavní operaci vložení dokumentu ve formátu
NewScript do tiskové fronty`},{uuid:"66ecc093-7379-4922-86f3-696aa9177412",correct:`Síťové vrstvy
1. fyzická – záležitost hardwaru, má ale dopad na vyšší vrstvy,
2. linková – tvoří faktické rozhraní mezi hardwarem a softwarem (operačním systémem),
3. síťová – na koncových stanicích řeší převážně software (operační systém), jejím úkolem je zabezpečit
komunikaci mezi koncovými uzly (resp. mezi operačními systémy na nich provozovanými),
4. transportní doručuje data mezi aplikacemi: tvoří rozhraní mezi operačním systémem a aplikací, a je
tak přirozeným místem pro virtualizaci,
5. a vyšší: záležitost aplikací, staví na virtualizaci poskytované 4. vrstvou.`,incorrect:`Síťové vrstvy
1. fyzická – záležitost hardwaru, má ale dopad na vyšší vrstvy
2. síťová – na koncových stanicích řeší převážně software (operační systém), jejím úkolem je zabezpečit
komunikaci mezi koncovými uzly (resp. mezi operačními systémy na nich provozovanými)
3. , linková – tvoří faktické rozhraní mezi hardwarem a softwarem (operačním systémem)
4. transportní doručuje data mezi aplikacemi: tvoří rozhraní mezi operačním systémem a aplikací, a je
tak přirozeným místem pro virtualizaci
5. a vyšší: záležitost aplikací, staví na virtualizaci poskytované 4. vrstvou.`},{uuid:"ccba70bc-8d6b-49d7-93bd-9fa65e6c6983",correct:`Odchozí fronta
Potřebuje-li operační systém odeslat paket (rámec) do sítě, přidá je na konec
tzv. odchozí fronty (angl. transmit queue, Tx queue). Z této fronty je vyzvedne hardware a jakmile je
to možné, provede fyzický přenos. Odchozí fronta funguje přibližně takto:
1. každá odchozí fronta (může jich existovat několik) má přiřazenu dvojici registrů mapovaných do
fyzického adresního prostoru: jeden reprezentuje hlavový ukazatel a ten druhý koncový (angl. head a
tail),
2. tyto ukazatele popisují kruhovou frontu pevné velikosti, uloženu v operační paměti, ke které síťové
rozhraní přistupuje za pomoci DMA; každá položka (buňka) této kruhové fronty reprezentuje jeden
rámec,
3. ukazatele dělí frontu na dvě části – jedna patří rozhraní a jedna operačnímu systému,
4. operační systém (resp. ovladač síťového rozhraní) upravuje koncový ukazatel:
a. pro odeslání rámce pro něj operační systém nejprve vyhradí paměť a uloží do ni obsah rámce (data),
b. zapíše příslušnou adresu a velikost do své části kruhové fronty,
c. posune koncový ukazatel, čím předá odpovědnost za nově vyplněné buňky síťovému rozhraní,
5. síťové rozhraní ovládá hlavový ukazatel: kdykoliv zpracuje odchozí rámec, posune hlavový ukazatel
tak, že paměť asociovaná s odeslaným rámcem se přesune do části fronty, která patří operačnímu
systému.
Události, které se zpracováním kruhové fronty souvisí, signalizuje síťové rozhraní pomocí přerušení`,incorrect:`Odchozí fronta
Potřebuje-li operační systém odeslat paket (rámec) do sítě, přidá je na konec
tzv. odchozí fronty (angl. transmit queue, Tx queue). Z této fronty je vyzvedne hardware a jakmile je
to možné, provede fyzický přenos. Odchozí fronta funguje přibližně takto:
1. každá odchozí fronta (může jich existovat několik) má přiřazenu dvojici registrů mapovaných do
fyzického adresního prostoru: jeden reprezentuje hlavový ukazatel a ten druhý koncový (angl. head a
tail),
2. tyto ukazatele popisují kruhovou frontu dynamické velikosti, uloženu v operační paměti, ke které síťové
rozhraní přistupuje za pomoci DMA; každá položka (buňka) této kruhové fronty reprezentuje jeden
rámec,
3. ukazatele dělí frontu na dvě části – jedna patří rozhraní a jedna operačnímu systému,
4. operační systém (resp. ovladač síťového rozhraní) upravuje koncový ukazatel:
a. pro odeslání rámce pro něj operační systém nejprve vyhradí paměť a uloží do ni obsah rámce (data),
b. zapíše příslušnou adresu a velikost do své části kruhové fronty,
c. posune koncový ukazatel, čím předá odpovědnost za nově vyplněné buňky síťovému rozhraní,
5. síťové rozhraní ovládá hlavový ukazatel: kdykoliv zpracuje odchozí rámec, posune hlavový ukazatel
tak, že paměť asociovaná s odeslaným rámcem se přesune do části fronty, která patří rozhraní
Události, které se zpracováním kruhové fronty souvisí, signalizuje síťové rozhraní pomocí přerušení`},{uuid:"80f5b358-2720-46ca-b37a-66b5effb4dc0",correct:`Příjmová fronta
Síťové rozhraní popřidání prvků tuto změnu signalizuje přerušením. Alokace paměti pro rámce je v kompetenci operačního
systému – přesune-li operační systém nějakou položku (buňku) do části kruhové fronty, která náleží
síťovému rozhraní, dává tím najevo, že paměť touto položkou odkázaná může být přepsána novými daty.
Jakmile tak síťové rozhraní učiní, příslušnou buňku příjmové fronty přesune do části patřící operačnímu
systému.
Je obvyklé, že každý blok paměti, který operační systém rozhraní předá, má velikost největšího možného
rámce (MTU z angl. maximal transfer unit, obvykle 1500 bajtů), i když některá rozhraní umí příchozí
rámce rozdělit do více buněk, je-li to potřeba.`,incorrect:`Příjmová fronta
Síťové rozhraní po přidání prvků tuto změnu signalizuje přerušením. Alokace paměti pro rámce je v kompetenci operačního
systému – přesune-li operační systém nějakou položku (buňku) do části kruhové fronty, která náleží
síťovému rozhraní, dává tím najevo, že paměť touto položkou odkázaná může být přepsána novými daty.
Jakmile tak síťové rozhraní učiní, příslušnou buňku příjmové fronty přesune do části patřící operačnímu
systému.
Je obvyklé, že každý blok paměti, který operační systém rozhraní předá, má velikost 2 na n (kde n je velikost registrů procesoru).`}]},{uuid:"45309117-9cde-4069-8add-2f2060b1f984",title:"Část 5: Souběžnost a synchronizace",statements:[{uuid:"d352a06b-9766-449d-b1b4-38a1d983b019",correct:`Relace předcházení
Událost je jev, který nastane v čase (ne nutně pevně určeném nebo známém), který můžeme
pozorovat, a o kterém můžeme říct, že nastal před nebo po nějaké jiné události, případně že s ní
nastal souběžně. Relaci uspořádání, která tuto chronologii popisuje, budeme říkat předcházení (anglicky
„happens before“).
Takto definovaná relace určuje vztah „muselo se stát před“ neboli kauzální návaznost. Grafem předcházení
nazveme tranzitivní redukci této relace. Protože grafem uspořádání je acyklický orientovaný graf (angl.
DAG = directed acyclic graph), jeho tranzitivní redukce je určena jednoznačně (znáte nejspíš jako
Hasseův diagram).`,incorrect:`Relace předcházení
Událost je jev, který nastane v čase (ne nutně pevně určeném nebo známém), který můžeme
pozorovat, a o kterém můžeme říct, že nastal před nebo po nějaké jiné události, případně že s ní
nastal souběžně. Relaci uspořádání, která tuto chronologii popisuje, budeme říkat předcházení (anglicky
„happens before“).
Takto definovaná relace určuje vztah „muselo se stát před“ neboli kauzální návaznost. Grafem předcházení
nazveme tranzitivní redukci této relace. Protože grafem uspořádání je cyklický orientovaný graf (angl.
DCG = directed cyclic graph), jeho tranzitivní redukce je určena jednoznačně (znáte nejspíš jako
Hasseův diagram).`},{uuid:"94a368a6-ffb6-40fc-abdf-06e05a30366a",correct:`Relace předcházení
Vrcholy grafu předcházení jsou události (něco se stalo), jeho hrany budeme nazývat akce (něco se děje).
Akce tedy vedou od jedné události k nějaké další, ale nemohou je „přeskakovat“ (formálněji: existuje-li
mezi událostmi A a B cesta délky alespoň 2, neexistuje hrana/akce která vede z A do B přímo).`,incorrect:`Relace předcházení
Vrcholy grafu předcházení jsou události (něco se stalo), jeho hrany budeme nazývat akce (něco se děje).
Akce tedy vedou od jedné události k nějaké další, ale mohou je „přeskakovat“ (formálněji: existuje-li
mezi událostmi A a B cesta délky alespoň 2, může existovat hrana/akce která vede z A do B přímo).`},{uuid:"9d1d6d20-e04b-4ed9-99c4-2dc72eecef16",correct:`Časový sled
 Je-li nějaká relace předcházení lineární, mluvíme o časovém sledu.
Připomenutí: Časovým sledem událostí rozumíme lineární uspořádání událostí, tedy takové, že pro každou
dvojici A, B událostí platí buď:
• A předchází B nebo
• B předchází A.
Časový sled si můžeme představit i jako přiřazení časového razítka každé události takové, že žádné dvě
události nenastanou ve stejné chvíli.`,incorrect:`Časový sled
Je-li nějaká relace předcházení souběžná, mluvíme o časovém sledu.
Připomenutí: Časovým sledem událostí rozumíme souběžná uspořádání událostí, tedy takové, že pro každou
dvojici A, B událostí platí:
A a B nastanou libovoně, tedy nezávisle na sobě
Časový sled si můžeme představit i jako přiřazení časového razítka každé události takové, že žádné dvě
události nenastanou ve stejné chvíli.`},{uuid:"d4e2e9d9-bb7b-4214-be20-728d7d7b4275",correct:`Hazard souběhu
Předcházení je abstrakce, která skrývá vnitřní detaily procesů (dějů odehrávajících se v
čase), které se mohou stát v různém pořadí díky náhodným vlivům, a snažíme se jejich vnější chování
popsat pomocí této relace. Vnější chování nějakého systému závisí pouze na jeho relaci předcházení,
nikoliv už na tom, jak přesně budou v čase rozloženy konkrétní události.
Je-li takto zavedená abstrakce porušena, mluvíme o hazardu souběhu. Jinými slovy, hazard souběhu nastává
kdykoliv vedou dva různé časové sledy, které jsou oba konzistentní s relací předcházení pro daný systém,
k různému vnějšímu chování.`,incorrect:`Předcházení je abstrakce, která skrývá vnitřní detaily procesů (dějů odehrávajících se v
čase), které se mohou stát v různém pořadí díky náhodným vlivům, a snažíme se jejich vnější chování
popsat pomocí této relace. Vnější chování nějakého systému závisí pouze na jeho relaci předcházení,
nikoliv už na tom, jak přesně budou v čase rozloženy konkrétní události.
Je-li takto zavedená abstrakce porušena, mluvíme o chybě atomicity. Jinými slovy, chyba atomicity nastává
kdykoliv vedou dva různé časové sledy, které jsou oba konzistentní s relací předcházení pro daný systém,
k různému vnějšímu chování.`},{uuid:"d36f9be2-3654-45e2-90bc-00a807749a58",correct:`Hybatel
Akce (které reprezentujeme hranami v grafu předcházení) jsou prováděny vždy nějakým
hybatelem (v našem kontextu obvykle vláknem nebo periferií). Hrany (akce) tedy můžeme tomuto hybateli
přisoudit (např. můžeme říct, že vlákno T má modré hrany a periferie P má žluté hrany). Zároveň hybatele
můžeme považovat za „peška“ který se v grafu předcházení pohybuje po hranách své vlastní barvy.`,incorrect:`Hybatel
Akce (které reprezentujeme hranami v grafu předcházení) jsou prováděny vždy nějakým
hybatelem (v našem kontextu obvykle vláknem nebo periferií). Hrany (akce) tedy můžeme tomuto hybateli
přisoudit (např. můžeme říct, že vlákno T má modré hrany a periferie P má žluté hrany). Zároveň hybatele
můžeme považovat za „peška“ který se v grafu předcházení pohybuje po hranách libovoné barvy.`},{uuid:"e07e79d2-bdad-4e74-aff5-215d3ccba4c7",correct:`Synchronizace
Akce jsou souběžné právě tehdy, když jsou souběžné libovolné dvě události, kterých
se tyto akce týkají. Událost zejména nemůže být souběžná sama se sebou, a nemohou být souběžné ani
události spojené nějakou akcí.`,incorrect:`Synchronizace
Akce jsou souběžné právě tehdy, když jsou souběžné libovolné dvě události, kterých
se tyto akce týkají. Událost můžou být souběžná sama se sebou, a také mohou být souběžné události spojené nějakou akcí.`},{uuid:"5535a125-0bd1-451f-a1ea-59afc2a90c12",correct:`Stavový prostor je orientovaný graf kde vrcholy jsou stavy a hrany jsou akce (ve stejném smyslu jako
v grafu předcházení). Pojem „stav“ je v tomto kontextu velmi abstraktní, nicméně můžeme si bez velké
újmy nadále představovat stav jako:
• hodnoty procesorových registrů,
• buněk paměti (jak operační, tak paměti a registrů periferií).`,incorrect:`Stavový prostor je orientovaný graf kde vrcholy jsou akce a hrany jsou stavy (ve stejném smyslu jako
v grafu předcházení). Pojem „stav“ je v tomto kontextu velmi abstraktní, nicméně můžeme si bez velké
újmy nadále představovat stav jako:
• hodnoty procesorových registrů,
• buněk paměti (jak operační, tak paměti a registrů periferií).`},{uuid:"11839346-62d6-4eb2-934c-b773f1a49f51",correct:`Běh
Orientovanou cestu ve stavovém prostoru označíme za běh. Je zde jasná korespondence mezi
během (posloupnost stavů propojených akcemi) a časovým sledem (posloupnost událostí propojených
akcemi). Sekvenci akcí můžeme chápat i jako běh i jako sled – v obou případech stačí určit počáteční
stav (událost) a zbytek běhu (sledu) je již určen akcemi jednoznačně.`,incorrect:`Běh
Orientovanou cestu ve stavovém prostoru označíme za běh. Je zde jasná korespondence mezi
během (posloupnost stavů propojených akcemi) a časovým sledem (posloupnost událostí propojených
akcemi). Sekvenci akcí můžeme chápat i jako běh ale nikoliv jako sled – v případě běhu stačí určit počáteční
stav (událost) a zbytek běhu je již určen akcemi jednoznačně.`},{uuid:"30259068-35c7-48a8-a7b6-8e6774fe3fa1",correct:`Kritická sekce Uvažme běh R ≡ (r1, r2, ..., rn) nějakého vlákna (nebo jiného hybatele) T1asouběžný běh S ≡ (s1, ..., sn).
Říkáme, že R je kritickou sekcí vůči S, vede-li (r1, ..., S, ..., rn) k události „chyba“, a to přesto, že samotné běhy R ani S k chybě nevedou.
Proto se tomuto typu problému také říká chyba atomicity.`,incorrect:`Kritická sekce Uvažme běh R ≡ (r1, r2, ..., rn) nějakého vlákna (nebo jiného hybatele) T1asouběžný běh S ≡ (s1, ..., sn).
Říkáme, že S je kritickou sekcí vůči R, vede-li (r1, ..., S, ..., rn) k události „chyba“, a to přesto, že samotné běhy R ani S k chybě nevedou.
Proto se tomuto typu problému také říká chyba atomicity.`},{uuid:"4ef4b807-5b49-4c69-8ed3-9b76c4eaa4c1",correct:`Čtenáři a písaři
Představme si situaci, kdy máme běhy R1, R2, … Rn a běhy W1, W2, …, Wm,
pro které platí:
1. ∀.i, j platí Ri není kritickou sekcí vůči Rj
2. ∀.i, j platí Ri je kritickou sekcí vůči Wj,
3. ∀.i, j platí Wi je kritickou sekcí vůči Wj
Takovou situaci nazýváme „čtenáři a písaři“ – máme tedy n čtenářů Ri a m písařů Wi.
Čtenáři si vzájemně nepřekáží – mohou číst zároveň v libovolném pořadí. 
Písaři se chovají jinak: sdílená data nejen čtou, ale i modifikují – proto čtenář,
který by byl přerušen písařem, by mohl přečíst nekonzistentní data.
Podobně si překáží dva různí písaři – protože data jak čtou tak modifikují, může být výsledek opět nekonzistentní.`,incorrect:`Čtenáři a písaři
Představme si situaci, kdy máme běhy R1, R2, … Rn a běhy W1, W2, …, Wm,
pro které platí:
1. ∀.i, j platí Wi není kritickou sekcí vůči Wj
2. ∀.i, j platí Ri je kritickou sekcí vůči Wj,
3. ∀.i, j platí Ri je kritickou sekcí vůči Rj
Takovou situaci nazýváme „čtenáři a písaři“ – máme tedy n čtenářů Ri a m písařů Wi.
Čtenáři si vzájemně nepřekáží – mohou číst zároveň v libovolném pořadí.
Písaři se chovají jinak: sdílená data nejen čtou, ale i modifikují – proto čtenář
 který by byl přerušen písařem, by mohl přečíst nekonzistentní data.
Podobně si překáží dva různí písaři – protože data jak čtou tak modifikují, může být výsledek opět nekonzistentní.`},{uuid:"d234e287-055b-4d79-90f7-f0632cc6e5c3",correct:`Souběžná datová závislost 
je vztah mezi akcemi, který je nejlépe vidět ve stavovém prostoru:
je-li vstupem nějaké akce Z paměťová buňka nebo registr, do které naposled zapisovala akce X, říkáme,
že Z má datovou závislost na X.
Uvažme zároveň situaci, kdy máme dva běhy, A ≡ (a1, ..., X, ...an), B ≡ (b1, ..., Z, ..., bm), které jsou
zcela souběžné. To se v programu může lehce stát, a často je těžké takovou chybu odhalit, zejména je-li
výpočet (a1, ..., X) krátký, zatímco (b1, ..., Z) dlouhý (časově náročný)`,incorrect:`Souběžná datová závislost
je vztah mezi akcemi, který je nejlépe vidět ve stavovém prostoru:
je-li vstupem nějaké akce Z paměťová buňka nebo registr, do které naposled zapisovala akce X, říkáme,
že X má datovou závislost na Z.
Uvažme zároveň situaci, kdy máme dva běhy, A ≡ (a1, ..., X, ...an), B ≡ (b1, ..., Z, ..., bm), které jsou
zcela souběžné. To se v programu může lehce stát, a často je těžké takovou chybu odhalit, zejména je-li
výpočet (a1, ..., X) krátký, zatímco (b1, ..., Z) dlouhý (časově náročný)`},{uuid:"558d19a1-6430-4a21-a974-653ed15dae8e",correct:`Producenti a konzumenti
Uvažme situaci, kdy účelem několika vláken je vytvářet mezivýsledky
určené k dalšímu zpracování (tato vlákna – producenty – označíme P1...Pn), a několik dalších vláken
tyto mezivýsledky dále zpracovává (tato nazveme konzumenty a označíme K1...Km).
Všechna vlákna Pi jsou souběžná jak vzájemně tak s vlákny Ki.
Tato souběžnost je důležitá a užitečná:
umožňuje nám práci distribuovat na různá procesorová jádra a tím celý proces značně urychlit. Protože
jsou ale všechna vlákna souběžná, můžou lehce nastat dvě problémové situace:
1. producenti mohou generovat výsledky rychleji, než je konzumenti dokáží zpracovávat – mezivýsledky
se budou hromadit a postupně zaberou veškerou vyhrazenou paměť, nebo se začnou ztrácet (protože je
producenti začnou přepisovat dříve, než jsou zpracovány),
2. konzumenti mohou zpracovávat výsledky rychleji, než je producenti dokáží vytvářet – bez synchronizace
by taková situace vedla k opakovanému zpracování stejného mezivýsledku, případně k pokusu o zpracování
nějaké nesmyslné informace (je-li mezivýsledek očekáván na adrese, kam ještě nebyl producentem
zapsán).

V těchto dvou situacích se tedy musí konzumenti a producenti synchronizovat – je-li mezivýsledků
nedostatek, upřednostníme práci producentů, naopak je-li jich přebytek, upřednostníme práci konzumentů.
V ideálním případě tak, aby existovala nějaká pevná mez na počet nezpracovaných mezivýsledků (a tedy i
na množství paměti potřebné pro jejich uložení).`,incorrect:`Producenti a konzumenti
Uvažme situaci, kdy účelem několika vláken je vytvářet mezivýsledky
určené k dalšímu zpracování (tato vlákna – producenty – označíme P1...Pn), a několik dalších vláken
tyto mezivýsledky dále zpracovává (tato nazveme konzumenty a označíme K1...Km).
Všechna vlákna Pi jsou souběžná jak vzájemně tak s vlákny Ki.
Tato souběžnost je důležitá a užitečná:
umožňuje nám práci distribuovat na různá procesorová jádra a tím celý proces značně urychlit. Protože
jsou ale všechna vlákna souběžná, můžou lehce nastat dvě problémové situace:
1. producenti mohou generovat výsledky rychleji, než je konzumenti dokáží zpracovávat – mezivýsledky
se budou hromadit a postupně zaberou veškerou vyhrazenou paměť, nebo se začnou ztrácet (protože je
producenti začnou přepisovat dříve, než jsou zpracovány),
2. konzumenti mohou zpracovávat výsledky rychleji, než je producenti dokáží vytvářet – bez synchronizace
by taková situace vedla k opakovanému zpracování stejného mezivýsledku, případně k pokusu o zpracování
nějaké nesmyslné informace (je-li mezivýsledek očekáván na adrese, kam ještě nebyl producentem
zapsán).

V těchto dvou situacích se tedy musí konzumenti a producenti synchronizovat – je-li mezivýsledků
nedostatek, upřednostníme práci producentů, naopak je-li jich přebytek, upřednostníme práci konzumentů.
V ideálním případě tak, aby existovala nějaká dynamická mez, která se podle potřeb systému mění.`},{uuid:"9c248fd7-195a-4f57-8234-1bb0429c9faa",correct:`Rozvětvení a setkán
Akce, které nejsou souběžné, nelze provádět paralelně. Máme-li tedy více výpočetních jader, než máme
vláken, nevyužíváme hardwarové zdroje efektivně. Relativně častým jevem je, že výpočet má dva (nebo
několik) bloků, které lze provést v libovolném pořadí, aniž by se změnil výsledek. V takovém případě
bychom chtěli výpočet rozvětvit tak, aby byl každý takový blok (běh) souběžný s těmi ostatními. Máme-li
procesorů málo, vykonají se v libovolném pořadí (to nám nevadí), ale máme-ji jich dostatek (nebo
přebytek), mohou se tyto běhy provést najednou (každý na jiném procesoru).
Tím ale vzniká nový problém – výpočet nemůže pokračovat, než skončí všechny takto vyčleněné bloky
– jinak bychom se dostali do situace „výpočetní závislost“ (a tím do známého terénu „příliš mnoho
souběžnosti“). Proto je potřeba, aby se běhy i setkaly.`,incorrect:`Rozvětvení a setkán
Akce, které nejsou souběžné, nelze provádět paralelně. Máme-li tedy více výpočetních jader, než máme
vláken, nevyužíváme hardwarové zdroje efektivně. Relativně častým jevem je, že výpočet má dva (nebo
několik) bloků, které lze provést v libovolném pořadí, aniž by se změnil výsledek. V takovém případě
bychom chtěli výpočet rozvětvit tak, aby byl každý takový blok (běh) souběžný s těmi ostatními. Máme-li
procesorů málo, vykonají se v libovolném pořadí (to nám nevadí), ale máme-ji jich dostatek (nebo
přebytek), mohou se tyto běhy provést najednou (každý na jiném procesoru).
Tím ale vzniká nový problém – výpočet nemůže pokračovat, než skončí alespoň některé takto vyčleněné bloky
– jinak bychom se dostali do situace „výpočetní závislost“ (a tím do známého terénu „příliš mnoho
souběžnosti“).`}]},{uuid:"05038f02-9d9b-4922-a291-26653c34b40b",title:"Část 6: Synchronizace",statements:[{uuid:"0812706c-3e3f-4de4-83d9-c3cd37cf4f24",correct:`Synchronizační zařízení
synchronizační zařízení je (de facto) datová struktura – v programu může existovat v mnoha
nezávislých instancích. Mezi různými instancemi se žádná synchronizace neděje. Každé synchronizační
zařízení má nějaký stav, který musí být někde uložen: instanci synchronizačního zařízení tedy ztotožníme
s adresou, na které je uložen jeho stav`,incorrect:`Synchronizační zařízení
synchronizační zařízení je (de facto) datová struktura – v programu může existovat v mnoha
nezávislých instancích. Mezi různými instancemi  může probíhat synchronizace. Každé synchronizační
zařízení má nějaký stav, který musí být někde uložen: instanci synchronizačního zařízení tedy ztotožníme
s adresou, na které je uložen jeho stav`},{uuid:"c90cb1be-0fd1-4293-9294-03d3263788d5",correct:`Vzájemné vyloučení (mutex) 
Zřejmě úplně nejjednodušším synchronizačním zařízením je mutex,
určený k ochraně kritické sekce. Aby byla kritická sekce ochráněna, musí být chráněná jak kritická sekce
samotná, tak i všechny běhy, vůči kterým je kritická, a to tím stejným mutexem.`,incorrect:`Vzájemné vyloučení (mutex) 
Zřejmě úplně nejjednodušším synchronizačním zařízením je mutex,
určený k ochraně kritické sekce. Aby byla kritická sekce ochráněna,stačí když  bude chráněná samotná kritická sekce,
 nic ostatního není potřeba, vychází z relace předcházení.`},{uuid:"97fcefb0-1467-4db7-a323-f073361896a2",correct:`Spinlock
je synchronizační smyčka bez interakce s plánovačem (komunikace s plánovačem je
potenciálně drahá operace – neplánujeme-li čekat dlouho, může být nevýhodné ji provést).
V moderních systémech se spinlock implementuje pomocí atomické instrukce, která umožní provést
operaci ld, úpravu hodnoty a st jako jediný krok, který je pro všechny procesory v systému pozorovatelný
pouze jako celek. Atomických operací existuje celá řada, my použijeme operaci cmpxchg (z angl. „compare
and exchange“), která má 3 operandy: adresu, očekávanou hodnotu a požadovanou hodnotu.`,incorrect:`Spinlock
je synchronizační smyčka, která interaguje s plánovačem (komunikace s plánovačem je
potenciálně drahá operace – neplánujeme-li čekat dlouho, může být nevýhodné ji provést).
V moderních systémech se spinlock implementuje pomocí atomické instrukce, která umožní provést
operaci ld, úpravu hodnoty a st jako jediný krok, který je pro všechny procesory v systému pozorovatelný
pouze jako celek. Atomických operací existuje celá řada, my použijeme operaci cmpxchg (z angl. „compare
and exchange“), která má 3 operandy: adresu, očekávanou hodnotu a požadovanou hodnotu.`},{uuid:"e5540698-d3b7-4642-9116-475c0e80fe2d",correct:`Spinlock (resp. aktivní čekání obecně) má ale jednu důležitou nevýhodu: soutěží-li o stejný zámek dvě
vlákna, která sdílí procesorové jádro, čekajícímu vláknu se nemůže podařit zámek získat, dokud nebude
vlastník zámku probuzen. Proto je použití spinlocku v uživatelských programech obvykle chybou (nelze
zaručit, že vlákna budou naplánována na různá procesorová jádra).`,incorrect:`Spinlock (resp. aktivní čekání obecně) má ale jednu důležitou nevýhodu: soutěží-li o stejný zámek dvě
vlákna, která sdílí procesorové jádro, čekajícímu vláknu se nemůže podařit zámek získat, dokud nebude
vlastník zámku probuzen. Proto je použití spinlocku v uživatelských programech obvykle chybou (vlákna budou vždy naplánována na různá procesorová jádra).`},{uuid:"47fb8d1d-a948-48dc-9d09-1749360f9704",correct:`Uspávající mutex 
Operace lock je realizována jako služba operačního systému (systémové volání); jádro nejprve ověří, je-li zámek odemčen:
1. pokud ano, poznačí ho jako zamčený a vrátí kontrolu vláknu, které zámek vyžádalo,
2. v opačném případě zařadí vlákno do fronty, která danému mutexu náleží, a nechá plánovač probudit
nějaké jiné vlákno.
Odemčení zámku pak ověří, je-li nějaké další vlákno ve frontě, a pokud ano, mutex ihned zase zamkne a
předá ho prvnímu vláknu z této fronty`,incorrect:`Uspávající mutex 
Operace lock je realizována bez interakce s plánovačem; jádro nejprve ověří, je-li zámek odemčen:
1. pokud ano, poznačí ho jako zamčený a vrátí kontrolu vláknu, které zámek vyžádalo,
2. v opačném případě zařadí vlákno do fronty, která danému mutexu náleží, a nechá plánovač probudit
nějaké jiné vlákno.
Odemčení zámku pak ověří, je-li nějaké další vlákno ve frontě, a pokud ano, mutex ihned zase zamkne a
předá ho prvnímu vláknu z této fronty`},{uuid:"61ce7504-594a-48ad-99c5-9bd013d20269",correct:`Rychlý mutex
rozdělení odpovědnosti za dvě části stavu
mezi uživatelské vlákno a operační systém. Rozhodnutí o tom, je-li zámek zamčený nebo nikoliv, vyřeší
vlákno ve vlastní režii (stejně, jako by se jednalo o spinlock – pomocí atomické instrukce). Systémové
volání se provede pouze v případě, kdy pokus o zamčení selže.
Systémová část stavu se jmenuje futex (z angl. „fast mutex“), a sestává pouze z fronty uspaných
vláken. Fronty jsou s jednotlivými uživatelskými mutexy svázány adresou (tzn. operační systém má
pomyslný slovník front, kde klíčem je adresa příslušného mutexu)`,incorrect:`Rychlý mutex
rozdělení odpovědnosti za dvě části stavu
mezi uživatelské vlákno a operační systém. Rozhodnutí o tom, je-li zámek zamčený nebo nikoliv, vyřeší
vlákno ve vlastní režii (stejně, jako by se jednalo o spinlock – pomocí atomické instrukce). Systémové
volání se provede pouze v případě, kdy pokus o zamčení selže.
Systémová část stavu se jmenuje futex (z angl. „fast mutex“), a sestává pouze z fronty uspaných
vláken. Fronty jsou mezi jednotlivými uživatelskými mutexy sdílené napříč celým systémem.`},{uuid:"262245dc-1124-4224-9160-fe79478ea645",correct:` Read-Copy-Update
Princip fungování je jednoduchý: místo aby písař měnil datovou strukturu na místě, vytvoří její kopii
(skutečnou nebo pomyslnou resp. částečnou) a tuto kopii upraví – obě operace jsou bezpečné, protože
kopírování je vzhledem k původní datové struktuře forma čtení, a nová kopie je prozatím ve výlučném
vlastnictví písaře (jiná vlákna k ní nemají vůbec přístup). Jakmile je úprava hotová, přesměruje všechny
budoucí čtenáře na tuto novou verzi, obvykle tím, že upraví sdílený ukazatel. 
Starší kopie je možné uvolnit až ve chvíli, kdy je jisté, že k nim nepřistupuje žádný čtenář – protože
čtenáři jsou se zapisujícím písařem souběžní, potřebujeme další synchronizační mechanismus – častou
volbou je počítadlo odkazů, které čtenáři udržují; poslední čtenář pak již nepotřebnou starší verzi dat
uvolní.`,incorrect:`Read-Copy-Update
Princip fungování je jednoduchý: místo aby písař měnil datovou strukturu na místě, vytvoří její kopii
(skutečnou nebo pomyslnou resp. částečnou) a tuto kopii upraví – obě operace jsou bezpečné, protože
kopírování je vzhledem k původní datové struktuře forma čtení, a nová kopie je prozatím ve výlučném
vlastnictví písaře (jiná vlákna k ní nemají vůbec přístup). Jakmile je úprava hotová, přesměřujeme všechny aktuální i budoucí čtenáře na aktuální verzi.`},{uuid:"12e38f08-b37c-4119-89a6-127d34de50be",correct:`Monitor
Monitor je jednoduchou, ale velmi užitečnou abstrakcí – uvažme datovou strukturu, která sestává z nějaké
datové reprezentace a operací nad ní. Realizace jednotlivé operace je často kritickou sekcí vůči ostatním
operacím (to platí zejména pro ty operace, které strukturu mění).
Organizujeme-li program tak, že jediný přístup přímo k datům takové struktury je skrze operace
definované v podprogramech, lze datové struktuře jako celku přidružit jeden mutex, který se na začátku
každé operace zamkne a na konci odemkne. Lze si zde představit dvě implementační strategie:
1. v ideálním případě zamykáni a odemykání v operacích řeší překladač (týká se některých OOP jazyků);
pak lze navíc v situaci, kdy jedna operace volá jinou operaci jako podprogram, zamykání přeskočit
(„staticky“ víme, že mutex je již zamčený),
2. v méně ideálním případě, kdy je „monitor“ pouze ručně udržovaný invariant, můžeme využít rekurzivního
mutexu (vnořené zamykání se tak vyřeší „dynamicky“ – za běhu).`,incorrect:`Monitor
Monitor je jednoduchou, ale velmi užitečnou abstrakcí – uvažme datovou strukturu, která sestává z nějaké
datové reprezentace a operací nad ní. Realizace jednotlivé operace je často kritickou sekcí vůči ostatním
operacím (to platí zejména pro ty operace, které strukturu mění).
Organizujeme-li program tak, že jediný přístup přímo k datům takové struktury je skrze operace
definované v podprogramech, lze datové struktuře jako celku přidružit několik mutexů, které vybere podle potřeby na začátku
každé operace a daný mutex zamkne a na konc zasei odemkne. Lze si zde představit dvě implementační strategie:
1. v ideálním případě zamykáni a odemykání v operacích řeší překladač (týká se některých OOP jazyků);
pak lze navíc v situaci, kdy jedna operace volá jinou operaci jako podprogram, zamykání přeskočit
(„staticky“ víme, že mutex je již zamčený),
2. v méně ideálním případě, kdy je „monitor“ pouze ručně udržovaný invariant, můžeme využít rekurzivního
mutexu (vnořené zamykání se tak vyřeší „dynamicky“ – za běhu).`},{uuid:"9a598e03-6f13-4dd2-88b2-9fe236c77394",correct:`Monitor nemůže zaručit, že program jako celek nebude obsahovat chyby synchronizace – není
těžké představit si invariant, který přesahuje hranice jedné datové struktury, a kterého dočasné
porušení je kritickou sekcí.
`,incorrect:"Monitor pomáhá zaručit, že program jako celek nebude obsahovat chyby synchronizace a chrání tak celou datovou strukturu a operace nad ní."},{uuid:"e19f7102-d24e-4dee-a4db-6573a6edb0e8",correct:`Podmínková proměnná
Pro řešení problému souběžné datové závislosti lze použít synchronizační
zařízení, kterému se říká podmínková proměnná (angl. condition variable). Operace jsou jednoduché:
• wait – čekej – zablokuje volající vlákno až do chvíle, kdy nějaké jiné vlákno provede operaci signal,
• signal odblokuje vlákno (tzn. umožní mu pokračovat ve výpočtu) zablokované operací wait.`,incorrect:`Podmínková proměnná
Pro řešení problému čtenářů a písařů lze použít synchronizační
zařízení, kterému se říká podmínková proměnná (angl. condition variable). Operace jsou jednoduché:
• wait – čekej – zablokuje volající vlákno až do chvíle, kdy nějaké jiné vlákno provede operaci signal,
• signal odblokuje vlákno (tzn. umožní mu pokračovat ve výpočtu) zablokované operací wait.`},{uuid:"fd5b64b3-f64b-4754-98a1-4c4b428cd008",correct:`Semafor
Klasický semafor přímo neřeší žádný zajímavý problém (který by mutex nebo některá
jeho varianta neřešila lépe), nicméně ze dvou semaforů lze sestavit řešení problému producentů a
konzumentů.
Semafor lze také mírně upravit tak, aby problém producentů a konzumentů řešil přímo – stačí změnit
operaci post tak, aby při pokusu o překročení hodnoty n blokovala. Takovému semaforu bychom mohli říkat
třeba symetrický (díky nově získané symetrii operací wait a post). Klasické řešení problému producentů
a konzumentů pak není nic jiného, než kombinace dvou klasických, asymetrických semaforů do jednoho
symetrického.
Význam semaforu E je počet volných míst ve frontě mezivýsledků, zatímco význam semaforu F je počet
zabraných míst ve frontě mezivýsledků. Operace udržují invariant E + F = n.`,incorrect:`Semafor
Klasický semafor přímo neřeší žádný zajímavý problém (který by mutex nebo některá
jeho varianta neřešila lépe), nicméně ze dvou semaforů lze sestavit řešení problému producentů a
konzumentů.
Semafor lze také mírně upravit tak, aby problém producentů a konzumentů řešil přímo – stačí změnit
operaci post tak, aby při pokusu o překročení hodnoty n blokovala. Takovému semaforu bychom mohli říkat
třeba symetrický (díky nově získané symetrii operací wait a post). Klasické řešení problému producentů
a konzumentů pak není nic jiného, než kombinace dvou klasických, asymetrických semaforů do jednoho
symetrického.
Význam semaforu E je počet volných míst ve frontě mezivýsledků, zatímco význam semaforu F je počet
zabraných míst ve frontě mezivýsledků. Operace udržují invariant E * F = n.`},{uuid:"98671845-ba91-43ef-aa4f-3ebebe9abfc5",correct:` Bariéra
Inverzní semafor – umožňuje pokračovat ve výpočtu, až když na bariéru čeká dostatek
vláken. Smyslem bariéry je řešit problém rozvětvení a setkání (zejména jeho druhou část – setkání
většího počtu vláken, které řeší nezávislé podproblémy nějakého většího výpočetního celku).
Bariéru lze implementovat například jako počítadlo + podmínkovou proměnnou.`,incorrect:` Bariéra
Inverzní semafor – umožňuje pokračovat ve výpočtu, až když na bariéru čeká dostatek
vláken. Smyslem bariéry je řešit problém rozvětvení většího 
počtu vláken, které řeší nezávislé podproblémy nějakého většího výpočetního celku).
Bariéru lze implementovat například jako počítadlo + spinlock.`}]},{uuid:"837eff1d-7f14-47b8-866e-e8759fa5804b",title:"Část 7: Komunikace, uváznutí",statements:[{uuid:"8fb057e1-a892-4c79-bed7-a2184ab89039",correct:`Komunikace a Synchronizace
Každá komunikace je zároveň formou synchronizace: každé čtení
nějaké informace musí být předcházeno odpovídajícím zápisem. Nelze dost dobře obdržet zprávu, která
dosud nebyla odeslána. Proto je každé komunikační zařízení také zařízením synchronizačním. Opačný vztah
ale neplatí: komunikace přidává možnost předat nějakou informaci.`,incorrect:`Komunikace a Synchronizace
Každá synchronizace je zároveň formou komunikace: každé čtení
nějaké informace musí být předcházeno odpovídajícím zápisem. Nelze dost dobře obdržet zprávu, která
dosud nebyla odeslána. Proto je každé synchronizační zařízení také zařízením komunikačním. Opačný vztah
ale neplatí.`},{uuid:"1dfd70b8-a5c1-4556-93bd-93d24df5f6c2",correct:`Datové struktury pro komunikaci
Ke komunikaci lze použít celkem libovolnou datovou strukturu, je-li chráněna
mutexem nebo jiným vhodným synchronizačním zařízením (např. je realizována jako monitor).
Problém, který zde vzniká, je soutěž (angl. contention) o příslušný zámek. Takové kombinované
komunikační zařízení si lze představit jako klasickou poštovní schránku – vkládá-li právě pošťák psaní
do schránky, nemůžete si z ní dost dobře ve stejnou chvíli vyzvedávat nějaké jiné – jak přesně datová
struktura funguje vnitřně z tohoto pohledu není důležité.`,incorrect:`Datové struktury pro komunikaci
Ke komunikaci lze použít celkem libovolnou datovou strukturu,nesmí být ale chráněna žádným synchronizačním zařízením.
Problém, který zde vzniká, je soutěž (angl. contention) o příslušný zámek. Takové kombinované
komunikační zařízení si lze představit jako klasickou poštovní schránku – vkládá-li právě pošťák psaní
do schránky, nemůžete si z ní dost dobře ve stejnou chvíli vyzvedávat nějaké jiné – jak přesně datová
struktura funguje vnitřně z tohoto pohledu není důležité.`},{uuid:"4ee2be46-0e4d-4025-b774-17caf9218c46",correct:`Roura
Specializace fronty, která pracuje s bajty. Vyznačuje se zejména efektivními dávkovými
operacemi – zápisem resp. čtením většího počtu položek (bajtů) najednou. Často je poskytována operačním
systémem. Prakticky vždy implementovaná jako omezená – existuje nějaký maximální objem dat, který lze
do roury zapsat, než musí další zápis vyčkat na čtení. Stejně jako omezená fronta má tedy synchronizační
chování stejné jako symetrický semafor.`,incorrect:`Roura
Specializace fronty, která pracuje s bajty. Vyznačuje se zejména efektivními dávkovými
operacemi – zápisem resp. čtením většího počtu položek (bajtů) najednou. Často je poskytována operačním
systémem. Prakticky neomezená –  neexistuje maximální objem dat, který je roura schopna pojmout.`},{uuid:"819ecf3e-17eb-4590-af1f-1803bc118a2a",correct:`Alternativou ke sdílené paměti je předávání zpráv – má dvě výhody:
1. je bezpečnější na použití – méně problémů s hazardy souběhu,
2. lze použít i mezi různými počítači (po síti),
a dvě nevýhody:
1. méně pohodlné, protože nelze odkazovat do jiných datových struktur – všechna relevantní data je
potřeba „přibalit“ do samotné zprávy,
2. méně efektivní, jednak kvůli samotné konstrukci zpráv, jednak kvůli režii s kopírováním a předáváním
zprávy.`,incorrect:`Alternativou ke sdílené paměti je předávání zpráv – má dvě výhody:
1. efektivnější
2. lze použít i mezi různými počítači (po síti),
a dvě nevýhody:
1. méně pohodlné, protože nelze odkazovat do jiných datových struktur – všechna relevantní data je
potřeba „přibalit“ do samotné zprávy,
2. je méně bezpečné na použití – více problémů s hazardy souběhu,`},{uuid:"4d1ce8ab-4146-4974-81ad-45dac498762b",correct:`Zpráva 
Z pohledu systému pro předávání zpráv je obvykle obsah zprávy neprůhledný (jsou to pouze
bajty), důležitá jsou připojená metadata: zejména adresát. Způsob adresace je zároveň hlavní rozdíl 
mezi předáváním zpráv a frontami – mezi pevnou dvojicí komunikujících vláken je jinak předávání zpráv
ekvivalentní dvojici komunikačních front`,incorrect:`Zpráva 
Z pohledu systému pro předávání zpráv je obvykle obsah zprávy neprůhledný (jsou to pouze
bajty), důležitá jsou připojená metadata: zejména adresát. Způsob adresace je zároveň hlavní rozdíl 
mezi předáváním zpráv a frontami – mezi pevnou dvojicí komunikujících vláken je jinak předávání zpráv
ekvivalentní bitmapě.`},{uuid:"ffe41c48-1cb0-455e-b60e-6e03fee92677",correct:`Základní opreace
Je-li maximální počet nedoručených zpráv, které je systém ochoten uložit, nulový, mluvíme o tzv.
„setkání“ (rendezvous) – odesílající a přijímající vlákno se musí „sejít“ aby si mohly zprávu předat.
Synchronizační aspekt komunikace je zde obzvláště výrazný – dokonce mnohem výraznější, než je obvyklé
u synchronizačních zařízení.`,incorrect:`Základní opreace
Je-li maximální počet nedoručených zpráv, v daný moment roven nule, mluvíme o tzv.
„setkání“ (rendezvous) – odesílající a přijímající vlákno se setkaly aby si mohly zprávu předat.
Synchronizační aspekt komunikace je zde obzvláště výrazný – dokonce mnohem výraznější, než je obvyklé
u komunikační zařízení.`},{uuid:"3caedd77-3e80-44c5-958c-1ebe0a31866e",correct:`Zprostředkovatel
Úkolem zprostředkovatele je zprávu od odesílatele přebrat a doručit ji adresátovi. Předáni zprávy může
probíhat ve 3 režimech:
• Je-li operace odeslání synchronní a systém doručení spolehlivý, za zprávu je již dále odpovědný
zprostředkovatel – klient může věc považovat za vyřízenou.
• Je-li operace asynchronní, klient musí paměť se zprávou zachovat až do doby, než zprostředkovatel
potvrdí, že ji převzal.
• Je-li doručení zpráv nespolehlivé, a klient potřebuje zajištěné doručení, musí zprávu zachovat až do
doby, než mu ji příjemce potvrdí (opět odesláním zprávy).
Příjem zprávy obvykle funguje v jednom ze dvou režimů:
1. Synchronní, kdy se příjemce dotáže na další zprávu (případně na ni vyčká, není-li právě žádná
k dispozici), tuto zpracuje a poté se zeptá na další.
2. Asynchronní – klient zpracovává větší počet zpráv souběžně, a zpracováni příchozí zprávy začne na
výzvu zprostředkovatele. Lze realizovat buď pomocí klasických vláken, nebo tzv. fibrů.`,incorrect:`Zprostředkovatel
Úkolem zprostředkovatele je zprávu od odesílatele přebrat a doručit ji adresátovi. Předáni zprávy může
probíhat ve 3 režimech:
• Je-li operace odeslání synchronní a systém doručení spolehlivý, za zprávu je již dále odpovědný
zprostředkovatel – klient může věc považovat za vyřízenou.
• Je-li operace asynchronní, klient musí paměť se zprávou zachovat až do doby, než zprostředkovatel
potvrdí, že ji převzal.
• Je-li doručení zpráv nespolehlivé, a klient potřebuje zajištěné doručení, musí zprávu zachovat až do
doby, než mu ji příjemce potvrdí (opět odesláním zprávy).
Příjem zprávy obvykle funguje v jednom ze dvou režimů:
1. Synchronní, kdy se příjemce dotáže na další zprávu (případně na ni vyčká, není-li právě žádná
k dispozici), tuto zpracuje a poté se zeptá na další.
2. Asynchronní – klient zpracovává větší počet zpráv souběžně, a zpracováni příchozí zprávy začne na
výzvu zprostředkovatele. Lze realizovat buď pomocí klasických vláken, nebo tzv. fibrů.`},{uuid:"30107838-41c5-48d6-a272-1990c66c5f40",correct:`Existuje typ operačních systémů, kde je předávání zpráv základním mechanismem meziprocesové komunikace.
Tento návrh silně koreluje s mikrojádrovou architekturou. V takovém systému
jsou služby operačního systému z velké části realizovány „běžnými“ procesy, a proto je komunikace mezi
procesy v takových systémech velmi důležitá. Zprostředkovatelem je v takových systémech často samotné
mikrojádro.`,incorrect:`Existuje typ operačních systémů, kde je předávání zpráv základním mechanismem meziprocesové komunikace.
Tento návrh silně koreluje s makrojádrovou architekturou. V takovém systému
jsou služby operačního systému z velké části realizovány „běžnými“ procesy, a proto je komunikace mezi
procesy v takových systémech velmi důležitá. Zprostředkovatelem je v takových systémech často samotné
makrojádro.`},{uuid:"b6369098-3033-4205-98c7-9d324688e0f1",correct:`Hardwarové zdroje nejpřirozenějším typem zdroje je hardware: jak výpočetní (procesor, paměť)
tak periferie. V první části kurzu jsme se zabývali virtualizací, která nám umožňuje předstírat, že
zdroje vlastníme ve více instancích, než jich fyzicky existuje. To je sice velmi užitečná a úspěšná
taktika, ale není bez limitů.
Virtualizaci zdroje lze uplatnit jen v situacích, kdy každý uživatel daného zdroje využívá jen část jeho
skutečné kapacity – část obrazovky (okno), část procesorového jádra (vlákno), část operační paměti
(proces), část šířky přenosového pásma (síťové spojení) atp.`,incorrect:`Hardwarové zdroje nejpřirozenějším typem zdroje je hardware: jak výpočetní (procesor, paměť)
tak periferie. V první části kurzu jsme se zabývali virtualizací, která nám umožňuje předstírat, že
zdroje vlastníme ve více instancích, než jich fyzicky existuje. To je sice velmi užitečná a úspěšná
taktika, ale není bez limitů.
Virtualizaci zdroje lze uplatnit jen v situacích, kdy uživatel využívá zdroje jako celek.`},{uuid:"b28c484b-d609-4a95-91ed-769265a5972c",correct:`Rezervace
 Alternativou je rezervace, kterou využijeme v situacích, kdy virtualizaci použít nelze:
• neumožňuje to povaha zdroje (např. pásková jednotka nebo optická zapisovací mechanika) nebo
• nečekané selhání zdroje je nepřípustné (např. by došlo k ohrožení zdraví, života nebo majetku).
Rezervace a virtualizace není vzájemně výlučná – daný zdroj může být virtualizován, ale zároveň může
systém poskytovat možnost rezervovat zaručenou kapacitu – v takovém případě je rezervovaný zdroj
(dočasně) nepřístupný pro systém virtualizace. Operační systémy například běžně poskytují možnost
rezervovat pro daný proces nějaké množství fyzické paměti. Takto rezervovanou fyzickou paměť pak
systém nebude používat pro stránky jiných procesů, ani nebude stránky vlastníka z takto rezervované
paměti přesouvat do trvalého úložiště.`,incorrect:`Rezervace
 Alternativou je rezervace, kterou využijeme v situacích, kdy virtualizaci použít nelze:
• neumožňuje to povaha zdroje (např. pásková jednotka nebo optická zapisovací mechanika) nebo
• nečekané selhání zdroje je nepřípustné (např. by došlo k ohrožení zdraví, života nebo majetku).
Rezervace a virtualizace je vzájemně výlučná – daný zdroj může být virtualizován, ale zároveň nemůže
systém poskytovat možnost rezervovat zaručenou kapacitu – v takovém případě by byl rezervovaný zdroj
(dočasně) nepřístupný pro celý systém. Operační systémy například běžně poskytují možnost
rezervovat pro daný proces nějaké množství fyzické paměti. Takto rezervovanou fyzickou paměť pak
systém nebude používat pro stránky jiných procesů, ani nebude stránky vlastníka z takto rezervované
paměti přesouvat do trvalého úložiště.`},{uuid:"3316f8df-3fa9-4d79-8235-9113d7092dfe",correct:`Rezervace sestává ze dvou operací:
1. samotná rezervace, která od systému vyžádá nějaký zdroj (resp. nějaký počet jednotek zdroje), pro
výlučné použití daným programem (procesem, vláknem, atp.), – po úspěšném provedení rezervace je
zdroj ve vlastnictví příslušného programu,
2. uvolnění zdroje kdy vlastník zdroje oznámí systému, že již zdroj nebude využívat, a tento může být
vrácen „do oběhu“ (může být předán jinému programu, procesu, vláknu, …).`,incorrect:`Rezervace sestává ze dvou operací:
1. samotná rezervace, která od systému vyžádá nějaký zdroj (resp. nějaký počet jednotek zdroje), pro
výlučné použití daným programem (procesem, vláknem, atp.), – po úspěšném provedení rezervace je
zdroj ve vlastnictví příslušného programu,
2.odebrání zdroje, kdy systém odebere zdroj vlastníkovy, aby tento mohl být
vrácen „do oběhu“ (může být předán jinému programu, procesu, vláknu, …).`},{uuid:"81803512-3542-4840-9955-1fa27e203d9b",correct:`Komunikace
Protože komunikace je zároveň synchronizací, jedná se (možná ne zcela intuitivně)
také o abstraktní zdroj. Novým aspektem je zde skutečnost, že rezervaci a uvolnění neprovádí nutně
tentýž aktér – předání zprávy (resp. obecně informace) může zároveň předat vlastnictví tohoto typu
„zdroje“.
Tento jev je vázán k problému producentů a konzumentů (který, jak jsme zmiňovali výše, s komunikací úzce
souvisí): vytvoření a (zejména) uložení mezivýsledku je formou rezervace – počet mezivýsledků, které
jsme si ochotni pamatovat, je omezené, a jedná se tedy o konečný zdroj, který musí být producentovi
přidělen. Takto zablokovaná instance se ale uvolní tím, že konzument mezivýsledek použije.`,incorrect:`Komunikace
Protože komunikace je zároveň synchronizací, jedná se (možná ne zcela intuitivně)
také o abstraktní zdroj. Novým aspektem je zde skutečnost, že rezervaci a uvolnění musí provést stejný aktér – předání zprávy (resp. obecně informace) může zároveň předat vlastnictví tohoto typu
„zdroje“.
Tento jev je vázán k problému producentů a konzumentů (který, jak jsme zmiňovali výše, s komunikací úzce
souvisí): vytvoření a (zejména) uložení mezivýsledku je formou rezervace – počet mezivýsledků, které
jsme si ochotni pamatovat, je omezené, a jedná se tedy o konečný zdroj, který musí být producentovi
přidělen. Takto zablokovaná instance se ale uvolní tím, že konzument mezivýsledek použije.`},{uuid:"94f622ac-23d7-4dff-b7b5-bd702983fdad",correct:`Odnímatelné zdroje
Implicitně považujeme zdroje za neodnímatelné, ve smyslu, že jediný způsob,
jak může dojít k uvolnění zdroje, je dobrovolné vrácení vlastníkem. U řady zdrojů by mělo odebrání
pravděpodobně fatální následky minimálně pro dotčený program, a někdy také pro dotčený zdroj (3D
tiskárna, optická zapisovací mechanika, fotografická tiskárna, atp.). Uvážíme-li abstraktní zdroje,
násilné odebrání např. zmiňovaného mutex-u jistě nemůže mít pozitivní dopad na další fungování vlákna,
resp. programu jako celku.
Jiná je situace u zdrojů virtualizovaných, kde odebrání fyzického prostředku obvykle nepředstavuje
zásadní problém – plánovač vláken zcela běžně odebírá procesor běžícímu vláknu bez jeho souhlasu,
správce virtuální paměti může stránku přestěhovat z operační paměti do externí, atp. Na dotčený proces
(vlákno) to má jistě dopad, ale důsledky obvykle nejsou zdaleka tak závažné, jako v případě zdrojů
neodnímatelných.`,incorrect:`Odnímatelné zdroje
Implicitně považujeme zdroje za neodnímatelné, ve smyslu, že jediný způsob,
jak může dojít k uvolnění zdroje, je dobrovolné vrácení vlastníkem. U řady zdrojů by mělo odebrání
pravděpodobně fatální následky minimálně pro dotčený program, a někdy také pro dotčený zdroj (3D
tiskárna, optická zapisovací mechanika, fotografická tiskárna, atp.). Uvážíme-li abstraktní zdroje,
násilné odebrání např. zmiňovaného mutex-u jistě nemůže mít pozitivní dopad na další fungování vlákna,
resp. programu jako celku.
Situace u zdrojů virtualizovaných, je obdobná.`},{uuid:"4aee6a80-1900-437f-90f1-c34c4d7bda64",correct:`Podmínky uváznutí - Uváznutí může nastat, jsou-li splněny všechny 4 následující podmínky – přitom
požadovat umožnění každé z nich je samo o sobě přirozené a smysluplné
1. Vzájemné vyloučení
2. čekající vlastník
3. neodnímatelnost
4. kruhové čekání
Tyto podmínky nejsou postačující na to aby systém mohl uváznout.`,incorrect:`Podmínky uváznutí - Uváznutí může nastat, jsou-li splněny všechny 4 následující podmínky – přitom
požadovat umožnění každé z nich je samo o sobě přirozené a smysluplné
1. Vzájemné vyloučení
2. čekající vlastník
3. neodnímatelnost
4. kruhové čekání
Tyto podmínky jsou postačující na to aby systém mohl uváznout.`},{uuid:"3831d174-cc28-415f-b09f-25dc31e8dec4",correct:`Podmínky uváznutí - Uváznutí může nastat, jsou-li splněny všechny 4 následující podmínky – přitom
požadovat umožnění každé z nich je samo o sobě přirozené a smysluplné
1. Vzájemné vyloučení
2. čekající vlastník
3. neodnímatelnost
4. kruhové čekání
Tyto podmínky nejsou postačující na to aby systém mohl uváznout.`,incorrect:`Podmínky uváznutí - Uváznutí může nastat, je li splněna alespoň jedna z následující podmínek
1. Vzájemné vyloučení
2. čekající vlastník
3. neodnímatelnost
4. kruhové čekání
Jakákoliv z těchto podmínek je postačující aby systém mohl uváznout.`},{uuid:"b307278d-e4b7-4420-b750-500dcc4f5c47",correct:`Detekce uváznutí
Jednou možností jak uváznutí detekovat je použít dynamickou variantu grafu
závislostí zdrojů, který jsme použili k definici kruhového čekání. V tomto případě obsahuje graf dva
různé typy uzlů: vlákna, nebo jiné potenciální vlastníky a zdroje`,incorrect:`Detekce uváznutí
Jednou možností jak uváznutí detekovat je použít statickou variantu grafu
závislostí zdrojů, který jsme použili k definici globálního uspořádání. V tomto případě obsahuje graf dva
různé typy uzlů: vlákna, nebo jiné potenciální vlastníky a zdroje`},{uuid:"21ba46f6-79bf-4117-8b16-484e201efa76",correct:`Zotavení z uváznutí 
Účastní-li se cyklického čekání alespoň jeden odnímatelný zdroj, může
k uváznutí sice dojít, ale na rozdíl od standardní situace se lze z tohoto typu uváznutí relativně lehce 
zotavit (zejména se lze zotavit bez násilného ukončování vláken). Dočasným odebráním odnímatelného
zdroje se totiž cyklus čekajících vláken přeruší, a systém může pokračovat.`,incorrect:`Zotavení z uváznutí 
Účastní-li se cyklického čekání alespoň jeden odnímatelný zdroj, může
k uváznutí sice dojít, ale na rozdíl od standardní situace se lze z tohoto typu uváznutí relativně lehce 
zotavit a to násilným ukončením vlákna.`},{uuid:"da371ef6-831e-41da-b01d-6c728c94c69b",correct:`Vyhýbání uváznutí
Jinou možností jak se s uváznutím vypořádat je technika vyhýbání (angl.
avoidance). Klíčovým prvkem je zamítnout některé požadavky na rezervaci, i když je příslušný zdroj
dostupný, může-li taková rezervace vést k pozdějšímu uváznutí. Stavy, ze kterých může vždy alespoň
jedno vlákno vyváznout a úspěšně skončit (resp. uvolnit zdroje) označíme jako bezpečné.
Asi nejznámějším algoritmem pro vyhýbání uváznutí je tzv. bankéřův algoritmus, navržený E. Dijkstrou.`,incorrect:`Vyhýbání uváznutí
Jinou možností jak se s uváznutím vypořádat je technika vyhýbání (angl.
avoidance). Klíčovým prvkem je zamítnout některé požadavky na rezervaci, i když je příslušný zdroj
dostupný, může-li taková rezervace vést k pozdějšímu uváznutí. Stavy, ze kterých může vždy alespoň
jedno vlákno vyváznout a úspěšně skončit (resp. uvolnit zdroje) označíme jako bezpečné.
Asi nejznámějším algoritmem pro vyhýbání uváznutí je tzv. makleřův algoritmus, navržený E. Dijkstrou.`},{uuid:"3fdb637d-6062-46f7-a824-f88a8d1c7e54",correct:`Zamezení předrezervací Myšlenka předrezervace je jednoduchá – nesmíme připustit, aby vlákno,
které nějaký zdroj již vlastní, čekalo na nějaký zdroj (je lehce vidět, že systém pak nemůže uváznout).
Rezervace proto připustíme pouze v situaci, kdy žádající vlákno žádné zdroje nevlastní – aby byl systém
prakticky použitelný, musíme ovšem povolit rezervaci několika zdrojů najednou (dávkově).
Potřebuje-li tedy vlákno využít více zdrojů, musí je vyžádat všechny jedinou atomickou akcí (uvolňovat
je ovšem může postupně). Je-li potřeba rezervovat nějaký zdroj v situaci, kdy už dané vlákno nějaký
jiný zdroj vlastní, musí nejprve všechny zdroje uvolnit a opět je rezervovat společně s tím novým.`,incorrect:`Zamezení předrezervací Myšlenka předrezervace je jednoduchá – nesmíme připustit, aby vlákno,
které nějaký zdroj již vlastní, čekalo na nějaký zdroj (je lehce vidět, že systém pak nemůže uváznout).
Rezervace proto připustíme pouze v situaci, kdy žádající vlákno vlastní nějaké zdroje – aby byl systém
prakticky použitelný, musíme ovšem povolit rezervaci několika zdrojů najednou (dávkově).
Potřebuje-li tedy vlákno využít více zdrojů, musí je vyžádat všechny jedinou atomickou akcí (uvolňovat
je ovšem může postupně). Je-li potřeba rezervovat nějaký zdroj v situaci, kdy už dané vlákno nějaký
jiný zdroj vlastní, musí nejprve všechny zdroje uvolnit a opět je rezervovat společně s tím novým.`},{uuid:"9af94173-0918-4578-97da-b6b1999b2df7",correct:`Zamezení virtualizací 
Virtualizací jsme se podrobně zabývali v prvních 4 kapitolách – zdroje,
které jsou virtualizované, vůbec nepoužívají systém výlučné rezervace, nesplňují tedy podmínku vzá-
jemného vyloučení a nemohou přímo způsobit uváznutí. Mezi zdroje, které lze virtualizovat, patří
samozřejmě paměť, procesor a pevné úložiště (kapitoly 1–3) a některé periferie – terminál (obrazovka,
tiskárna, atp.) nebo síťová rozhraní (kapitola 4).`,incorrect:`Zamezení virtualizací 
Virtualizací jsme se podrobně zabývali v prvních 4 kapitolách – zdroje,
které jsou virtualizované, používají systém výlučné rezervace, splňují tedy podmínku vzá-
jemného vyloučení a nemohou přímo způsobit uváznutí. Mezi zdroje, které lze virtualizovat, patří
samozřejmě paměť, procesor a pevné úložiště (kapitoly 1–3) a některé periferie – terminál (obrazovka,
tiskárna, atp.) nebo síťová rozhraní (kapitola 4).`},{uuid:"a658e9ee-7da7-4159-a081-9ce8b0b896fc",correct:`Zamezení uspořádáním
Zbývá nám podmínka kruhového čekání – tomu lze zamezit například tím,
že se na zdrojích ustaví globální lineární uspořádání, které musí každé vlákno při rezervacích dodržet:
rezervovat lze pouze zdroj, který je v uspořádání větší než dosud největší zdroj vláknu přisouzený.
V takovém systému je statický graf závislostí zdrojů acyklický, k uváznutí tak nemůže dojít.
Podobně jako v případě předrezervace lze řešit i situace, kdy potřebujeme globální pořadí porušit –
vlákno se musí nejprve vzdát některých zdrojů a pak je znovu rezervovat ve správném pořadí.
Tento přístup je poměrně praktický na úrovni jednotlivého programu, nebo jiného uzavřeného systému,
nicméně pro operační systém jako celek se nehodí`,incorrect:`Zamezení uspořádáním
Zbývá nám podmínka kruhového čekání – tomu lze zamezit například tím,
že se na zdrojích ustaví globální lineární uspořádání, které musí každé vlákno při rezervacích dodržet:
rezervovat lze pouze zdroj, který je v uspořádání menší než dosud největší zdroj vláknu přisouzený.
V takovém systému je statický graf závislostí zdrojů acyklický, k uváznutí tak nemůže dojít.
Podobně jako v případě předrezervace lze řešit i situace, kdy potřebujeme globální pořadí porušit –
vlákno se musí nejprve vzdát některých zdrojů a pak je znovu rezervovat ve správném pořadí.
Tento přístup je poměrně praktický na úrovni jednotlivého programu, nebo jiného uzavřeného systému,
nicméně pro operační systém jako celek se nehodí`}]},{uuid:"be6acf2f-f519-492f-960d-17723f0fa0c6",title:"Část 8: Přerušení a periferie",statements:[{uuid:"90f6b117-8002-48c4-8fe8-2737e9763bb6",correct:`Přerušení je mechanismus, který umožňuje synchronizovat periferii a software –
v abstraktní rovině lze tedy o přerušení uvažovat jako o synchronizačním zařízení.
– přerušení je asymetrické v tom smyslu, že ho může vyvolat pouze periferie, nikoliv operační systém
nebo software obecně. Máme tedy zařízení, které je vždy aktivováno periferií – operační systém je
vždy pasivním účastníkem. Až na tyto rozdíly se přerušení podobá na podmínkovou proměnnou – slouží
k signalizaci nějaké události.`,incorrect:`Přerušení je mechanismus, který umožňuje synchronizovat periferii a software –
v abstraktní rovině lze tedy o přerušení uvažovat jako o synchronizačním zařízení.
– přerušení je symetrické v tom smyslu, že ho může vyvolat jak periferie tak i operační systém.
 Máme tedy zařízení, které je vždy aktivováno periferií nebo operačním systémem a ten druhý je
vždy pasivním účastníkem. Až na tyto rozdíly se přerušení podobá na podmínkovou proměnnou – slouží
k signalizaci nějaké události.`},{uuid:"7d9c4edb-206b-4c37-b5f1-06e4229974d2",correct:`Operační systém je samozřejmě program, který musí být vykonáván procesorem – proto
krom periferie a operačního systému musí do hry vstoupit i procesor.
Zejména se může stát, že ve chvíli, kdy přerušení nastane (je periferií vyvoláno), procesor nějaký
program právě vykonává. Navíc je často důležité, aby byla reakce na přerušení dostatečně rychlá – velká
prodleva obsluhy může mít řadu důsledků, od uživatelského nepohodlí až ke ztrátě dat.
Aby se prodleva minimalizovala, přerušení je realizováno preemptivně – cokoliv procesor v danou chvíli
prováděl je pozastaveno, aktuální stav vlákna (hodnoty registrů) je uložen do paměti a je spuštěna
obsluha přerušení.`,incorrect:`Operační systém je samozřejmě program, který musí být vykonáván procesorem – proto
krom periferie a operačního systému musí do hry vstoupit i procesor.
Zejména se může stát, že ve chvíli, kdy přerušení nastane (je periferií vyvoláno), procesor nějaký
program právě vykonává. Navíc je často důležité, aby operační systém daný program nepřerušil násilím,
proto je přerušení realizováno postemptivně – cokoliv procesor v danou chvíli prováděl je dokončeno a
až poté se spustí obsluha přerušení.`},{uuid:"0b567d26-8f97-4c3a-b252-a8ea74eca494",correct:`Instance přerušení
Obsluha přerušení je realizována podprogramem, kterého adresa je uvedena ve speciální
tabulce obsluhy přerušení. Chápeme-li přerušení jako synchronizační zařízení (podobné podmínkové
proměnné), je přirozené, že může existovat ve vícero instancích. Protože je ale realizováno hardwarově
na relativně nízké úrovni, těchto instancí je pevný počet (často do 256). Tabulka obsluhy přerušení
má pak pro každou instanci jednu položku, která určí který podprogram je daným přerušením aktivován.
Různé periferie pak typicky používají různé instance přerušení (instance jsou identifikovány číslem).`,incorrect:`Instance přerušení
Obsluha přerušení je realizována podprogramem, kterého adresa je uvedena ve speciální
registru. Chápeme-li přerušení jako synchronizační zařízení (podobné podmínkové
proměnné), je přirozené, že může existovat ve vícero instancích. Protože je ale realizováno hardwarově
na relativně nízké úrovni, těchto instancí je pevný počet (často do 256).
Podprogram má pak pro každou instanci speciální funkci, tzv. řadič přerušení,
který určí který podprogram je daným přerušením aktivován.
Různé periferie pak typicky používají různé instance přerušení (instance jsou identifikovány číslem).`},{uuid:"38ab12d8-a05c-4d0b-9611-6e555b36a7f2",correct:`Obslužný podprogram přerušení je (až na speciální prolog a epilog) stejný jako
libovolný jiný – může být třeba zapsaný v jazyce C, a zejména může volat další podprogramy. Proto musí
mít k dispozici jak registry (zabezpečeno uložením stavu procesoru před jeho aktivací), tak zásobník.
Protože na zásobníku, který byl ve chvíli kdy k přerušení došlo, nemusí být volné místo, je obvyklé, že
dojde také k přepnutí zásobníku. Konečně procesor se přepne do režimu jádra (privilegovaného režimu)
– obsluha přerušení má tedy stejný privilegovaný přístup k výpočetním zdrojům jako jakákoliv jiná
součást jádra.`,incorrect:`Obslužný podprogram přerušení je (až na speciální prolog a epilog) stejný jako
libovolný jiný až na jednu vyjímku – může být třeba zapsaný v jazyce C, ale nemůže volat další podprogramy, protože jádro je jen jedno.
Proto musí mít k dispozici jak registry (zabezpečeno uložením stavu procesoru před jeho aktivací), tak zásobník.
Protože na zásobníku, který byl ve chvíli kdy k přerušení došlo, nemusí být volné místo, je obvyklé, že
dojde také k přepnutí zásobníku. Konečně procesor se přepne do režimu jádra (privilegovaného režimu)
– obsluha přerušení má tedy stejný privilegovaný přístup k výpočetním zdrojům jako jakákoliv jiná
součást jádra.`},{uuid:"d6d5f1d5-2620-4c14-9ea2-0684888804f0",correct:`Obsluha přerušení
se nápadně podobá na aktivaci vlákna. Zároveň má ale vlastnosti aktivace podprogramu,
protože na rozdíl od vlákna se při ukončení obsluhy stav procesoru neukládá, a v obsluze tedy po jejím
ukončení nelze pokračovat. Můžeme tak obsluhu přerušení chápat jako vlákno s velmi krátkým životem.`,incorrect:`Obsluha přerušení
se nápadně podobá na aktivaci vlákna. Zároveň má ale vlastnosti aktivace podprogramu,
protože může být aktivována, uložena a případně obnovena v budoucnu. Můžeme tak obsluhu přerušení chápat jako speciální typ vlákna.`},{uuid:"a916f046-5652-436e-bcf1-260b3258ed55",correct:`Obsluha přerušení musí řešit 3 synchronizační scénáře:
1. synchronizace se zbytkem systému, který běží paralelně na jiných procesorových jádrech (včetně
případné obsluhy přerušení tam probíhající) – zde je v nějakém smyslu největší volnost, obvykle lze
použít spinlocky, případně některé nezamykající komunikační zařízení,
2. synchronizace se zbytkem systému, který běžel na stejném procesorovém jádře a byl obsluhou přerušen
– zde spinlock nepřichází v úvahu, protože přerušený podprogram nemůže být spuštěn před ukončením
obsluhy,
3. synchronizace s obsluhou souběžného přerušení vyvolané na stejném procesorovém jádře – spinlock
opět nepřichází v úvahu (ze stejného důvodu), pomůže zde ale speciální jednoúčelové synchronizační
zařízení – zákaz přerušení.
Je-li v platnosti zákaz daného přerušení, obsluha případného příchozího přerušení je odložena až do
chvíle, kdy je přerušení opět povoleno. Jedná se tak o formu vzájemného vyloučení specifickou pro
obslužné podprogramy.`,incorrect:`Obsluha přerušení musí řešit 3 synchronizační scénáře:
1. synchronizace s obsluhou souběžného přerušení vyvolané na stejném procesorovém jádře – zde je v nějakém smyslu největší volnost, obvykle lze
použít spinlocky, případně některé nezamykající komunikační zařízení,
2. synchronizace se zbytkem systému, který běžel na stejném procesorovém jádře a byl obsluhou přerušen
– zde spinlock nepřichází v úvahu, protože přerušený podprogram nemůže být spuštěn před ukončením
obsluhy,
3.  synchronizace se zbytkem systému, který běží paralelně na jiných procesorových jádrech (včetně
případné obsluhy přerušení tam probíhající) – spinlock
opět nepřichází v úvahu (ze stejného důvodu), pomůže zde ale speciální jednoúčelové synchronizační
zařízení – zákaz přerušení.
Je-li v platnosti zákaz daného přerušení, obsluha případného příchozího přerušení je odložena až do
chvíle, kdy je přerušení opět povoleno. Jedná se tak o formu vzájemného vyloučení specifickou pro
obslužné podprogramy.`},{uuid:"bcb652d7-e47a-4b53-b61f-3cfa02a478d7",correct:`Vzpomeňme, že aktivace procesu je relativně drahá operace: musí se změnit mapování paměti.
Proto se při aktivaci obsluhy přerušení proces nepřepíná: běží v adresním prostoru, který byl zrovna
aktivní. To mimo jiné znamená, že struktury, které obsluha využívá, musí být dostupné ve všech virtuálních
adresních prostorech, a navíc musí být dostupné na stejných adresách. Obsluha přerušení tak vytvoří
pomyslné vlákno v procesu, který je právě aktivní.`,incorrect:`Vzpomeňme, že aktivace procesu je relativně drahá operace: musí se změnit mapování paměti.
Proto se při aktivaci obsluhy přerušení proces nepřepíná: běží v adresním prostoru, který byl zrovna
aktivní. To mimo jiné znamená, že struktury, které obsluha využívá, musí být nějakým způsobem dostupné pro všechny procesory.
Obsluha přerušení tak využívá speciální procesor přímo určený na tuto činnost.`},{uuid:"7b87f202-7015-479a-b5c5-1c1e69aa4cb5",correct:`Struktura obsluhy
1. při vstupu do obsluhy přerušení se zakážou další přerušení (může vykonat přímo procesor jako součást
aktivace obsluhy) –
∘ minimálně toho typu, které bylo právě aktivováno, mají-li přerušení priority tak také všechna
přerušení nižších priorit, a v některých systémech úplně všechna přerušení,
∘ tím jsou ochráněny libovolné kritické sekce obsluhy přerušení vůči sobě samé, a také je tím
omezen počet aktivačních záznamů na zásobníku (jinak by hrozilo, že příliš mnoho rychle příchozích
přerušení zásobník vyčerpá),
2. obsluha vykoná minimální nutnou akci, která uvede systém do provozuschopného stavu:
∘ např. vyprázdní mezipaměti, které by jinak přetekly, a provede další akce, které nelze odložit,
∘ minimálně část plánovače je tohoto charakteru (je aktivován obsluhou přerušení časovače – více
později),
∘ libovolné datové struktury, které zde využívá, a které využívá i jiná část jádra, musí být buď
použitelné zcela bez zamykání (např. některé komunikační zařízení probrané v předchozí kapitole,
které nepoužívá zámky), nebo musí být na straně zbytku jádra chráněny zákazem přerušení,
3. naplánuje zbývající akce (obsluha druhé úrovně) na pozdější vykonání – tento krok vyžaduje komunikaci
se zbytkem jádra (někde musí informaci o potřebné návazné akci převzít jiná část jádra, která je
s obsluhou přerušení jinak souběžná).`,incorrect:`Struktura obsluhy
1. při vstupu do obsluhy přerušení se zakážou další přerušení (může vykonat přímo procesor jako součást
aktivace obsluhy) –
∘ minimálně toho typu, které bylo právě aktivováno, mají-li přerušení priority tak také všechna
přerušení nižších priorit, a v některých systémech úplně všechna přerušení,
∘ tím jsou ochráněny libovolné kritické sekce obsluhy přerušení vůči sobě samé, a také je tím
omezen počet aktivačních záznamů na zásobníku (jinak by hrozilo, že příliš mnoho rychle příchozích
přerušení zásobník vyčerpá),
2. obsluha vykoná minimální nutnou akci, která uvede systém do provozuschopného stavu:
∘ např. vyprázdní mezipaměti, které by jinak přetekly, a provede další akce, které nelze odložit,
∘ minimálně část plánovače je tohoto charakteru (je aktivován obsluhou přerušení časovače – více
později),
∘ libovolné datové struktury, které zde využívá, a které využívá i jiná část jádra, musí být 
zamykatelné (spinlockem nebo jiným synchronizačním zařízením) nebo musí být v části jádra, která není chráněny zákazem přerušení,
3. naplánuje zbývající akce (obsluha druhé úrovně) na pozdější vykonání – tento krok vyžaduje komunikaci
se zbytkem jádra (někde musí informaci o potřebné návazné akci převzít jiná část jádra, která je
s obsluhou přerušení jinak souběžná).`},{uuid:"9e1809e9-5fdf-4047-9f48-88363b7795f2",correct:`Notifikace
Nejzákladnější formou přerušení je notifikace – upozornění na nějakou obecnou událost.
Tento typ přerušení je obvykle relativně nezávazný v tom smyslu, že zdržení nebo i úplný výpadek obsluhy
systém ani zpracovávaná data nijak neohrozí. `,incorrect:`Notifikace
Nejzákladnější formou přerušení je notifikace – upozornění na nějakou obecnou událost.
Tento typ přerušení je extrémně spolehlivý a nedovoluje chyby, protože zdržení nebo i úplný výpadek obsluhy může
systém nebo data ohrozit. `},{uuid:"86349c09-5160-45a1-ab09-76b4586bc5cb",correct:`DMA
Zařízení s větší šířkou pásma obvykle pro přenos dat používají DMA, tzn. režim, kdy periferie
přesouvá data do operační paměti souběžně s běžným provozem zbytku systému. Tyto přenosy je ale
nutné synchronizovat s operačním systémem (resp. s ovladačem zařízení, který je součástí operačního
systému).
Směrem k periferii je synchronizace realizována zápisem do registru, opačným směrem ale podobný
mechanismus použít nelze – periferie místo toho signalizuje dokončení přenosu přerušením.
`,incorrect:`DMA
Zařízení s větší šířkou pásma obvykle pro přenos dat používají DMA, tzn. režim, kdy periferie
přesouvá data do operační paměti souběžně s běžným provozem zbytku systému. Tyto přenosy je ale
nutné synchronizovat s operačním systémem (resp. s ovladačem zařízení, který je součástí operačního
systému).
Směrem k periferii je synchronizace realizována přerušením, opačným směrem ale podobný
mechanismus použít nelze – periferie místo toho zapisuje přímo do registrů procesoru.
`},{uuid:"af9e81df-3822-4a55-990a-1752b064c05e",correct:`Časovač - mainupalce s frontami vláken
Tyto operace musí být:
1. chráněny proti zásahům jiných procesorových jader (obvykle spinlockem, alternativně by mohl být
celý plánovač postaven na komunikačních zařízeních bez zámků; uspání zde nepřichází v úvahu),
2. chráněny proti přerušení (zákazem) a tedy musí být zároveň
3. efektivní (konstantní nebo nejvýše logaritmické v počtu vláken),
4. synchronizace v bodech 1 a 2 musí být velmi důsledně koordinovaná: plánovač nesmí zamknout spinlock,
aniž by byla zároveň zakázána přerušení (jinak by mohlo dojít k uváznutí), ale zároveň nesmí na
spinlock příliš dlouho čekat (protože musí být při čekání zakázaná přerušení, tzn. jedná se o časově
kritickou operaci).
`,incorrect:`Časovač - mainupalce s frontami vláken
Tyto operace musí být:
1. chráněny proti zásahům jiných procesorových jader (obvykle spinlockem, alternativně by mohl být
celý plánovač postaven na komunikačních zařízeních bez zámků; uspání zde nepřichází v úvahu),
2. chráněny proti přerušení (zákazem) a tedy musí být zároveň
3. efektivní (konstantní nebo nejvýše logaritmické v počtu vláken),
4. synchronizace v bodech 1 a 2 musí být velmi důsledně koordinovaná: plánovač musí zamknout spinlock,
a zároveň musí být platný zakáz přerušení (jinak by mohlo dojít k uváznutí), ale zároveň nesmí na
spinlock příliš dlouho čekat (protože musí být při čekání zakázaná přerušení, tzn. jedná se o časově
kritickou operaci).
`}]}];function Uj(){return g.jsxs(g.Fragment,{children:[g.jsxs("p",{className:"font-light mb-4 text-sm ",children:["Tato aplikace slouží na procvičení znalostí z předmětu PB152.",g.jsx("br",{})," Akékoliv chyby, připomínky, nápady na vylepšení, nebo návrhy na nové otázky můžete nahlásit na"," ",g.jsxs("a",{href:"https://discord.gg/ztabDQ4jNv",className:"underline hover:text-blue-500",target:"_blank",children:["Discord",g.jsx(jo,{className:"w-3 h-3 inline self-center"})]})]}),g.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-[1fr_auto_1fr] gap-4",children:[g.jsxs("div",{className:"flex flex-col gap-1",children:[g.jsx("h2",{className:"text-xl",children:"Zápočet"}),g.jsx(po,{to:"/credit",children:g.jsx(Ln,{className:"w-full",children:"Všechny části"})}),Oo.map((e,n)=>g.jsx(po,{to:`/credit/${e.uuid}`,children:g.jsx(Ln,{variant:"outline",className:"w-full",children:e.title},n)},n))]}),g.jsx("div",{className:"h-[0.1rem] md:h-full w-full md:w-[0.1rem] bg-border rounded-full"}),g.jsxs("div",{className:"flex flex-col gap-1",children:[g.jsx("h2",{className:"text-xl",children:"Zkouška"}),g.jsx(po,{to:"/exam",children:g.jsx(Ln,{className:"w-full",children:"Všechny části"})}),Do.map((e,n)=>g.jsx(po,{to:`/exam/${e.uuid}`,children:g.jsx(Ln,{variant:"outline",className:"w-full",children:e.title},n)},n))]})]})]})}function Vj({uuid:e}){const n=Oo.find(t=>t.uuid===e);return n?[n,null]:[null,new Error("Section not found")]}function Bj(){return[Oo,null]}function Wj({uuid:e}){const n=Oo.map(t=>t.statements).flat().find(t=>t.uuid===e);return n?[n,null]:[null,new Error("Statement not found")]}function Kj(){return[Oo.map(n=>n.statements).flat(),null]}function Hj({count:e=5,sections:n}){const o=Oo.filter(a=>n?n.includes(a.uuid):!0).map(a=>a.statements).flat();return o.length<e?[null,new Error("Not enough statements")]:[o.sort(()=>Math.random()-.5).slice(0,e),null]}const ml={getSingleSection:Vj,getAllSections:Bj,getSingleStatement:Wj,getAllStatements:Kj,getRandomStatements:Hj};function ht(){return ht=Object.assign?Object.assign.bind():function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var o in t)({}).hasOwnProperty.call(t,o)&&(e[o]=t[o])}return e},ht.apply(null,arguments)}function Zj(e,n){typeof e=="function"?e(n):e!=null&&(e.current=n)}function Pm(...e){return n=>e.forEach(t=>Zj(t,n))}function Cm(...e){return c.useCallback(Pm(...e),e)}function Jj(e,n=[]){let t=[];function o(a,i){const s=c.createContext(i),l=t.length;t=[...t,i];function u(p){const{scope:v,children:z,...j}=p,k=(v==null?void 0:v[e][l])||s,w=c.useMemo(()=>j,Object.values(j));return c.createElement(k.Provider,{value:w},z)}function d(p,v){const z=(v==null?void 0:v[e][l])||s,j=c.useContext(z);if(j)return j;if(i!==void 0)return i;throw new Error(`\`${p}\` must be used within \`${a}\``)}return u.displayName=a+"Provider",[u,d]}const r=()=>{const a=t.map(i=>c.createContext(i));return function(s){const l=(s==null?void 0:s[e])||a;return c.useMemo(()=>({[`__scope${e}`]:{...s,[e]:l}}),[s,l])}};return r.scopeName=e,[o,Qj(r,...n)]}function Qj(...e){const n=e[0];if(e.length===1)return n;const t=()=>{const o=e.map(r=>({useScope:r(),scopeName:r.scopeName}));return function(a){const i=o.reduce((s,{useScope:l,scopeName:u})=>{const p=l(a)[`__scope${u}`];return{...s,...p}},{});return c.useMemo(()=>({[`__scope${n.scopeName}`]:i}),[i])}};return t.scopeName=n.scopeName,t}function zd(e,n,{checkForDefaultPrevented:t=!0}={}){return function(r){if(e==null||e(r),t===!1||!r.defaultPrevented)return n==null?void 0:n(r)}}function Rm(e){const n=c.useRef(e);return c.useEffect(()=>{n.current=e}),c.useMemo(()=>(...t)=>{var o;return(o=n.current)===null||o===void 0?void 0:o.call(n,...t)},[])}function Gj({prop:e,defaultProp:n,onChange:t=()=>{}}){const[o,r]=Xj({defaultProp:n,onChange:t}),a=e!==void 0,i=a?e:o,s=Rm(t),l=c.useCallback(u=>{if(a){const p=typeof u=="function"?u(e):u;p!==e&&s(p)}else r(u)},[a,e,r,s]);return[i,l]}function Xj({defaultProp:e,onChange:n}){const t=c.useState(e),[o]=t,r=c.useRef(o),a=Rm(n);return c.useEffect(()=>{r.current!==o&&(a(o),r.current=o)},[o,r,a]),t}function Yj(e){const n=c.useRef({value:e,previous:e});return c.useMemo(()=>(n.current.value!==e&&(n.current.previous=n.current.value,n.current.value=e),n.current.previous),[e])}const fl=globalThis!=null&&globalThis.document?c.useLayoutEffect:()=>{};function qj(e){const[n,t]=c.useState(void 0);return fl(()=>{if(e){t({width:e.offsetWidth,height:e.offsetHeight});const o=new ResizeObserver(r=>{if(!Array.isArray(r)||!r.length)return;const a=r[0];let i,s;if("borderBoxSize"in a){const l=a.borderBoxSize,u=Array.isArray(l)?l[0]:l;i=u.inlineSize,s=u.blockSize}else i=e.offsetWidth,s=e.offsetHeight;t({width:i,height:s})});return o.observe(e,{box:"border-box"}),()=>o.unobserve(e)}else t(void 0)},[e]),n}function eb(e,n){return c.useReducer((t,o)=>{const r=n[t][o];return r??t},e)}const Nm=e=>{const{present:n,children:t}=e,o=nb(n),r=typeof t=="function"?t({present:o.isPresent}):c.Children.only(t),a=Cm(o.ref,r.ref);return typeof t=="function"||o.isPresent?c.cloneElement(r,{ref:a}):null};Nm.displayName="Presence";function nb(e){const[n,t]=c.useState(),o=c.useRef({}),r=c.useRef(e),a=c.useRef("none"),i=e?"mounted":"unmounted",[s,l]=eb(i,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return c.useEffect(()=>{const u=da(o.current);a.current=s==="mounted"?u:"none"},[s]),fl(()=>{const u=o.current,d=r.current;if(d!==e){const v=a.current,z=da(u);e?l("MOUNT"):z==="none"||(u==null?void 0:u.display)==="none"?l("UNMOUNT"):l(d&&v!==z?"ANIMATION_OUT":"UNMOUNT"),r.current=e}},[e,l]),fl(()=>{if(n){const u=p=>{const z=da(o.current).includes(p.animationName);p.target===n&&z&&$r.flushSync(()=>l("ANIMATION_END"))},d=p=>{p.target===n&&(a.current=da(o.current))};return n.addEventListener("animationstart",d),n.addEventListener("animationcancel",u),n.addEventListener("animationend",u),()=>{n.removeEventListener("animationstart",d),n.removeEventListener("animationcancel",u),n.removeEventListener("animationend",u)}}else l("ANIMATION_END")},[n,l]),{isPresent:["mounted","unmountSuspended"].includes(s),ref:c.useCallback(u=>{u&&(o.current=getComputedStyle(u)),t(u)},[])}}function da(e){return(e==null?void 0:e.animationName)||"none"}const Tm=c.forwardRef((e,n)=>{const{children:t,...o}=e,r=c.Children.toArray(t),a=r.find(ob);if(a){const i=a.props.children,s=r.map(l=>l===a?c.Children.count(i)>1?c.Children.only(null):c.isValidElement(i)?i.props.children:null:l);return c.createElement(kl,ht({},o,{ref:n}),c.isValidElement(i)?c.cloneElement(i,void 0,s):null)}return c.createElement(kl,ht({},o,{ref:n}),t)});Tm.displayName="Slot";const kl=c.forwardRef((e,n)=>{const{children:t,...o}=e;return c.isValidElement(t)?c.cloneElement(t,{...rb(o,t.props),ref:n?Pm(n,t.ref):t.ref}):c.Children.count(t)>1?c.Children.only(null):null});kl.displayName="SlotClone";const tb=({children:e})=>c.createElement(c.Fragment,null,e);function ob(e){return c.isValidElement(e)&&e.type===tb}function rb(e,n){const t={...n};for(const o in n){const r=e[o],a=n[o];/^on[A-Z]/.test(o)?r&&a?t[o]=(...s)=>{a(...s),r(...s)}:r&&(t[o]=r):o==="style"?t[o]={...r,...a}:o==="className"&&(t[o]=[r,a].filter(Boolean).join(" "))}return{...e,...t}}const ab=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],_m=ab.reduce((e,n)=>{const t=c.forwardRef((o,r)=>{const{asChild:a,...i}=o,s=a?Tm:n;return c.useEffect(()=>{window[Symbol.for("radix-ui")]=!0},[]),c.createElement(s,ht({},i,{ref:r}))});return t.displayName=`Primitive.${n}`,{...e,[n]:t}},{}),Mm="Checkbox",[ib,f0]=Jj(Mm),[sb,lb]=ib(Mm),ub=c.forwardRef((e,n)=>{const{__scopeCheckbox:t,name:o,checked:r,defaultChecked:a,required:i,disabled:s,value:l="on",onCheckedChange:u,...d}=e,[p,v]=c.useState(null),z=Cm(n,h=>v(h)),j=c.useRef(!1),k=p?!!p.closest("form"):!0,[w=!1,f]=Gj({prop:r,defaultProp:a,onChange:u}),m=c.useRef(w);return c.useEffect(()=>{const h=p==null?void 0:p.form;if(h){const x=()=>f(m.current);return h.addEventListener("reset",x),()=>h.removeEventListener("reset",x)}},[p,f]),c.createElement(sb,{scope:t,state:w,disabled:s},c.createElement(_m.button,ht({type:"button",role:"checkbox","aria-checked":Tt(w)?"mixed":w,"aria-required":i,"data-state":Om(w),"data-disabled":s?"":void 0,disabled:s,value:l},d,{ref:z,onKeyDown:zd(e.onKeyDown,h=>{h.key==="Enter"&&h.preventDefault()}),onClick:zd(e.onClick,h=>{f(x=>Tt(x)?!0:!x),k&&(j.current=h.isPropagationStopped(),j.current||h.stopPropagation())})})),k&&c.createElement(pb,{control:p,bubbles:!j.current,name:o,value:l,checked:w,required:i,disabled:s,style:{transform:"translateX(-100%)"}}))}),cb="CheckboxIndicator",db=c.forwardRef((e,n)=>{const{__scopeCheckbox:t,forceMount:o,...r}=e,a=lb(cb,t);return c.createElement(Nm,{present:o||Tt(a.state)||a.state===!0},c.createElement(_m.span,ht({"data-state":Om(a.state),"data-disabled":a.disabled?"":void 0},r,{ref:n,style:{pointerEvents:"none",...e.style}})))}),pb=e=>{const{control:n,checked:t,bubbles:o=!0,...r}=e,a=c.useRef(null),i=Yj(t),s=qj(n);return c.useEffect(()=>{const l=a.current,u=window.HTMLInputElement.prototype,p=Object.getOwnPropertyDescriptor(u,"checked").set;if(i!==t&&p){const v=new Event("click",{bubbles:o});l.indeterminate=Tt(t),p.call(l,Tt(t)?!1:t),l.dispatchEvent(v)}},[i,t,o]),c.createElement("input",ht({type:"checkbox","aria-hidden":!0,defaultChecked:Tt(t)?!1:t},r,{tabIndex:-1,ref:a,style:{...e.style,...s,position:"absolute",pointerEvents:"none",opacity:0,margin:0}}))};function Tt(e){return e==="indeterminate"}function Om(e){return Tt(e)?"indeterminate":e?"checked":"unchecked"}const Dm=ub,vb=db,Lm=c.forwardRef(({className:e,...n},t)=>g.jsx(Dm,{ref:t,className:Bn("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",e),...n,children:g.jsx(vb,{className:Bn("flex items-center justify-center text-current"),children:g.jsx(lm,{className:"h-4 w-4"})})}));Lm.displayName=Dm.displayName;function fr(e,n,{checkForDefaultPrevented:t=!0}={}){return function(r){if(e==null||e(r),t===!1||!r.defaultPrevented)return n==null?void 0:n(r)}}function jd(e,n){if(typeof e=="function")return e(n);e!=null&&(e.current=n)}function mb(...e){return n=>{let t=!1;const o=e.map(r=>{const a=jd(r,n);return!t&&typeof a=="function"&&(t=!0),a});if(t)return()=>{for(let r=0;r<o.length;r++){const a=o[r];typeof a=="function"?a():jd(e[r],null)}}}}function wi(...e){return c.useCallback(mb(...e),e)}function fb(e,n){const t=c.createContext(n),o=a=>{const{children:i,...s}=a,l=c.useMemo(()=>s,Object.values(s));return g.jsx(t.Provider,{value:l,children:i})};o.displayName=e+"Provider";function r(a){const i=c.useContext(t);if(i)return i;if(n!==void 0)return n;throw new Error(`\`${a}\` must be used within \`${e}\``)}return[o,r]}function kb(e,n=[]){let t=[];function o(a,i){const s=c.createContext(i),l=t.length;t=[...t,i];const u=p=>{var f;const{scope:v,children:z,...j}=p,k=((f=v==null?void 0:v[e])==null?void 0:f[l])||s,w=c.useMemo(()=>j,Object.values(j));return g.jsx(k.Provider,{value:w,children:z})};u.displayName=a+"Provider";function d(p,v){var k;const z=((k=v==null?void 0:v[e])==null?void 0:k[l])||s,j=c.useContext(z);if(j)return j;if(i!==void 0)return i;throw new Error(`\`${p}\` must be used within \`${a}\``)}return[u,d]}const r=()=>{const a=t.map(i=>c.createContext(i));return function(s){const l=(s==null?void 0:s[e])||a;return c.useMemo(()=>({[`__scope${e}`]:{...s,[e]:l}}),[s,l])}};return r.scopeName=e,[o,hb(r,...n)]}function hb(...e){const n=e[0];if(e.length===1)return n;const t=()=>{const o=e.map(r=>({useScope:r(),scopeName:r.scopeName}));return function(a){const i=o.reduce((s,{useScope:l,scopeName:u})=>{const p=l(a)[`__scope${u}`];return{...s,...p}},{});return c.useMemo(()=>({[`__scope${n.scopeName}`]:i}),[i])}};return t.scopeName=n.scopeName,t}var yb=globalThis!=null&&globalThis.document?c.useLayoutEffect:()=>{},zb=Gd.useId||(()=>{}),jb=0;function is(e){const[n,t]=c.useState(zb());return yb(()=>{e||t(o=>o??String(jb++))},[e]),e||(n?`radix-${n}`:"")}function Am(e){const n=c.useRef(e);return c.useEffect(()=>{n.current=e}),c.useMemo(()=>(...t)=>{var o;return(o=n.current)==null?void 0:o.call(n,...t)},[])}function bb({prop:e,defaultProp:n,onChange:t=()=>{}}){const[o,r]=gb({defaultProp:n,onChange:t}),a=e!==void 0,i=a?e:o,s=Am(t),l=c.useCallback(u=>{if(a){const p=typeof u=="function"?u(e):u;p!==e&&s(p)}else r(u)},[a,e,r,s]);return[i,l]}function gb({defaultProp:e,onChange:n}){const t=c.useState(e),[o]=t,r=c.useRef(o),a=Am(n);return c.useEffect(()=>{r.current!==o&&(a(o),r.current=o)},[o,r,a]),t}function ss(e,n,{checkForDefaultPrevented:t=!0}={}){return function(r){if(e==null||e(r),t===!1||!r.defaultPrevented)return n==null?void 0:n(r)}}var wb=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],Im=wb.reduce((e,n)=>{const t=c.forwardRef((o,r)=>{const{asChild:a,...i}=o,s=a?Vt:n;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),g.jsx(s,{...i,ref:r})});return t.displayName=`Primitive.${n}`,{...e,[n]:t}},{});function xb(e,n){e&&$r.flushSync(()=>e.dispatchEvent(n))}function bd(e,n){if(typeof e=="function")return e(n);e!=null&&(e.current=n)}function Sb(...e){return n=>{let t=!1;const o=e.map(r=>{const a=bd(r,n);return!t&&typeof a=="function"&&(t=!0),a});if(t)return()=>{for(let r=0;r<o.length;r++){const a=o[r];typeof a=="function"?a():bd(e[r],null)}}}}function Fm(...e){return c.useCallback(Sb(...e),e)}function $m(e){const n=c.useRef(e);return c.useEffect(()=>{n.current=e}),c.useMemo(()=>(...t)=>{var o;return(o=n.current)==null?void 0:o.call(n,...t)},[])}function Eb(e){const n=c.useRef(e);return c.useEffect(()=>{n.current=e}),c.useMemo(()=>(...t)=>{var o;return(o=n.current)==null?void 0:o.call(n,...t)},[])}function Pb(e,n=globalThis==null?void 0:globalThis.document){const t=Eb(e);c.useEffect(()=>{const o=r=>{r.key==="Escape"&&t(r)};return n.addEventListener("keydown",o,{capture:!0}),()=>n.removeEventListener("keydown",o,{capture:!0})},[t,n])}var Cb="DismissableLayer",hl="dismissableLayer.update",Rb="dismissableLayer.pointerDownOutside",Nb="dismissableLayer.focusOutside",gd,Um=c.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Vm=c.forwardRef((e,n)=>{const{disableOutsidePointerEvents:t=!1,onEscapeKeyDown:o,onPointerDownOutside:r,onFocusOutside:a,onInteractOutside:i,onDismiss:s,...l}=e,u=c.useContext(Um),[d,p]=c.useState(null),v=(d==null?void 0:d.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,z]=c.useState({}),j=Fm(n,y=>p(y)),k=Array.from(u.layers),[w]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),f=k.indexOf(w),m=d?k.indexOf(d):-1,h=u.layersWithOutsidePointerEventsDisabled.size>0,x=m>=f,P=Mb(y=>{const R=y.target,L=[...u.branches].some(M=>M.contains(R));!x||L||(r==null||r(y),i==null||i(y),y.defaultPrevented||s==null||s())},v),_=Ob(y=>{const R=y.target;[...u.branches].some(M=>M.contains(R))||(a==null||a(y),i==null||i(y),y.defaultPrevented||s==null||s())},v);return Pb(y=>{m===u.layers.size-1&&(o==null||o(y),!y.defaultPrevented&&s&&(y.preventDefault(),s()))},v),c.useEffect(()=>{if(d)return t&&(u.layersWithOutsidePointerEventsDisabled.size===0&&(gd=v.body.style.pointerEvents,v.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(d)),u.layers.add(d),wd(),()=>{t&&u.layersWithOutsidePointerEventsDisabled.size===1&&(v.body.style.pointerEvents=gd)}},[d,v,t,u]),c.useEffect(()=>()=>{d&&(u.layers.delete(d),u.layersWithOutsidePointerEventsDisabled.delete(d),wd())},[d,u]),c.useEffect(()=>{const y=()=>z({});return document.addEventListener(hl,y),()=>document.removeEventListener(hl,y)},[]),g.jsx(Im.div,{...l,ref:j,style:{pointerEvents:h?x?"auto":"none":void 0,...e.style},onFocusCapture:ss(e.onFocusCapture,_.onFocusCapture),onBlurCapture:ss(e.onBlurCapture,_.onBlurCapture),onPointerDownCapture:ss(e.onPointerDownCapture,P.onPointerDownCapture)})});Vm.displayName=Cb;var Tb="DismissableLayerBranch",_b=c.forwardRef((e,n)=>{const t=c.useContext(Um),o=c.useRef(null),r=Fm(n,o);return c.useEffect(()=>{const a=o.current;if(a)return t.branches.add(a),()=>{t.branches.delete(a)}},[t.branches]),g.jsx(Im.div,{...e,ref:r})});_b.displayName=Tb;function Mb(e,n=globalThis==null?void 0:globalThis.document){const t=$m(e),o=c.useRef(!1),r=c.useRef(()=>{});return c.useEffect(()=>{const a=s=>{if(s.target&&!o.current){let l=function(){Bm(Rb,t,u,{discrete:!0})};const u={originalEvent:s};s.pointerType==="touch"?(n.removeEventListener("click",r.current),r.current=l,n.addEventListener("click",r.current,{once:!0})):l()}else n.removeEventListener("click",r.current);o.current=!1},i=window.setTimeout(()=>{n.addEventListener("pointerdown",a)},0);return()=>{window.clearTimeout(i),n.removeEventListener("pointerdown",a),n.removeEventListener("click",r.current)}},[n,t]),{onPointerDownCapture:()=>o.current=!0}}function Ob(e,n=globalThis==null?void 0:globalThis.document){const t=$m(e),o=c.useRef(!1);return c.useEffect(()=>{const r=a=>{a.target&&!o.current&&Bm(Nb,t,{originalEvent:a},{discrete:!1})};return n.addEventListener("focusin",r),()=>n.removeEventListener("focusin",r)},[n,t]),{onFocusCapture:()=>o.current=!0,onBlurCapture:()=>o.current=!1}}function wd(){const e=new CustomEvent(hl);document.dispatchEvent(e)}function Bm(e,n,t,{discrete:o}){const r=t.originalEvent.target,a=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:t});n&&r.addEventListener(e,n,{once:!0}),o?xb(r,a):r.dispatchEvent(a)}function xd(e,n){if(typeof e=="function")return e(n);e!=null&&(e.current=n)}function Db(...e){return n=>{let t=!1;const o=e.map(r=>{const a=xd(r,n);return!t&&typeof a=="function"&&(t=!0),a});if(t)return()=>{for(let r=0;r<o.length;r++){const a=o[r];typeof a=="function"?a():xd(e[r],null)}}}}function Lb(...e){return c.useCallback(Db(...e),e)}var Ab=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],Ib=Ab.reduce((e,n)=>{const t=c.forwardRef((o,r)=>{const{asChild:a,...i}=o,s=a?Vt:n;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),g.jsx(s,{...i,ref:r})});return t.displayName=`Primitive.${n}`,{...e,[n]:t}},{});function Sd(e){const n=c.useRef(e);return c.useEffect(()=>{n.current=e}),c.useMemo(()=>(...t)=>{var o;return(o=n.current)==null?void 0:o.call(n,...t)},[])}var ls="focusScope.autoFocusOnMount",us="focusScope.autoFocusOnUnmount",Ed={bubbles:!1,cancelable:!0},Fb="FocusScope",Wm=c.forwardRef((e,n)=>{const{loop:t=!1,trapped:o=!1,onMountAutoFocus:r,onUnmountAutoFocus:a,...i}=e,[s,l]=c.useState(null),u=Sd(r),d=Sd(a),p=c.useRef(null),v=Lb(n,k=>l(k)),z=c.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;c.useEffect(()=>{if(o){let k=function(h){if(z.paused||!s)return;const x=h.target;s.contains(x)?p.current=x:et(p.current,{select:!0})},w=function(h){if(z.paused||!s)return;const x=h.relatedTarget;x!==null&&(s.contains(x)||et(p.current,{select:!0}))},f=function(h){if(document.activeElement===document.body)for(const P of h)P.removedNodes.length>0&&et(s)};document.addEventListener("focusin",k),document.addEventListener("focusout",w);const m=new MutationObserver(f);return s&&m.observe(s,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",k),document.removeEventListener("focusout",w),m.disconnect()}}},[o,s,z.paused]),c.useEffect(()=>{if(s){Cd.add(z);const k=document.activeElement;if(!s.contains(k)){const f=new CustomEvent(ls,Ed);s.addEventListener(ls,u),s.dispatchEvent(f),f.defaultPrevented||($b(Kb(Km(s)),{select:!0}),document.activeElement===k&&et(s))}return()=>{s.removeEventListener(ls,u),setTimeout(()=>{const f=new CustomEvent(us,Ed);s.addEventListener(us,d),s.dispatchEvent(f),f.defaultPrevented||et(k??document.body,{select:!0}),s.removeEventListener(us,d),Cd.remove(z)},0)}}},[s,u,d,z]);const j=c.useCallback(k=>{if(!t&&!o||z.paused)return;const w=k.key==="Tab"&&!k.altKey&&!k.ctrlKey&&!k.metaKey,f=document.activeElement;if(w&&f){const m=k.currentTarget,[h,x]=Ub(m);h&&x?!k.shiftKey&&f===x?(k.preventDefault(),t&&et(h,{select:!0})):k.shiftKey&&f===h&&(k.preventDefault(),t&&et(x,{select:!0})):f===m&&k.preventDefault()}},[t,o,z.paused]);return g.jsx(Ib.div,{tabIndex:-1,...i,ref:v,onKeyDown:j})});Wm.displayName=Fb;function $b(e,{select:n=!1}={}){const t=document.activeElement;for(const o of e)if(et(o,{select:n}),document.activeElement!==t)return}function Ub(e){const n=Km(e),t=Pd(n,e),o=Pd(n.reverse(),e);return[t,o]}function Km(e){const n=[],t=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:o=>{const r=o.tagName==="INPUT"&&o.type==="hidden";return o.disabled||o.hidden||r?NodeFilter.FILTER_SKIP:o.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;t.nextNode();)n.push(t.currentNode);return n}function Pd(e,n){for(const t of e)if(!Vb(t,{upTo:n}))return t}function Vb(e,{upTo:n}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(n!==void 0&&e===n)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function Bb(e){return e instanceof HTMLInputElement&&"select"in e}function et(e,{select:n=!1}={}){if(e&&e.focus){const t=document.activeElement;e.focus({preventScroll:!0}),e!==t&&Bb(e)&&n&&e.select()}}var Cd=Wb();function Wb(){let e=[];return{add(n){const t=e[0];n!==t&&(t==null||t.pause()),e=Rd(e,n),e.unshift(n)},remove(n){var t;e=Rd(e,n),(t=e[0])==null||t.resume()}}}function Rd(e,n){const t=[...e],o=t.indexOf(n);return o!==-1&&t.splice(o,1),t}function Kb(e){return e.filter(n=>n.tagName!=="A")}var Hb=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],Zb=Hb.reduce((e,n)=>{const t=c.forwardRef((o,r)=>{const{asChild:a,...i}=o,s=a?Vt:n;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),g.jsx(s,{...i,ref:r})});return t.displayName=`Primitive.${n}`,{...e,[n]:t}},{}),Jb=globalThis!=null&&globalThis.document?c.useLayoutEffect:()=>{},Qb="Portal",Hm=c.forwardRef((e,n)=>{var s;const{container:t,...o}=e,[r,a]=c.useState(!1);Jb(()=>a(!0),[]);const i=t||r&&((s=globalThis==null?void 0:globalThis.document)==null?void 0:s.body);return i?qv.createPortal(g.jsx(Zb.div,{...o,ref:n}),i):null});Hm.displayName=Qb;var Nd=globalThis!=null&&globalThis.document?c.useLayoutEffect:()=>{};function Gb(e,n){return c.useReducer((t,o)=>n[t][o]??t,e)}var xi=e=>{const{present:n,children:t}=e,o=Xb(n),r=typeof t=="function"?t({present:o.isPresent}):c.Children.only(t),a=wi(o.ref,Yb(r));return typeof t=="function"||o.isPresent?c.cloneElement(r,{ref:a}):null};xi.displayName="Presence";function Xb(e){const[n,t]=c.useState(),o=c.useRef({}),r=c.useRef(e),a=c.useRef("none"),i=e?"mounted":"unmounted",[s,l]=Gb(i,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return c.useEffect(()=>{const u=pa(o.current);a.current=s==="mounted"?u:"none"},[s]),Nd(()=>{const u=o.current,d=r.current;if(d!==e){const v=a.current,z=pa(u);e?l("MOUNT"):z==="none"||(u==null?void 0:u.display)==="none"?l("UNMOUNT"):l(d&&v!==z?"ANIMATION_OUT":"UNMOUNT"),r.current=e}},[e,l]),Nd(()=>{if(n){let u;const d=n.ownerDocument.defaultView??window,p=z=>{const k=pa(o.current).includes(z.animationName);if(z.target===n&&k&&(l("ANIMATION_END"),!r.current)){const w=n.style.animationFillMode;n.style.animationFillMode="forwards",u=d.setTimeout(()=>{n.style.animationFillMode==="forwards"&&(n.style.animationFillMode=w)})}},v=z=>{z.target===n&&(a.current=pa(o.current))};return n.addEventListener("animationstart",v),n.addEventListener("animationcancel",p),n.addEventListener("animationend",p),()=>{d.clearTimeout(u),n.removeEventListener("animationstart",v),n.removeEventListener("animationcancel",p),n.removeEventListener("animationend",p)}}else l("ANIMATION_END")},[n,l]),{isPresent:["mounted","unmountSuspended"].includes(s),ref:c.useCallback(u=>{u&&(o.current=getComputedStyle(u)),t(u)},[])}}function pa(e){return(e==null?void 0:e.animationName)||"none"}function Yb(e){var o,r;let n=(o=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:o.get,t=n&&"isReactWarning"in n&&n.isReactWarning;return t?e.ref:(n=(r=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:r.get,t=n&&"isReactWarning"in n&&n.isReactWarning,t?e.props.ref:e.props.ref||e.ref)}var qb=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],Vr=qb.reduce((e,n)=>{const t=c.forwardRef((o,r)=>{const{asChild:a,...i}=o,s=a?Vt:n;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),g.jsx(s,{...i,ref:r})});return t.displayName=`Primitive.${n}`,{...e,[n]:t}},{}),cs=0;function eg(){c.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??Td()),document.body.insertAdjacentElement("beforeend",e[1]??Td()),cs++,()=>{cs===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(n=>n.remove()),cs--}},[])}function Td(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var Pn=function(){return Pn=Object.assign||function(n){for(var t,o=1,r=arguments.length;o<r;o++){t=arguments[o];for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(n[a]=t[a])}return n},Pn.apply(this,arguments)};function Zm(e,n){var t={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&n.indexOf(o)<0&&(t[o]=e[o]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,o=Object.getOwnPropertySymbols(e);r<o.length;r++)n.indexOf(o[r])<0&&Object.prototype.propertyIsEnumerable.call(e,o[r])&&(t[o[r]]=e[o[r]]);return t}function ng(e,n,t){if(t||arguments.length===2)for(var o=0,r=n.length,a;o<r;o++)(a||!(o in n))&&(a||(a=Array.prototype.slice.call(n,0,o)),a[o]=n[o]);return e.concat(a||Array.prototype.slice.call(n))}var Ra="right-scroll-bar-position",Na="width-before-scroll-bar",tg="with-scroll-bars-hidden",og="--removed-body-scroll-bar-size";function ds(e,n){return typeof e=="function"?e(n):e&&(e.current=n),e}function rg(e,n){var t=c.useState(function(){return{value:e,callback:n,facade:{get current(){return t.value},set current(o){var r=t.value;r!==o&&(t.value=o,t.callback(o,r))}}}})[0];return t.callback=n,t.facade}var ag=typeof window<"u"?c.useLayoutEffect:c.useEffect,_d=new WeakMap;function ig(e,n){var t=rg(null,function(o){return e.forEach(function(r){return ds(r,o)})});return ag(function(){var o=_d.get(t);if(o){var r=new Set(o),a=new Set(e),i=t.current;r.forEach(function(s){a.has(s)||ds(s,null)}),a.forEach(function(s){r.has(s)||ds(s,i)})}_d.set(t,e)},[e]),t}function sg(e){return e}function lg(e,n){n===void 0&&(n=sg);var t=[],o=!1,r={read:function(){if(o)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return t.length?t[t.length-1]:e},useMedium:function(a){var i=n(a,o);return t.push(i),function(){t=t.filter(function(s){return s!==i})}},assignSyncMedium:function(a){for(o=!0;t.length;){var i=t;t=[],i.forEach(a)}t={push:function(s){return a(s)},filter:function(){return t}}},assignMedium:function(a){o=!0;var i=[];if(t.length){var s=t;t=[],s.forEach(a),i=t}var l=function(){var d=i;i=[],d.forEach(a)},u=function(){return Promise.resolve().then(l)};u(),t={push:function(d){i.push(d),u()},filter:function(d){return i=i.filter(d),t}}}};return r}function ug(e){e===void 0&&(e={});var n=lg(null);return n.options=Pn({async:!0,ssr:!1},e),n}var Jm=function(e){var n=e.sideCar,t=Zm(e,["sideCar"]);if(!n)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var o=n.read();if(!o)throw new Error("Sidecar medium not found");return c.createElement(o,Pn({},t))};Jm.isSideCarExport=!0;function cg(e,n){return e.useMedium(n),Jm}var Qm=ug(),ps=function(){},Si=c.forwardRef(function(e,n){var t=c.useRef(null),o=c.useState({onScrollCapture:ps,onWheelCapture:ps,onTouchMoveCapture:ps}),r=o[0],a=o[1],i=e.forwardProps,s=e.children,l=e.className,u=e.removeScrollBar,d=e.enabled,p=e.shards,v=e.sideCar,z=e.noIsolation,j=e.inert,k=e.allowPinchZoom,w=e.as,f=w===void 0?"div":w,m=e.gapMode,h=Zm(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),x=v,P=ig([t,n]),_=Pn(Pn({},h),r);return c.createElement(c.Fragment,null,d&&c.createElement(x,{sideCar:Qm,removeScrollBar:u,shards:p,noIsolation:z,inert:j,setCallbacks:a,allowPinchZoom:!!k,lockRef:t,gapMode:m}),i?c.cloneElement(c.Children.only(s),Pn(Pn({},_),{ref:P})):c.createElement(f,Pn({},_,{className:l,ref:P}),s))});Si.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Si.classNames={fullWidth:Na,zeroRight:Ra};var dg=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function pg(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var n=dg();return n&&e.setAttribute("nonce",n),e}function vg(e,n){e.styleSheet?e.styleSheet.cssText=n:e.appendChild(document.createTextNode(n))}function mg(e){var n=document.head||document.getElementsByTagName("head")[0];n.appendChild(e)}var fg=function(){var e=0,n=null;return{add:function(t){e==0&&(n=pg())&&(vg(n,t),mg(n)),e++},remove:function(){e--,!e&&n&&(n.parentNode&&n.parentNode.removeChild(n),n=null)}}},kg=function(){var e=fg();return function(n,t){c.useEffect(function(){return e.add(n),function(){e.remove()}},[n&&t])}},Gm=function(){var e=kg(),n=function(t){var o=t.styles,r=t.dynamic;return e(o,r),null};return n},hg={left:0,top:0,right:0,gap:0},vs=function(e){return parseInt(e||"",10)||0},yg=function(e){var n=window.getComputedStyle(document.body),t=n[e==="padding"?"paddingLeft":"marginLeft"],o=n[e==="padding"?"paddingTop":"marginTop"],r=n[e==="padding"?"paddingRight":"marginRight"];return[vs(t),vs(o),vs(r)]},zg=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return hg;var n=yg(e),t=document.documentElement.clientWidth,o=window.innerWidth;return{left:n[0],top:n[1],right:n[2],gap:Math.max(0,o-t+n[2]-n[0])}},jg=Gm(),bo="data-scroll-locked",bg=function(e,n,t,o){var r=e.left,a=e.top,i=e.right,s=e.gap;return t===void 0&&(t="margin"),`
  .`.concat(tg,` {
   overflow: hidden `).concat(o,`;
   padding-right: `).concat(s,"px ").concat(o,`;
  }
  body[`).concat(bo,`] {
    overflow: hidden `).concat(o,`;
    overscroll-behavior: contain;
    `).concat([n&&"position: relative ".concat(o,";"),t==="margin"&&`
    padding-left: `.concat(r,`px;
    padding-top: `).concat(a,`px;
    padding-right: `).concat(i,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(s,"px ").concat(o,`;
    `),t==="padding"&&"padding-right: ".concat(s,"px ").concat(o,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Ra,` {
    right: `).concat(s,"px ").concat(o,`;
  }
  
  .`).concat(Na,` {
    margin-right: `).concat(s,"px ").concat(o,`;
  }
  
  .`).concat(Ra," .").concat(Ra,` {
    right: 0 `).concat(o,`;
  }
  
  .`).concat(Na," .").concat(Na,` {
    margin-right: 0 `).concat(o,`;
  }
  
  body[`).concat(bo,`] {
    `).concat(og,": ").concat(s,`px;
  }
`)},Md=function(){var e=parseInt(document.body.getAttribute(bo)||"0",10);return isFinite(e)?e:0},gg=function(){c.useEffect(function(){return document.body.setAttribute(bo,(Md()+1).toString()),function(){var e=Md()-1;e<=0?document.body.removeAttribute(bo):document.body.setAttribute(bo,e.toString())}},[])},wg=function(e){var n=e.noRelative,t=e.noImportant,o=e.gapMode,r=o===void 0?"margin":o;gg();var a=c.useMemo(function(){return zg(r)},[r]);return c.createElement(jg,{styles:bg(a,!n,r,t?"":"!important")})},yl=!1;if(typeof window<"u")try{var va=Object.defineProperty({},"passive",{get:function(){return yl=!0,!0}});window.addEventListener("test",va,va),window.removeEventListener("test",va,va)}catch{yl=!1}var Qt=yl?{passive:!1}:!1,xg=function(e){return e.tagName==="TEXTAREA"},Xm=function(e,n){if(!(e instanceof Element))return!1;var t=window.getComputedStyle(e);return t[n]!=="hidden"&&!(t.overflowY===t.overflowX&&!xg(e)&&t[n]==="visible")},Sg=function(e){return Xm(e,"overflowY")},Eg=function(e){return Xm(e,"overflowX")},Od=function(e,n){var t=n.ownerDocument,o=n;do{typeof ShadowRoot<"u"&&o instanceof ShadowRoot&&(o=o.host);var r=Ym(e,o);if(r){var a=qm(e,o),i=a[1],s=a[2];if(i>s)return!0}o=o.parentNode}while(o&&o!==t.body);return!1},Pg=function(e){var n=e.scrollTop,t=e.scrollHeight,o=e.clientHeight;return[n,t,o]},Cg=function(e){var n=e.scrollLeft,t=e.scrollWidth,o=e.clientWidth;return[n,t,o]},Ym=function(e,n){return e==="v"?Sg(n):Eg(n)},qm=function(e,n){return e==="v"?Pg(n):Cg(n)},Rg=function(e,n){return e==="h"&&n==="rtl"?-1:1},Ng=function(e,n,t,o,r){var a=Rg(e,window.getComputedStyle(n).direction),i=a*o,s=t.target,l=n.contains(s),u=!1,d=i>0,p=0,v=0;do{var z=qm(e,s),j=z[0],k=z[1],w=z[2],f=k-w-a*j;(j||f)&&Ym(e,s)&&(p+=f,v+=j),s instanceof ShadowRoot?s=s.host:s=s.parentNode}while(!l&&s!==document.body||l&&(n.contains(s)||n===s));return(d&&(Math.abs(p)<1||!r)||!d&&(Math.abs(v)<1||!r))&&(u=!0),u},ma=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},Dd=function(e){return[e.deltaX,e.deltaY]},Ld=function(e){return e&&"current"in e?e.current:e},Tg=function(e,n){return e[0]===n[0]&&e[1]===n[1]},_g=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},Mg=0,Gt=[];function Og(e){var n=c.useRef([]),t=c.useRef([0,0]),o=c.useRef(),r=c.useState(Mg++)[0],a=c.useState(Gm)[0],i=c.useRef(e);c.useEffect(function(){i.current=e},[e]),c.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(r));var k=ng([e.lockRef.current],(e.shards||[]).map(Ld),!0).filter(Boolean);return k.forEach(function(w){return w.classList.add("allow-interactivity-".concat(r))}),function(){document.body.classList.remove("block-interactivity-".concat(r)),k.forEach(function(w){return w.classList.remove("allow-interactivity-".concat(r))})}}},[e.inert,e.lockRef.current,e.shards]);var s=c.useCallback(function(k,w){if("touches"in k&&k.touches.length===2||k.type==="wheel"&&k.ctrlKey)return!i.current.allowPinchZoom;var f=ma(k),m=t.current,h="deltaX"in k?k.deltaX:m[0]-f[0],x="deltaY"in k?k.deltaY:m[1]-f[1],P,_=k.target,y=Math.abs(h)>Math.abs(x)?"h":"v";if("touches"in k&&y==="h"&&_.type==="range")return!1;var R=Od(y,_);if(!R)return!0;if(R?P=y:(P=y==="v"?"h":"v",R=Od(y,_)),!R)return!1;if(!o.current&&"changedTouches"in k&&(h||x)&&(o.current=P),!P)return!0;var L=o.current||P;return Ng(L,w,k,L==="h"?h:x,!0)},[]),l=c.useCallback(function(k){var w=k;if(!(!Gt.length||Gt[Gt.length-1]!==a)){var f="deltaY"in w?Dd(w):ma(w),m=n.current.filter(function(P){return P.name===w.type&&(P.target===w.target||w.target===P.shadowParent)&&Tg(P.delta,f)})[0];if(m&&m.should){w.cancelable&&w.preventDefault();return}if(!m){var h=(i.current.shards||[]).map(Ld).filter(Boolean).filter(function(P){return P.contains(w.target)}),x=h.length>0?s(w,h[0]):!i.current.noIsolation;x&&w.cancelable&&w.preventDefault()}}},[]),u=c.useCallback(function(k,w,f,m){var h={name:k,delta:w,target:f,should:m,shadowParent:Dg(f)};n.current.push(h),setTimeout(function(){n.current=n.current.filter(function(x){return x!==h})},1)},[]),d=c.useCallback(function(k){t.current=ma(k),o.current=void 0},[]),p=c.useCallback(function(k){u(k.type,Dd(k),k.target,s(k,e.lockRef.current))},[]),v=c.useCallback(function(k){u(k.type,ma(k),k.target,s(k,e.lockRef.current))},[]);c.useEffect(function(){return Gt.push(a),e.setCallbacks({onScrollCapture:p,onWheelCapture:p,onTouchMoveCapture:v}),document.addEventListener("wheel",l,Qt),document.addEventListener("touchmove",l,Qt),document.addEventListener("touchstart",d,Qt),function(){Gt=Gt.filter(function(k){return k!==a}),document.removeEventListener("wheel",l,Qt),document.removeEventListener("touchmove",l,Qt),document.removeEventListener("touchstart",d,Qt)}},[]);var z=e.removeScrollBar,j=e.inert;return c.createElement(c.Fragment,null,j?c.createElement(a,{styles:_g(r)}):null,z?c.createElement(wg,{gapMode:e.gapMode}):null)}function Dg(e){for(var n=null;e!==null;)e instanceof ShadowRoot&&(n=e.host,e=e.host),e=e.parentNode;return n}const Lg=cg(Qm,Og);var ef=c.forwardRef(function(e,n){return c.createElement(Si,Pn({},e,{ref:n,sideCar:Lg}))});ef.classNames=Si.classNames;var Ag=function(e){if(typeof document>"u")return null;var n=Array.isArray(e)?e[0]:e;return n.ownerDocument.body},Xt=new WeakMap,fa=new WeakMap,ka={},ms=0,nf=function(e){return e&&(e.host||nf(e.parentNode))},Ig=function(e,n){return n.map(function(t){if(e.contains(t))return t;var o=nf(t);return o&&e.contains(o)?o:(console.error("aria-hidden",t,"in not contained inside",e,". Doing nothing"),null)}).filter(function(t){return!!t})},Fg=function(e,n,t,o){var r=Ig(n,Array.isArray(e)?e:[e]);ka[t]||(ka[t]=new WeakMap);var a=ka[t],i=[],s=new Set,l=new Set(r),u=function(p){!p||s.has(p)||(s.add(p),u(p.parentNode))};r.forEach(u);var d=function(p){!p||l.has(p)||Array.prototype.forEach.call(p.children,function(v){if(s.has(v))d(v);else try{var z=v.getAttribute(o),j=z!==null&&z!=="false",k=(Xt.get(v)||0)+1,w=(a.get(v)||0)+1;Xt.set(v,k),a.set(v,w),i.push(v),k===1&&j&&fa.set(v,!0),w===1&&v.setAttribute(t,"true"),j||v.setAttribute(o,"true")}catch(f){console.error("aria-hidden: cannot operate on ",v,f)}})};return d(n),s.clear(),ms++,function(){i.forEach(function(p){var v=Xt.get(p)-1,z=a.get(p)-1;Xt.set(p,v),a.set(p,z),v||(fa.has(p)||p.removeAttribute(o),fa.delete(p)),z||p.removeAttribute(t)}),ms--,ms||(Xt=new WeakMap,Xt=new WeakMap,fa=new WeakMap,ka={})}},$g=function(e,n,t){t===void 0&&(t="data-aria-hidden");var o=Array.from(Array.isArray(e)?e:[e]),r=Ag(e);return r?(o.push.apply(o,Array.from(r.querySelectorAll("[aria-live]"))),Fg(o,r,t,"aria-hidden")):function(){return null}},gu="Dialog",[tf,k0]=kb(gu),[Ug,gn]=tf(gu),of=e=>{const{__scopeDialog:n,children:t,open:o,defaultOpen:r,onOpenChange:a,modal:i=!0}=e,s=c.useRef(null),l=c.useRef(null),[u=!1,d]=bb({prop:o,defaultProp:r,onChange:a});return g.jsx(Ug,{scope:n,triggerRef:s,contentRef:l,contentId:is(),titleId:is(),descriptionId:is(),open:u,onOpenChange:d,onOpenToggle:c.useCallback(()=>d(p=>!p),[d]),modal:i,children:t})};of.displayName=gu;var rf="DialogTrigger",af=c.forwardRef((e,n)=>{const{__scopeDialog:t,...o}=e,r=gn(rf,t),a=wi(n,r.triggerRef);return g.jsx(Vr.button,{type:"button","aria-haspopup":"dialog","aria-expanded":r.open,"aria-controls":r.contentId,"data-state":Su(r.open),...o,ref:a,onClick:fr(e.onClick,r.onOpenToggle)})});af.displayName=rf;var wu="DialogPortal",[Vg,sf]=tf(wu,{forceMount:void 0}),lf=e=>{const{__scopeDialog:n,forceMount:t,children:o,container:r}=e,a=gn(wu,n);return g.jsx(Vg,{scope:n,forceMount:t,children:c.Children.map(o,i=>g.jsx(xi,{present:t||a.open,children:g.jsx(Hm,{asChild:!0,container:r,children:i})}))})};lf.displayName=wu;var oi="DialogOverlay",uf=c.forwardRef((e,n)=>{const t=sf(oi,e.__scopeDialog),{forceMount:o=t.forceMount,...r}=e,a=gn(oi,e.__scopeDialog);return a.modal?g.jsx(xi,{present:o||a.open,children:g.jsx(Bg,{...r,ref:n})}):null});uf.displayName=oi;var Bg=c.forwardRef((e,n)=>{const{__scopeDialog:t,...o}=e,r=gn(oi,t);return g.jsx(ef,{as:Vt,allowPinchZoom:!0,shards:[r.contentRef],children:g.jsx(Vr.div,{"data-state":Su(r.open),...o,ref:n,style:{pointerEvents:"auto",...o.style}})})}),Ft="DialogContent",cf=c.forwardRef((e,n)=>{const t=sf(Ft,e.__scopeDialog),{forceMount:o=t.forceMount,...r}=e,a=gn(Ft,e.__scopeDialog);return g.jsx(xi,{present:o||a.open,children:a.modal?g.jsx(Wg,{...r,ref:n}):g.jsx(Kg,{...r,ref:n})})});cf.displayName=Ft;var Wg=c.forwardRef((e,n)=>{const t=gn(Ft,e.__scopeDialog),o=c.useRef(null),r=wi(n,t.contentRef,o);return c.useEffect(()=>{const a=o.current;if(a)return $g(a)},[]),g.jsx(df,{...e,ref:r,trapFocus:t.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:fr(e.onCloseAutoFocus,a=>{var i;a.preventDefault(),(i=t.triggerRef.current)==null||i.focus()}),onPointerDownOutside:fr(e.onPointerDownOutside,a=>{const i=a.detail.originalEvent,s=i.button===0&&i.ctrlKey===!0;(i.button===2||s)&&a.preventDefault()}),onFocusOutside:fr(e.onFocusOutside,a=>a.preventDefault())})}),Kg=c.forwardRef((e,n)=>{const t=gn(Ft,e.__scopeDialog),o=c.useRef(!1),r=c.useRef(!1);return g.jsx(df,{...e,ref:n,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:a=>{var i,s;(i=e.onCloseAutoFocus)==null||i.call(e,a),a.defaultPrevented||(o.current||(s=t.triggerRef.current)==null||s.focus(),a.preventDefault()),o.current=!1,r.current=!1},onInteractOutside:a=>{var l,u;(l=e.onInteractOutside)==null||l.call(e,a),a.defaultPrevented||(o.current=!0,a.detail.originalEvent.type==="pointerdown"&&(r.current=!0));const i=a.target;((u=t.triggerRef.current)==null?void 0:u.contains(i))&&a.preventDefault(),a.detail.originalEvent.type==="focusin"&&r.current&&a.preventDefault()}})}),df=c.forwardRef((e,n)=>{const{__scopeDialog:t,trapFocus:o,onOpenAutoFocus:r,onCloseAutoFocus:a,...i}=e,s=gn(Ft,t),l=c.useRef(null),u=wi(n,l);return eg(),g.jsxs(g.Fragment,{children:[g.jsx(Wm,{asChild:!0,loop:!0,trapped:o,onMountAutoFocus:r,onUnmountAutoFocus:a,children:g.jsx(Vm,{role:"dialog",id:s.contentId,"aria-describedby":s.descriptionId,"aria-labelledby":s.titleId,"data-state":Su(s.open),...i,ref:u,onDismiss:()=>s.onOpenChange(!1)})}),g.jsxs(g.Fragment,{children:[g.jsx(Hg,{titleId:s.titleId}),g.jsx(Jg,{contentRef:l,descriptionId:s.descriptionId})]})]})}),xu="DialogTitle",pf=c.forwardRef((e,n)=>{const{__scopeDialog:t,...o}=e,r=gn(xu,t);return g.jsx(Vr.h2,{id:r.titleId,...o,ref:n})});pf.displayName=xu;var vf="DialogDescription",mf=c.forwardRef((e,n)=>{const{__scopeDialog:t,...o}=e,r=gn(vf,t);return g.jsx(Vr.p,{id:r.descriptionId,...o,ref:n})});mf.displayName=vf;var ff="DialogClose",kf=c.forwardRef((e,n)=>{const{__scopeDialog:t,...o}=e,r=gn(ff,t);return g.jsx(Vr.button,{type:"button",...o,ref:n,onClick:fr(e.onClick,()=>r.onOpenChange(!1))})});kf.displayName=ff;function Su(e){return e?"open":"closed"}var hf="DialogTitleWarning",[h0,yf]=fb(hf,{contentName:Ft,titleName:xu,docsSlug:"dialog"}),Hg=({titleId:e})=>{const n=yf(hf),t=`\`${n.contentName}\` requires a \`${n.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${n.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${n.docsSlug}`;return c.useEffect(()=>{e&&(document.getElementById(e)||console.error(t))},[t,e]),null},Zg="DialogDescriptionWarning",Jg=({contentRef:e,descriptionId:n})=>{const o=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${yf(Zg).contentName}}.`;return c.useEffect(()=>{var a;const r=(a=e.current)==null?void 0:a.getAttribute("aria-describedby");n&&r&&(document.getElementById(n)||console.warn(o))},[o,e,n]),null},Qg=of,Gg=af,Xg=lf,zf=uf,jf=cf,bf=pf,gf=mf,Yg=kf;const qg=Qg,e0=Gg,n0=Xg,wf=c.forwardRef(({className:e,...n},t)=>g.jsx(zf,{ref:t,className:Bn("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...n}));wf.displayName=zf.displayName;const xf=c.forwardRef(({className:e,children:n,...t},o)=>g.jsxs(n0,{children:[g.jsx(wf,{}),g.jsxs(jf,{ref:o,className:Bn("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...t,children:[n,g.jsxs(Yg,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[g.jsx(um,{className:"h-4 w-4"}),g.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));xf.displayName=jf.displayName;const Sf=({className:e,...n})=>g.jsx("div",{className:Bn("flex flex-col space-y-1.5 text-center sm:text-left",e),...n});Sf.displayName="DialogHeader";const Ef=c.forwardRef(({className:e,...n},t)=>g.jsx(bf,{ref:t,className:Bn("text-lg font-semibold leading-none tracking-tight",e),...n}));Ef.displayName=bf.displayName;const Pf=c.forwardRef(({className:e,...n},t)=>g.jsx(gf,{ref:t,className:Bn("text-sm text-muted-foreground",e),...n}));Pf.displayName=gf.displayName;function Ei({title:e,correct:n,incorrect:t,refresh:o}){const[r,a]=c.useState(!1),[i,s]=c.useState(new Array(n.length+t.length).fill(!1)),l=c.useMemo(()=>(s(new Array(n.length+t.length).fill(!1)),qy([...n,...t])),[n,t]);return g.jsxs("div",{className:"flex flex-col gap-4",children:[g.jsxs("div",{children:[g.jsx("h2",{className:"text-2xl",children:e}),g.jsxs("p",{className:"font-medium text-sm",children:["Zaškrtněte správné výroky(",n.length,")"]})]}),g.jsx("div",{children:l.map((u,d)=>g.jsx(t0,{statement:u,type:n.find(p=>p.uuid==u.uuid)?"correct":"incorrect",submited:r,checked:i[d],onChange:p=>{const v=[...i];v[d]=p,s(v)}},ez(u.uuid)))}),g.jsx(Ln,{className:"w-full",onClick:()=>{r?(a(!1),o()):a(!0)},children:r?"Další otázka":"Odeslat"}),g.jsx("div",{className:"w-full flex justify-end",children:g.jsx(o0,{})})]})}function t0({statement:e,type:n,submited:t,checked:o,onChange:r}){const[a,i]=c.useState(n=="correct");return g.jsxs("div",{className:Bn(["p-2 flex gap-2 items-center",t&&(n=="correct"?"bg-green-200":"bg-red-200"),t?"cursor-default":"cursor-pointer",t?n=="correct"?"hover:bg-green-300":"hover:bg-red-300":"hover:bg-gray-200"]),onClick:()=>{t||r(!o)},children:[g.jsx(Lm,{id:e.uuid,name:n,disabled:t,checked:o}),g.jsxs("div",{className:"flex-1",children:[g.jsx("p",{className:"whitespace-pre-wrap",children:a?e.correct:e.incorrect}),t&&n=="incorrect"&&g.jsxs("div",{className:"flex items-center pt-2 gap-2 select-none",children:[g.jsx("p",{onMouseDown:()=>i(s=>!s),className:"font-bold underline italic cursor-pointer",children:a?"zobrazit nesprávnou":"zobrazit správnou"}),g.jsx("p",{className:"text-gray-600",children:a?"(Zobrazuje se správna odpověď)":"(Zobrazuje se nesprávna odpověď)"})]})]}),t&&o&&(n=="correct"?g.jsx("span",{children:g.jsx(lm,{className:"w-10 h-10"})}):g.jsx("span",{children:g.jsx(um,{className:"w-10 h-10"})}))]})}function o0(){return g.jsxs(qg,{children:[g.jsx(e0,{asChild:!0,children:g.jsx(Ln,{variant:"outline",children:"Nahlásit chybu"})}),g.jsx(xf,{children:g.jsxs(Sf,{children:[g.jsx(Ef,{children:"Vyberte si jak nahlásit chybu"}),g.jsxs(Pf,{children:["Nahlášení chyby můžete provést buď přes Discord nebo přes Github.",g.jsx("br",{}),g.jsx("br",{}),"Pokud chcete nahlásit chybu přes Discord, pripojte se na náš server a napište nám (",g.jsxs("a",{href:"https://discord.gg/ztabDQ4jNv",className:"underline text-foreground hover:text-blue-500",target:"_blank",children:["link pro připojení",g.jsx(jo,{className:"w-3 h-3 inline self-center"})]}),").",g.jsx("br",{}),g.jsx("br",{}),"Pokud chcete nahlásit chybu přes Github, vytvořte issue(",g.jsxs("a",{href:"https://github.com/tomz197/os-drill/issues/new",className:"underline text-foreground hover:text-blue-500",target:"_blank",children:["link pro vytoření issue",g.jsx(jo,{className:"w-3 h-3 inline self-center"})]}),")."]})]})})]})}function r0(){const{sectionUUID:e}=wm(),[n,t]=c.useState(null),[o,r]=c.useState([]),[a,i]=c.useState([]);c.useEffect(()=>{if(!e){console.error("Section not found"),Cn("/");return}const[l,u]=ml.getSingleSection({uuid:e});if(u){console.error("Section not found"),Cn("/");return}t(l)},[e]);const s=c.useCallback(()=>{if(!e){console.error("Section or name not found"),Cn("/");return}const[l,u]=ml.getRandomStatements({count:5,sections:[e]});if(u){console.error("Statements not found"),Cn("/");return}r(l.slice(0,2)),i(l.slice(2,5))},[n]);return c.useEffect(()=>{s()},[s]),!o||!a||!n?null:g.jsx(Ei,{title:n==null?void 0:n.title,correct:o,incorrect:a,refresh:s})}function a0(){const[e,n]=c.useState([]),[t,o]=c.useState([]),r=c.useCallback(()=>{const[a,i]=ml.getRandomStatements({count:5});if(i){console.error("Statements not found"),Cn("/");return}n(a.slice(0,2)),o(a.slice(2,5))},[]);return c.useEffect(()=>{r()},[r]),!e||!t?null:g.jsx(Ei,{title:"Všechny části",correct:e,incorrect:t,refresh:r})}function i0(){return g.jsxs("div",{className:"max-w-prose w-full mx-auto",children:[g.jsx("h1",{className:"text-xl font-semibold text-center",children:"O nás"}),g.jsx("div",{className:"h-[0.1rem] w-full bg-border rounded-full my-4"}),g.jsxs("div",{className:"grid gap-2",children:[g.jsxs("p",{className:"inline",children:["Táto aplikácia bola vytvorená"," ",g.jsxs("a",{href:"https://zifcak.dev",target:"_blank",className:"underline hover:text-blue-500",children:["Tomášom Žifčákom",g.jsx(jo,{className:"w-3 h-3 inline self-center"})]})," ","pretože neexistoval žiadny spôsob ako si preveriť svoje znalosti z predmetu PB152(Operačné systémy) v zkúškovej/zápočtovej forme."]}),g.jsxs("p",{children:["Kód tejto aplikácie je otvorený a dostupný na"," ",g.jsxs("a",{href:"https://github.com/tomz197/os-drill",className:"underline hover:text-blue-500",target:"_blank",children:["Githube",g.jsx(jo,{className:"w-3 h-3 inline self-center"})]}),"."]}),g.jsxs("p",{children:["V prípade akýchkoľvek problémov, nápadov na vylepšenie alebo akýchkoľvek otázok napíš na"," ",g.jsxs("a",{href:"https://discord.gg/ztabDQ4jNv",className:"underline hover:text-blue-500",target:"_blank",children:["Discord",g.jsx(jo,{className:"w-3 h-3 inline self-center"})]})," ","alebo vytvor issue, pull request alebo diskusiu na Githube."]}),g.jsx("p",{className:"font-semibold",children:"Každá pomoc je vítaná!"})]})]})}function s0({uuid:e}){const n=Do.find(t=>t.uuid===e);return n?[n,null]:[null,new Error("Section not found")]}function l0(){return[Do,null]}function u0({uuid:e}){const n=Do.map(t=>t.statements).flat().find(t=>t.uuid===e);return n?[n,null]:[null,new Error("Statement not found")]}function c0(){return[Do.map(n=>n.statements).flat(),null]}function d0({count:e=5,sections:n}){const o=Do.filter(a=>n?n.includes(a.uuid):!0).map(a=>a.statements).flat();return o.length<e?[null,new Error("Not enough statements")]:[o.sort(()=>Math.random()-.5).slice(0,e),null]}const zl={getSingleSection:s0,getAllSections:l0,getSingleStatement:u0,getAllStatements:c0,getRandomStatements:d0};function p0(){const{sectionUUID:e}=wm(),[n,t]=c.useState(null),[o,r]=c.useState([]),[a,i]=c.useState([]);c.useEffect(()=>{if(!e){console.error("Section not found"),Cn("/");return}const[l,u]=zl.getSingleSection({uuid:e});if(u){console.error("Section not found"),Cn("/");return}t(l)},[e]);const s=c.useCallback(()=>{if(!e){console.error("Section or name not found"),Cn("/");return}const[l,u]=zl.getRandomStatements({count:5,sections:[e]});if(u){console.error("Statements not found"),Cn("/");return}r(l.slice(0,2)),i(l.slice(2,5))},[n]);return c.useEffect(()=>{s()},[s]),!o||!a||!n?null:g.jsx(Ei,{title:n==null?void 0:n.title,correct:o,incorrect:a,refresh:s})}function v0(){const[e,n]=c.useState([]),[t,o]=c.useState([]),r=c.useCallback(()=>{const[a,i]=zl.getRandomStatements({count:5});if(i){console.error("Statements not found"),Cn("/");return}n(a.slice(0,2)),o(a.slice(2,5))},[]);return c.useEffect(()=>{r()},[r]),!e||!t?null:g.jsx(Ei,{title:"Všechny části",correct:e,incorrect:t,refresh:r})}const m0=Ej([{path:"/",element:g.jsx($j,{}),children:[{path:"",element:g.jsx(Uj,{})},{path:"about",element:g.jsx(i0,{})},{path:"exam/:sectionUUID",element:g.jsx(p0,{})},{path:"exam",element:g.jsx(v0,{})},{path:"credit/:sectionUUID",element:g.jsx(r0,{})},{path:"credit",element:g.jsx(a0,{})}]}],{basename:"/"});fs.createRoot(document.getElementById("root")).render(g.jsx(Qd.StrictMode,{children:g.jsx(Dj,{router:m0})}));
